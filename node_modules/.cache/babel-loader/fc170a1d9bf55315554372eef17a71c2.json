{"remainingRequest":"C:\\k1-services\\node_modules\\babel-loader\\lib\\index.js!C:\\k1-services\\node_modules\\cache-loader\\dist\\cjs.js??ref--1-0!C:\\k1-services\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\k1-services\\src\\pages\\funcionarios\\views\\Ferias.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\k1-services\\src\\pages\\funcionarios\\views\\Ferias.vue","mtime":1670977910628},{"path":"C:\\k1-services\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1670977934221},{"path":"C:\\k1-services\\node_modules\\babel-loader\\lib\\index.js","mtime":1670977935138},{"path":"C:\\k1-services\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1670977934221},{"path":"C:\\k1-services\\node_modules\\vue-loader\\lib\\index.js","mtime":1670977935327}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkucmVkdWNlLmpzIjsKLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KaW1wb3J0IHsgbWFwR2V0dGVycywgbWFwQWN0aW9ucyB9IGZyb20gInZ1ZXgiOwpleHBvcnQgZGVmYXVsdCB7CiAgbmFtZTogIkZlcmlhcyIsCgogIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICBmaWVsZHM6IFsiaW5pY2lhbCIsICJmaW5hbCIsICJkaWFzIl0KICAgIH07CiAgfSwKCiAgYmVmb3JlTW91bnQoKSB7CiAgICB0aGlzLmFjdGZlcmlhc2J1c2NhcigpOwogIH0sCgogIGNvbXB1dGVkOiB7IC4uLm1hcEdldHRlcnMoWyJndHhmZXJpYXNEYXRhIiwgInN5c2RhdGUiXSksCgogICAgZmVyaWFzKCkgewogICAgICBjb25zdCBhbm9zID0gW107CiAgICAgIHRoaXMuZ3R4ZmVyaWFzRGF0YS5tYXAoZiA9PiB7CiAgICAgICAgaWYgKCFhbm9zLmZpbmQoYSA9PiBhLmFubyA9PSBmLmFubykpIHsKICAgICAgICAgIGFub3MucHVzaCh7CiAgICAgICAgICAgIGFubzogZi5hbm8sCiAgICAgICAgICAgIGRhdGE6IHRoaXMuZ3R4ZmVyaWFzRGF0YS5maWx0ZXIociA9PiByLmFubyA9PSBmLmFubykKICAgICAgICAgIH0pOwogICAgICAgIH0KICAgICAgfSk7CiAgICAgIHJldHVybiBhbm9zLnJldmVyc2UoKTsKICAgIH0KCiAgfSwKICBtZXRob2RzOiB7IC4uLm1hcEFjdGlvbnMoWyJhY3RmZXJpYXNidXNjYXIiXSksCgogICAgdG90YWxkaWFzKGRhdGEpIHsKICAgICAgcmV0dXJuIGRhdGEucmVkdWNlKChhLCBiKSA9PiBwYXJzZUludChhKSArIHBhcnNlSW50KGIuZGlhcyksIDApOwogICAgfQoKICB9Cn07"},{"version":3,"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA0DA;AACA;EACAA,cADA;;EAGAC;IACA;MACAC;IADA;EAGA,CAPA;;EASAC;IACA;EACA,CAXA;;EAaAC,YACA,2CADA;;IAEAC;MACA;MACA;QACA;UACAC;YACAC,UADA;YAEAN;UAFA;QAIA;MACA,CAPA;MAQA;IACA;;EAbA,CAbA;EA6BAO,WACA,kCADA;;IAEAC;MACA;IACA;;EAJA;AA7BA","names":["name","data","fields","beforeMount","computed","ferias","anos","ano","methods","totaldias"],"sourceRoot":"src/pages/funcionarios/views","sources":["Ferias.vue"],"sourcesContent":["<template>\r\n  <div class=\"container mt-2\">\r\n    <b-card>\r\n      <template #header>\r\n        <h4 class=\"mb-0\">FÃ©rias</h4>\r\n      </template>\r\n      <b-card-body>\r\n        <div class=\"accordion\" role=\"tablist\">\r\n          <b-card v-for=\"f of ferias\" :key=\"f.id\" no-body>\r\n            <b-card-header header-tag=\"header\" class=\"p-1\" role=\"tab\">\r\n              <b-button block v-b-toggle=\"f.ano\" variant=\"info\">\r\n                {{ f.ano }} - {{ totaldias(f.data) }} dias</b-button\r\n              >\r\n            </b-card-header>\r\n            <b-collapse\r\n              :id=\"f.ano\"\r\n              accordion=\"ferias\"\r\n              role=\"tabpanel\"\r\n              :visible=\"sysdate.year - 2 == f.ano\"\r\n            >\r\n              <b-card-text>\r\n                <b-table\r\n                  hover\r\n                  striped\r\n                  small\r\n                  foot-clone\r\n                  :items=\"f.data\"\r\n                  :fields=\"fields\"\r\n                >\r\n                  <template #cell(inicial)=\"data\">\r\n                    <span\r\n                      >{{ data.item.inicial | dateBR }} -\r\n                      {{ data.item.inicial | weekname }}</span\r\n                    >\r\n                  </template>\r\n                  <template #cell(final)=\"data\">\r\n                    <span\r\n                      >{{ data.item.final | dateBR }} -\r\n                      {{ data.item.final | weekname }}</span\r\n                    >\r\n                  </template>\r\n                  <template #foot()=\"data\">\r\n                    <span></span>\r\n                  </template>\r\n                  <template #foot(dias)=\"data\">\r\n                    <span>{{ totaldias(f.data) }}</span>\r\n                  </template>\r\n                </b-table>\r\n              </b-card-text>\r\n            </b-collapse>\r\n          </b-card>\r\n        </div>\r\n      </b-card-body>\r\n    </b-card>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { mapGetters, mapActions } from \"vuex\";\r\nexport default {\r\n  name: \"Ferias\",\r\n\r\n  data() {\r\n    return {\r\n      fields: [\"inicial\", \"final\", \"dias\"],\r\n    };\r\n  },\r\n\r\n  beforeMount() {\r\n    this.actferiasbuscar();\r\n  },\r\n\r\n  computed: {\r\n    ...mapGetters([\"gtxferiasData\", \"sysdate\"]),\r\n    ferias() {\r\n      const anos = [];\r\n      this.gtxferiasData.map((f) => {\r\n        if (!anos.find((a) => a.ano == f.ano)) {\r\n          anos.push({\r\n            ano: f.ano,\r\n            data: this.gtxferiasData.filter((r) => r.ano == f.ano),\r\n          });\r\n        }\r\n      });\r\n      return anos.reverse();\r\n    },\r\n  },\r\n\r\n  methods: {\r\n    ...mapActions([\"actferiasbuscar\"]),\r\n    totaldias(data) {\r\n      return data.reduce((a, b) => parseInt(a) + parseInt(b.dias), 0);\r\n    },\r\n  },\r\n};\r\n</script>\r\n\r\n<style scoped></style>\r\n"]}]}