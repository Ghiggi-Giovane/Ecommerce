{"remainingRequest":"C:\\k1-services\\node_modules\\babel-loader\\lib\\index.js!C:\\k1-services\\node_modules\\cache-loader\\dist\\cjs.js??ref--1-0!C:\\k1-services\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\k1-services\\src\\pages\\almoxarifado\\components\\GaiolasItensBusca.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\k1-services\\src\\pages\\almoxarifado\\components\\GaiolasItensBusca.vue","mtime":1670977910598},{"path":"C:\\k1-services\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1670977934221},{"path":"C:\\k1-services\\node_modules\\babel-loader\\lib\\index.js","mtime":1670977935138},{"path":"C:\\k1-services\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1670977934221},{"path":"C:\\k1-services\\node_modules\\vue-loader\\lib\\index.js","mtime":1670977935327}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KaW1wb3J0IHsgbWFwQWN0aW9ucywgbWFwR2V0dGVycyB9IGZyb20gInZ1ZXgiOyAvLyBpbXBvcnQgSW5wdXRTZWFyY2gyIGZyb20gIi4uLy4uLy4uL2NvbXBvbmVudHMvSW5wdXRTZWFyY2gyIjsKCmV4cG9ydCBkZWZhdWx0IHsKICBuYW1lOiAiR2Fpb2xhc0l0ZW5zQnVzY2EiLAogIC8vICBjb21wb25lbnRzOiB7CiAgLy8gICAgSW5wdXRTZWFyY2gyLAogIC8vICB9LAogIHByb3BzOiB7CiAgICB2YWx1ZTogewogICAgICB0eXBlOiBPYmplY3QsCgogICAgICBkZWZhdWx0KCkgewogICAgICAgIHJldHVybiB7CiAgICAgICAgICBjb2RpZ286ICIwIiwKICAgICAgICAgIGVuZGVyZWNvOiAiMCIsCiAgICAgICAgICBlbXA6ICIwIiwKICAgICAgICAgIGRlcDogIjAiLAogICAgICAgICAgaXRlbTogW10sCiAgICAgICAgICBxdWFudDogIjAiLAogICAgICAgICAgZGVsZXRhOiAiMCIsCiAgICAgICAgICBuaXZlbDogIjEiCiAgICAgICAgfTsKICAgICAgfQoKICAgIH0sCiAgICBwYXJhbXM6IHsKICAgICAgdHlwZTogT2JqZWN0LAoKICAgICAgZGVmYXVsdCgpIHsKICAgICAgICByZXR1cm4gewogICAgICAgICAgaXRlbnM6IFtdLAogICAgICAgICAgZ2Fpb2xhOiAwLAogICAgICAgICAgZW5kZXJlY286IDAsCiAgICAgICAgICBlbXByZXNhOiAiMCIsCiAgICAgICAgICBkZXBvc2l0bzogIjAiCiAgICAgICAgfTsKICAgICAgfQoKICAgIH0sCiAgICBtYXRlcmlhaXM6IHsKICAgICAgdHlwZTogQXJyYXksCgogICAgICBkZWZhdWx0KCkgewogICAgICAgIHJldHVybiBbXTsKICAgICAgfQoKICAgIH0sCiAgICBydW46IHsKICAgICAgdHlwZTogTnVtYmVyLAoKICAgICAgZGVmYXVsdCgpIHsKICAgICAgICByZXR1cm4gMDsKICAgICAgfQoKICAgIH0sCiAgICBhdXRvcGVzcXVpc2E6IHsKICAgICAgdHlwZTogQm9vbGVhbiwKCiAgICAgIGRlZmF1bHQoKSB7CiAgICAgICAgcmV0dXJuIGZhbHNlOwogICAgICB9CgogICAgfQogIH0sCgogIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICBmaWVsZHM6IFt7CiAgICAgICAga2V5OiAiaXRlbSIsCiAgICAgICAgbGFiZWw6ICJJdGVtIiwKICAgICAgICBzb3J0YWJsZTogdHJ1ZQogICAgICB9LCB7CiAgICAgICAga2V5OiAiZGVzY3JpY2FvIiwKICAgICAgICBsYWJlbDogIkRlc2NyacOnw6NvIiwKICAgICAgICBzb3J0YWJsZTogdHJ1ZQogICAgICB9LCB7CiAgICAgICAga2V5OiAicXRkZSIsCiAgICAgICAgbGFiZWw6ICJRLiBTb2wuIiwKICAgICAgICBzb3J0YWJsZTogdHJ1ZQogICAgICB9LCB7CiAgICAgICAga2V5OiAiZ2Fpb2xhcyIsCiAgICAgICAgbGFiZWw6ICJHYWlvbGFzIiwKICAgICAgICBzb3J0YWJsZTogdHJ1ZQogICAgICB9LCB7CiAgICAgICAga2V5OiAicXVhbnRzIiwKICAgICAgICBsYWJlbDogIlF0ZGVzIiwKICAgICAgICBzb3J0YWJsZTogdHJ1ZQogICAgICB9LCAiYWN0aW9ucyJdLAogICAgICBmaWVsZHNkZXRhaWxzOiBbewogICAgICAgIGtleTogImNvZGlnbyIsCiAgICAgICAgbGFiZWw6ICJHYWlvbGEiLAogICAgICAgIHNvcnRhYmxlOiB0cnVlCiAgICAgIH0sIHsKICAgICAgICBrZXk6ICJxdWFudCIsCiAgICAgICAgbGFiZWw6ICJRdGRlIiwKICAgICAgICBzb3J0YWJsZTogdHJ1ZQogICAgICB9LCAiYWN0aW9ucyJdLAogICAgICBpdGVtcGVzcXVpc2E6ICIiLAogICAgICBpdGVtYnVzY2E6IHRoaXMudmFsdWUsCiAgICAgIGl0ZW5zOiB0aGlzLnZhbHVlLml0ZW0ubWFwKGkgPT4gaS5pdGVtKSB8fCBbXSwKICAgICAgZ2Fpb2xhOiB0aGlzLnZhbHVlLmNvZGlnbywKICAgICAgZW5kZXJlY286IHRoaXMudmFsdWUuZW5kZXJlY28sCiAgICAgIGVtcHJlc2E6IHBhcnNlSW50KHRoaXMudmFsdWUuZW1wKSwKICAgICAgZGVwb3NpdG86IHBhcnNlSW50KHRoaXMudmFsdWUuZGVwKSwKICAgICAgZW1wcmVzYWJ1c2NhOiB7CiAgICAgICAgdmFsdWU6ICIwIiwKICAgICAgICB0ZXh0OiAiIgogICAgICB9LAogICAgICBkZXBvc2l0b2J1c2NhOiB7CiAgICAgICAgdmFsdWU6ICIwIiwKICAgICAgICB0ZXh0OiAiIgogICAgICB9LAogICAgICBydW5pdDogdGhpcy5ydW4KICAgIH07CiAgfSwKCiAgY29tcHV0ZWQ6IHsgLi4ubWFwR2V0dGVycyhbImd0eEdhaW9sYXNJdGVuc0RhdGFMaXN0IiwgImd0eEdhaW9sYXNJdGVuc1Jlc3BvbnNlIiwgImd0eEdhaW9sYXNJdGVuc0J1c3kiLCAiZ3R4R2Fpb2xhc0l0ZW5zUmVzcG9uc2UiLCAiZ3R4R2Fpb2xhc0l0ZW5zU3VjY2VzcyIsICJndHhHYWlvbGFzSXRlbnNFcnJvciIsICJndHhHYWlvbGFzSXRlbnNEYXRhIiwgImd0eEFsbW94RW1wcmVzYURlcG9zaXRvIl0pLAoKICAgIHBhcmFtc0J1c2NhKCkgewogICAgICByZXR1cm4gewogICAgICAgIHBhcmFtczogewogICAgICAgICAgZ2Fpb2xhOiBwYXJzZUludCh0aGlzLmdhaW9sYSksCiAgICAgICAgICBlbmRlcmVjbzogcGFyc2VJbnQodGhpcy5lbmRlcmVjbyksCiAgICAgICAgICAvLyBwYXJhIHBhc3NhciBwYXJhIEFQSSB0ZW0gcXVlIHRyYXRhciBjb21vIHN0cmluZwogICAgICAgICAgaXRlbnM6IHRoaXMuaXRlbnMuam9pbigiOyIpIHx8ICIiLAogICAgICAgICAgZW1wcmVzYTogcGFyc2VJbnQodGhpcy5pdGVtYnVzY2EuZW1wcmVzYSksCiAgICAgICAgICBkZXBvc2l0bzogcGFyc2VJbnQodGhpcy5ndHhBbG1veEVtcHJlc2FEZXBvc2l0by5kZXBvc2l0byksCiAgICAgICAgICBQYWdlTnVtYmVyOiAxLAogICAgICAgICAgUGFnZVNpemU6IDEwMAogICAgICAgIH0KICAgICAgfTsKICAgIH0sCgogICAgdlBvZGVQZXNxdWlzYXIoKSB7CiAgICAgIHJldHVybiAoKHRoaXMuaXRlbWJ1c2NhLml0ZW5zIHx8IFtdKS5qb2luKCI7IikgIT09ICIiIHx8IHRoaXMuaXRlbWJ1c2NhLmdhaW9sYSAhPT0gIiIgfHwgdGhpcy5pdGVtYnVzY2EuZW5kZXJlY28gIT09ICIiKSAmJiBwYXJzZUludCh0aGlzLml0ZW1idXNjYS5lbXApID4gMCAmJiBwYXJzZUludCh0aGlzLml0ZW1idXNjYS5kZXApID4gMDsKICAgIH0sCgogICAgaGF2ZWd0eEdhaW9sYXNJdGVuc0RhdGFMaXN0KCkgewogICAgICByZXR1cm4gdGhpcy5ndHhHYWlvbGFzSXRlbnNEYXRhTGlzdC5sZW5ndGggPiAwOwogICAgfSwKCiAgICBpdGVuc2xpc3QoKSB7CiAgICAgIGxldCBtYXRlcmlhbDsKICAgICAgcmV0dXJuIHRoaXMuZ3R4R2Fpb2xhc0l0ZW5zRGF0YUxpc3QubWFwKGkgPT4gewogICAgICAgIG1hdGVyaWFsID0gdGhpcy5tYXRlcmlhaXMuZmluZChmID0+IGYuaXRlbSA9PSBpLml0ZW0pOwogICAgICAgIHJldHVybiB7IC4uLmksCiAgICAgICAgICAuLi57CiAgICAgICAgICAgIHF0ZGU6IChtYXRlcmlhbCA/IG1hdGVyaWFsLnF0ZGUgOiB7CiAgICAgICAgICAgICAgcXRkZTogMAogICAgICAgICAgICB9KS5xdGRlCiAgICAgICAgICB9CiAgICAgICAgfTsKICAgICAgfSk7CiAgICB9LAoKICAgIHZhbHVlaXRlbnMoKSB7CiAgICAgIHJldHVybiAodGhpcy5pdGVucyB8fCBbXSkubWFwKGkgPT4gewogICAgICAgIHJldHVybiB7CiAgICAgICAgICBpdGVtOiBpLml0ZW0gfHwgaSwKICAgICAgICAgIHF0ZGU6IGkucXRkZSB8fCAwCiAgICAgICAgfTsKICAgICAgfSk7CiAgICB9CgogIH0sCgogIGJlZm9yZU1vdW50KCkgewogICAgaWYgKHRoaXMubWF0ZXJpYWlzLmxlbmd0aCA+IDApIHsKICAgICAgdGhpcy5pdGVucyA9IHRoaXMubWF0ZXJpYWlzLm1hcChtID0+IG0uaXRlbSk7CiAgICAgIHRoaXMuR2Fpb2xhc0l0ZW5zQnVzY2FQZXNxdWlzYXIoKTsKICAgIH0KCiAgICBpZiAodGhpcy5hdXRvcGVzcXVpc2EpIHsKICAgICAgdGhpcy5HYWlvbGFzSXRlbnNCdXNjYVBlc3F1aXNhcigpOwogICAgfQogIH0sCgogIG1ldGhvZHM6IHsgLi4ubWFwQWN0aW9ucyhbImFjdEdhaW9sYUl0ZW5zIiwgImFjdEdhaW9sYUl0ZW5zQ2xlYXIiXSksCgogICAgcm93Q2xpY2soaXRlbSkgewogICAgICBjb25zb2xlLmxvZygicm93Q2xpY2s6IiwgaXRlbSk7CiAgICAgIGl0ZW0ucXVhbnQgPSBwYXJzZUZsb2F0KGl0ZW0ucXVhbnQpOyAvLyBpdGVtLnF0ZGUgPSBwYXJzZUZsb2F0KGl0ZW0ucXVhbnQpCgogICAgICB0aGlzLiRlbWl0KCJpbnB1dCIsIGl0ZW0pOwogICAgICB0aGlzLiRlbWl0KCJldnQtZ2Fpb2xhaXRlbnNyb3djbGljayIsIGl0ZW0pOwogICAgfSwKCiAgICBuZXdTZWFyY2goKSB7CiAgICAgIHRoaXMuaXRlbnMgPSBbXTsKICAgICAgdGhpcy5nYWlvbGEgPSAwOwogICAgICB0aGlzLmVuZGVyZWNvID0gMDsKICAgICAgdGhpcy5hY3RHYWlvbGFJdGVuc0NsZWFyKCk7CiAgICB9LAoKICAgIEdhaW9sYXNJdGVuc0J1c2NhUGVzcXVpc2FyKCkgewogICAgICAvLyB0aGlzLiRlbWl0KCdpbnB1dCcsIHRoaXMucGFyYW1zQnVzY2EpCiAgICAgIC8vdGhpcy5hY3RHYWlvbGFJdGVucyh0aGlzLnBhcmFtc0J1c2NhKTsKICAgICAgdGhpcy5hY3RHYWlvbGFJdGVucyh0aGlzLml0ZW1idXNjYSk7CiAgICB9CiAgICAvKg0KICAgIGl0ZW1idXNjYUVtaXQoKSB7DQogICAgICB0aGlzLiRlbWl0KCJpbnB1dCIsIHRoaXMudmFsdWUpOw0KICAgIH0sDQogICAgICBhZGRpdGVtYnVzY2EoKSB7DQogICAgICBpZiAoIXRoaXMuaXRlbnMuZmluZCgoZikgPT4gZiA9PT0gdGhpcy5pdGVtYnVzY2EpKSB7DQogICAgICAgIHRoaXMuaXRlbnMucHVzaCh0aGlzLml0ZW1idXNjYSk7DQogICAgICB9DQogICAgICB0aGlzLml0ZW1idXNjYSA9ICIiOw0KICAgIH0sDQogICAgKi8KCgogIH0sCiAgd2F0Y2g6IHsKICAgIHZhbHVlOiB7CiAgICAgIGRlZXA6IHRydWUsCgogICAgICBoYW5kbGVyKCkgewogICAgICAgIHRoaXMuJGVtaXQoImlucHV0IiwgdGhpcy52YWx1ZSk7CiAgICAgIH0KCiAgICB9LAoKICAgIHJ1bih2YWx1ZSkgewogICAgICBjb25zb2xlLmxvZygid2F0Y2gucnVuOiIsIHZhbHVlKTsKICAgICAgdGhpcy5HYWlvbGFzSXRlbnNCdXNjYVBlc3F1aXNhcigpOwogICAgfSwKCiAgICAvKg0KICAgIGl0ZW5zKCkgew0KICAgICAgdGhpcy52YWx1ZS5pdGVtID0gdGhpcy52YWx1ZWl0ZW5zOw0KICAgIH0sDQogICAgICBnYWlvbGEoKSB7DQogICAgICB0aGlzLnZhbHVlLmNvZGlnbyA9IHRoaXMuZ2Fpb2xhOw0KICAgIH0sDQogICAgICBlbmRlcmVjbygpIHsNCiAgICAgIHRoaXMudmFsdWUuZW5kZXJlY28gPSB0aGlzLmVuZGVyZWNvOw0KICAgIH0sDQogICAgKi8KICAgIG1hdGVyaWFpcygpIHsKICAgICAgdGhpcy5pdGVucyA9IHRoaXMubWF0ZXJpYWlzLm1hcChpID0+IGkuaXRlbSk7CiAgICB9CgogIH0KfTs="},{"version":3,"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA8KA,8C,CACA;;AACA;EACAA,yBADA;EAGA;EACA;EACA;EAEAC;IACAC;MACAC,YADA;;MAEAC;QACA;UACAC,WADA;UAEAC,aAFA;UAGAC,QAHA;UAIAC,QAJA;UAKAC,QALA;UAMAC,UANA;UAOAC,WAPA;UAQAC;QARA;MAUA;;IAbA,CADA;IAgBAC;MACAV,YADA;;MAEAC;QACA;UACAU,SADA;UAEAC,SAFA;UAGAT,WAHA;UAIAU,YAJA;UAKAC;QALA;MAOA;;IAVA,CAhBA;IA4BAC;MACAf,WADA;;MAEAC;QACA;MACA;;IAJA,CA5BA;IAmCAe;MACAhB,YADA;;MAEAC;QACA;MACA;;IAJA,CAnCA;IA0CAgB;MACAjB,aADA;;MAEAC;QACA;MACA;;IAJA;EA1CA,CAPA;;EAyDAiB;IACA;MACAC,SACA;QAAAC;QAAAC;QAAAC;MAAA,CADA,EAEA;QAAAF;QAAAC;QAAAC;MAAA,CAFA,EAGA;QAAAF;QAAAC;QAAAC;MAAA,CAHA,EAIA;QAAAF;QAAAC;QAAAC;MAAA,CAJA,EAKA;QAAAF;QAAAC;QAAAC;MAAA,CALA,EAMA,SANA,CADA;MASAC,gBACA;QAAAH;QAAAC;QAAAC;MAAA,CADA,EAEA;QAAAF;QAAAC;QAAAC;MAAA,CAFA,EAGA,SAHA,CATA;MAcAE,gBAdA;MAeAC,qBAfA;MAgBAd,6CAhBA;MAiBAC,yBAjBA;MAkBAT,6BAlBA;MAmBAU,iCAnBA;MAoBAC,kCApBA;MAqBAY;QACA3B,UADA;QAEA4B;MAFA,CArBA;MAyBAC;QACA7B,UADA;QAEA4B;MAFA,CAzBA;MA6BAE;IA7BA;EA+BA,CAzFA;;EA2FAC,YACA,eACA,yBADA,EAEA,yBAFA,EAGA,qBAHA,EAIA,yBAJA,EAKA,wBALA,EAMA,sBANA,EAOA,qBAPA,EAQA,yBARA,EADA;;IAYAC;MACA;QACArB;UACAE,6BADA;UAEAT,iCAFA;UAGA;UACAQ,iCAJA;UAKAE,yCALA;UAMAC,yDANA;UAOAkB,aAPA;UAQAC;QARA;MADA;IAYA,CAzBA;;IA2BAC;MACA,OACA,kDACA,4BADA,IAEA,8BAFA,KAGAC,gCAHA,IAIAA,gCALA;IAOA,CAnCA;;IAqCAC;MACA;IACA,CAvCA;;IAyCAC;MACA;MACA;QACAC;QACA,SACA,IADA;UAEA;YAAAC;cAAAA;YAAA;UAAA;QAFA;MAIA,CANA;IAOA,CAlDA;;IAoDAC;MACA;QACA;UAAAlC;UAAAiC;QAAA;MACA,CAFA;IAGA;;EAxDA,CA3FA;;EAsJAE;IACA;MACA;MACA;IACA;;IACA;MACA;IACA;EACA,CA9JA;;EAgKAC,WACA,wDADA;;IAGAC;MACAC;MAEAtC,oCAHA,CAIA;;MAEA;MACA;IACA,CAXA;;IAaAuC;MACA;MACA;MACA;MACA;IACA,CAlBA;;IAoBAC;MACA;MACA;MACA;IACA;IAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;;EApCA,CAhKA;EAwMAC;IACAhD;MACAiD,UADA;;MAEAC;QACA;MACA;;IAJA,CADA;;IAOAjC;MACA4B;MACA;IACA,CAVA;;IAWA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;IAGA7B;MACA;IACA;;EA1BA;AAxMA","names":["name","props","value","type","default","codigo","endereco","emp","dep","item","quant","deleta","nivel","params","itens","gaiola","empresa","deposito","materiais","run","autopesquisa","data","fields","key","label","sortable","fieldsdetails","itempesquisa","itembusca","empresabusca","text","depositobusca","runit","computed","paramsBusca","PageNumber","PageSize","vPodePesquisar","parseInt","havegtxGaiolasItensDataList","itenslist","material","qtde","valueitens","beforeMount","methods","rowClick","console","newSearch","GaiolasItensBuscaPesquisar","watch","deep","handler"],"sourceRoot":"src/pages/almoxarifado/components","sources":["GaiolasItensBusca.vue"],"sourcesContent":["<template>\r\n  <div class=\"m-2\">\r\n    <b-card\r\n      header=\"Pesquisa estoque\"\r\n      header-bg-variant=\"dark\"\r\n      header-text-variant=\"white\"\r\n    >\r\n      <b-row>\r\n        <b-col cols=\"12\" sm=\"6\">\r\n          <b-form-group label=\"Box\" label-for=\"input-gaiolaitensendereco\">\r\n            <b-form-input\r\n              id=\"input-gaiolaitensendereco\"\r\n              type=\"number\"\r\n              class=\"text-right\"\r\n              v-model=\"itembusca.endereco\"\r\n            >\r\n            </b-form-input>\r\n          </b-form-group>\r\n        </b-col>\r\n        <b-col cols=\"12\" sm=\"6\">\r\n          <b-form-group label=\"Gaiola\" label-for=\"input-gaiolaitensgaiola\">\r\n            <b-form-input\r\n              id=\"input-gaiolaitensgaiola\"\r\n              type=\"number\"\r\n              class=\"text-right\"\r\n              v-model=\"itembusca.gaiola\"\r\n            >\r\n            </b-form-input>\r\n          </b-form-group>\r\n        </b-col>\r\n      </b-row>\r\n\r\n      <b-form-group label=\"Item\" label-for=\"input-gaiolaitensitem\">\r\n        <b-input-group>\r\n          <b-form-tags\r\n            separator=\" ,;\"\r\n            placeholder=\"Código do item\"\r\n            input-id=\"tags-basic\"\r\n            add-button-text=\"Adicionar\"\r\n            v-model=\"itembusca.item\"\r\n          >\r\n          </b-form-tags>\r\n          <template #append>\r\n            <b-button v-b-modal.modal-produtos variant=\"success\">\r\n              <b-icon-search />\r\n            </b-button>\r\n          </template>\r\n        </b-input-group>\r\n      </b-form-group>\r\n\r\n      <hr />\r\n\r\n      <b-form-group class=\"float-right\">\r\n        <b-button\r\n          variant=\"primary\"\r\n          @click=\"GaiolasItensBuscaPesquisar\"\r\n          :disabled=\"!vPodePesquisar\"\r\n        >\r\n          <b-icon-archive />\r\n          Busca estoque\r\n        </b-button>\r\n      </b-form-group>\r\n\r\n      <b-table\r\n        striped\r\n        hover\r\n        size=\"sm\"\r\n        :items=\"itenslist\"\r\n        :fields=\"fields\"\r\n        class=\"mt-3\"\r\n      >\r\n        <template #cell(qtde)=\"data\">\r\n          <b-form-input\r\n            type=\"number\"\r\n            v-model=\"data.item.qtde\"\r\n            size=\"sm\"\r\n            style=\"width: 100px\"\r\n          >\r\n          </b-form-input>\r\n        </template>\r\n        <template #cell(actions)=\"data\">\r\n          <b-button-group>\r\n            <b-button\r\n              v-if=\"data.item.Estoque.length > 1\"\r\n              size=\"sm\"\r\n              variant=\"outline-primary\"\r\n              v-model=\"data.detailsShowing\"\r\n              @click=\"data.toggleDetails\"\r\n            >\r\n              <b-icon-caret-up v-if=\"data.detailsShowing\" />\r\n              <b-icon-caret-down v-else />\r\n            </b-button>\r\n            <b-button\r\n              v-else\r\n              size=\"sm\"\r\n              variant=\"outline-primary\"\r\n              @click=\"rowClick(data.item.Estoque[0])\"\r\n            >\r\n              <b-icon-cart-plus />\r\n            </b-button>\r\n          </b-button-group>\r\n        </template>\r\n        <template #row-details=\"row\">\r\n          <b-card>\r\n            <b-table card :items=\"row.item.Estoque\" :fields=\"fieldsdetails\">\r\n              <template #cell(actions)=\"gaiola\">\r\n                <b-button-group>\r\n                  <b-button\r\n                    size=\"sm\"\r\n                    variant=\"outline-primary\"\r\n                    @click=\"rowClick(gaiola.item)\"\r\n                  >\r\n                    <b-icon-cart-plus />\r\n                  </b-button>\r\n                </b-button-group>\r\n              </template>\r\n            </b-table>\r\n          </b-card>\r\n        </template>\r\n      </b-table>\r\n      value: {{ value }}<br />\r\n      itembusca: {{ itembusca }}<br />\r\n      <!--\r\n      materiais: {{ materiais }}<br />\r\n      paramsBusca: {{ paramsBusca }}<br />\r\n      itens: {{ itens }}<br>\r\n      gtxGaiolasItensDataList: {{ gtxGaiolasItensDataList }}<br>\r\n      valueitens: {{ valueitens }}<br>\r\n      itenslist: {{ itenslist }}<br>\r\n      <b-input type=\"number\" v-model=\"runit\" />\r\n      runit: {{ runit }}<br />\r\n      -->\r\n      <hr />\r\n      <div class=\"d-flex justify-content-between mt-2\">\r\n        <div>\r\n          <strong>Total de itens:</strong>\r\n          <span class=\"ml-2\">{{ itenslist.length }}</span>\r\n        </div>\r\n        <div>\r\n          <b-button\r\n            variant=\"danger\"\r\n            @click=\"newSearch\"\r\n            :disabled=\"!havegtxGaiolasItensDataList\"\r\n          >\r\n            <b-icon-x-square />\r\n            Cancelar\r\n          </b-button>\r\n        </div>\r\n      </div>\r\n    </b-card>\r\n\r\n    <b-modal\r\n      ok-only\r\n      id=\"modal-produtos\"\r\n      ref=\"modal-produtos\"\r\n      size=\"md\"\r\n      scrollable\r\n      title=\"Busca produtos\"\r\n      ok-title=\"Adicionar\"\r\n      :ok-disabled=\"itempesquisa == ''\"\r\n    >\r\n      <!--@ok=\"additembusca\"-->\r\n      <k-inputsearch\r\n        id=\"input-itens\"\r\n        ref=\"itemRef\"\r\n        routeapi=\"Servicos/Itens/MateriaPrima\"\r\n        v-model=\"itempesquisa\"\r\n        :pk=\"itembusca || '-'\"\r\n      />\r\n    </b-modal>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { mapActions, mapGetters } from \"vuex\";\r\n// import InputSearch2 from \"../../../components/InputSearch2\";\r\nexport default {\r\n  name: \"GaiolasItensBusca\",\r\n\r\n  //  components: {\r\n  //    InputSearch2,\r\n  //  },\r\n\r\n  props: {\r\n    value: {\r\n      type: Object,\r\n      default() {\r\n        return {\r\n          codigo: \"0\",\r\n          endereco: \"0\",\r\n          emp: \"0\",\r\n          dep: \"0\",\r\n          item: [],\r\n          quant: \"0\",\r\n          deleta: \"0\",\r\n          nivel: \"1\",\r\n        };\r\n      },\r\n    },\r\n    params: {\r\n      type: Object,\r\n      default() {\r\n        return {\r\n          itens: [],\r\n          gaiola: 0,\r\n          endereco: 0,\r\n          empresa: \"0\",\r\n          deposito: \"0\",\r\n        };\r\n      },\r\n    },\r\n    materiais: {\r\n      type: Array,\r\n      default() {\r\n        return [];\r\n      },\r\n    },\r\n\r\n    run: {\r\n      type: Number,\r\n      default() {\r\n        return 0;\r\n      },\r\n    },\r\n\r\n    autopesquisa: {\r\n      type: Boolean,\r\n      default() {\r\n        return false;\r\n      },\r\n    },\r\n  },\r\n\r\n  data() {\r\n    return {\r\n      fields: [\r\n        { key: \"item\", label: \"Item\", sortable: true },\r\n        { key: \"descricao\", label: \"Descrição\", sortable: true },\r\n        { key: \"qtde\", label: \"Q. Sol.\", sortable: true },\r\n        { key: \"gaiolas\", label: \"Gaiolas\", sortable: true },\r\n        { key: \"quants\", label: \"Qtdes\", sortable: true },\r\n        \"actions\",\r\n      ],\r\n      fieldsdetails: [\r\n        { key: \"codigo\", label: \"Gaiola\", sortable: true },\r\n        { key: \"quant\", label: \"Qtde\", sortable: true },\r\n        \"actions\",\r\n      ],\r\n      itempesquisa: \"\",\r\n      itembusca: this.value,\r\n      itens: this.value.item.map((i) => i.item) || [],\r\n      gaiola: this.value.codigo,\r\n      endereco: this.value.endereco,\r\n      empresa: parseInt(this.value.emp),\r\n      deposito: parseInt(this.value.dep),\r\n      empresabusca: {\r\n        value: \"0\",\r\n        text: \"\",\r\n      },\r\n      depositobusca: {\r\n        value: \"0\",\r\n        text: \"\",\r\n      },\r\n      runit: this.run,\r\n    };\r\n  },\r\n\r\n  computed: {\r\n    ...mapGetters([\r\n      \"gtxGaiolasItensDataList\",\r\n      \"gtxGaiolasItensResponse\",\r\n      \"gtxGaiolasItensBusy\",\r\n      \"gtxGaiolasItensResponse\",\r\n      \"gtxGaiolasItensSuccess\",\r\n      \"gtxGaiolasItensError\",\r\n      \"gtxGaiolasItensData\",\r\n      \"gtxAlmoxEmpresaDeposito\",\r\n    ]),\r\n\r\n    paramsBusca() {\r\n      return {\r\n        params: {\r\n          gaiola: parseInt(this.gaiola),\r\n          endereco: parseInt(this.endereco),\r\n          // para passar para API tem que tratar como string\r\n          itens: this.itens.join(\";\") || \"\",\r\n          empresa: parseInt(this.itembusca.empresa),\r\n          deposito: parseInt(this.gtxAlmoxEmpresaDeposito.deposito),\r\n          PageNumber: 1,\r\n          PageSize: 100,\r\n        },\r\n      };\r\n    },\r\n\r\n    vPodePesquisar() {\r\n      return (\r\n        ((this.itembusca.itens || []).join(\";\") !== \"\" ||\r\n          this.itembusca.gaiola !== \"\" ||\r\n          this.itembusca.endereco !== \"\") &&\r\n        parseInt(this.itembusca.emp) > 0 &&\r\n        parseInt(this.itembusca.dep) > 0\r\n      );\r\n    },\r\n\r\n    havegtxGaiolasItensDataList() {\r\n      return this.gtxGaiolasItensDataList.length > 0;\r\n    },\r\n\r\n    itenslist() {\r\n      let material;\r\n      return this.gtxGaiolasItensDataList.map((i) => {\r\n        material = this.materiais.find((f) => f.item == i.item);\r\n        return {\r\n          ...i,\r\n          ...{ qtde: (material ? material.qtde : { qtde: 0 }).qtde },\r\n        };\r\n      });\r\n    },\r\n\r\n    valueitens() {\r\n      return (this.itens || []).map((i) => {\r\n        return { item: i.item || i, qtde: i.qtde || 0 };\r\n      });\r\n    },\r\n  },\r\n\r\n  beforeMount() {\r\n    if (this.materiais.length > 0) {\r\n      this.itens = this.materiais.map((m) => m.item);\r\n      this.GaiolasItensBuscaPesquisar();\r\n    }\r\n    if (this.autopesquisa) {\r\n      this.GaiolasItensBuscaPesquisar();\r\n    }\r\n  },\r\n\r\n  methods: {\r\n    ...mapActions([\"actGaiolaItens\", \"actGaiolaItensClear\"]),\r\n\r\n    rowClick(item) {\r\n      console.log(\"rowClick:\", item);\r\n\r\n      item.quant = parseFloat(item.quant);\r\n      // item.qtde = parseFloat(item.quant)\r\n\r\n      this.$emit(\"input\", item);\r\n      this.$emit(\"evt-gaiolaitensrowclick\", item);\r\n    },\r\n\r\n    newSearch() {\r\n      this.itens = [];\r\n      this.gaiola = 0;\r\n      this.endereco = 0;\r\n      this.actGaiolaItensClear();\r\n    },\r\n\r\n    GaiolasItensBuscaPesquisar() {\r\n      // this.$emit('input', this.paramsBusca)\r\n      //this.actGaiolaItens(this.paramsBusca);\r\n      this.actGaiolaItens(this.itembusca);\r\n    },\r\n\r\n    /*\r\n    itembuscaEmit() {\r\n      this.$emit(\"input\", this.value);\r\n    },\r\n\r\n    additembusca() {\r\n      if (!this.itens.find((f) => f === this.itembusca)) {\r\n        this.itens.push(this.itembusca);\r\n      }\r\n      this.itembusca = \"\";\r\n    },\r\n    */\r\n  },\r\n\r\n  watch: {\r\n    value: {\r\n      deep: true,\r\n      handler() {\r\n        this.$emit(\"input\", this.value);\r\n      },\r\n    },\r\n    run(value) {\r\n      console.log(\"watch.run:\", value);\r\n      this.GaiolasItensBuscaPesquisar();\r\n    },\r\n    /*\r\n    itens() {\r\n      this.value.item = this.valueitens;\r\n    },\r\n\r\n    gaiola() {\r\n      this.value.codigo = this.gaiola;\r\n    },\r\n\r\n    endereco() {\r\n      this.value.endereco = this.endereco;\r\n    },\r\n    */\r\n    materiais() {\r\n      this.itens = this.materiais.map((i) => i.item);\r\n    },\r\n  },\r\n};\r\n</script>\r\n"]}]}