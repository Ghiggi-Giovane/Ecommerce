{"remainingRequest":"C:\\k1-services\\node_modules\\babel-loader\\lib\\index.js!C:\\k1-services\\node_modules\\cache-loader\\dist\\cjs.js??ref--1-0!C:\\k1-services\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\k1-services\\src\\pages\\ecommerce\\views\\Pedidos.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\k1-services\\src\\pages\\ecommerce\\views\\Pedidos.vue","mtime":1670977910623},{"path":"C:\\k1-services\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1670977934221},{"path":"C:\\k1-services\\node_modules\\babel-loader\\lib\\index.js","mtime":1670977935138},{"path":"C:\\k1-services\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1670977934221},{"path":"C:\\k1-services\\node_modules\\vue-loader\\lib\\index.js","mtime":1670977935327}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkucmVkdWNlLmpzIjsKLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KaW1wb3J0IHsgbWFwQWN0aW9ucywgbWFwR2V0dGVycyB9IGZyb20gInZ1ZXgiOwppbXBvcnQgQXBpU2VydmljZSBmcm9tICIuLi8uLi8uLi9zZXJ2aWNlcy9hcGkuc2VydmljZSI7CmltcG9ydCBBY29tcGFuaGFtZW50b3NWdWUgZnJvbSAiLi4vLi4vLi4vY29tcG9uZW50cy9BY29tcGFuaGFtZW50b3MudnVlIjsKaW1wb3J0IGxvYWRpbmcgZnJvbSAiLi4vLi4vLi4vc3RvcmUvbG9hZGluZyI7CmltcG9ydCB7IHRpbWVvdXQgfSBmcm9tICJxIjsKZXhwb3J0IGRlZmF1bHQgewogIG5hbWU6ICJFY29tbWVyY2VQZWRpZG9zIiwKICBjb21wb25lbnRzOiB7CiAgICBBY29tcGFuaGFtZW50b3NWdWUKICB9LAoKICBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgYWNvbXBhbmhhbWVudG9JRDogMCwKICAgICAgbW90aXZvOiAiIiwKICAgICAgbW90aXZvU3RhdGU6IG51bGwsCiAgICAgIHZpc2l2ZWw6ICIiLAogICAgICBmaWx0cm86ICIiLAogICAgICBmaWx0ZXJPbjogWyJJdGVucyIsICJFbnRyZWdhRW1BdHJhc28iLCAiRmFudGFzaWEiLCAiTnVtZXJvIiwgIlBlZGlkb0h1YlVSTCIsICJPQ0thcHBlcyIsICJDaWRhZGUiLCAiQ2xpZW50ZSIsICJFc3RhZG8iLCAiTWFya2V0UGxhY2UiLCAiTnVtZXJvX05vdGEiLCAiT3JkZW1Db21wcmEiLCAiVHJhbnNwb3J0YWRvcmEiLCAiUm9tYW5laW8iLCAiT2NJZCIsICJSZWRlc3BhY2hvIl0sCiAgICAgIGZpbHRyb0VtcHJlc2FzOiBbIjgiLCAiMzQiXSwKICAgICAgcG9yUGFnaW5hOiAyMCwKICAgICAgcGFnaW5hQXRpdmE6IDEsCiAgICAgIG1hcmtldFBsYWNlc0xpc3RTZWxlY3RlZDogW10sCiAgICAgIHN0YXR1c0xpc3RTZWxlY3RlZDogW10sCiAgICAgIHV0aWxpem91RmlsdHJvOiAiIiwKICAgICAgZmlsdHJhZG86IFtdLAogICAgICBsb2FkaW5nOiBmYWxzZSwKICAgICAgc29tZW50ZUF0cmFzYWRvczogIiIsCiAgICAgIHBlZGlkb3NBdHJhc2Fkb3M6IFtdLAogICAgICBvYzogZmFsc2UsCiAgICAgIHN0YXR1czogZmFsc2UsCiAgICAgIGRhdGFJbmljaWFsOiBuZXcgRGF0ZSgxNjA5NTQ5MjAwMDAwKSwKICAgICAgZGF0YUZpbmFsOiAiIiwKICAgICAgbWFya2V0UGxhY2VzTGlzdDogW10sCiAgICAgIHN0YXR1c0xpc3Q6IFtdLAogICAgICBwZWRpZG9zTGlzdDogW10sCiAgICAgIGZpZWxkczogW3sKICAgICAgICBrZXk6ICJFbXByZXNhIiwKICAgICAgICBzb3J0YWJsZTogdHJ1ZSwKICAgICAgICBsYWJlbDogIkVtcHJlc2EiLAogICAgICAgIHZpc2libGU6IHRydWUKICAgICAgfSwgewogICAgICAgIGtleTogIk9jSWQiLAogICAgICAgIHNvcnRhYmxlOiB0cnVlLAogICAgICAgIGxhYmVsOiAiSWQgT0MiLAogICAgICAgIHZpc2libGU6IHRydWUKICAgICAgfSwgewogICAgICAgIGtleTogIk9DS2FwcGVzIiwKICAgICAgICBzb3J0YWJsZTogdHJ1ZSwKICAgICAgICB0ZENsYXNzOiAidGV4dC1ub3dyYXAiLAogICAgICAgIGxhYmVsOiAiT0MgS2FwcGVzIiwKICAgICAgICB2aXNpYmxlOiB0cnVlCiAgICAgIH0sIHsKICAgICAgICBrZXk6ICJOdW1lcm8iLAogICAgICAgIHNvcnRhYmxlOiB0cnVlLAogICAgICAgIGxhYmVsOiAiUGVkaWRvIiwKICAgICAgICB2aXNpYmxlOiB0cnVlLAogICAgICAgIF9zaG93RGV0YWlsczogZmFsc2UKICAgICAgfSwgewogICAgICAgIGtleTogIkRhdGFDb21wcmEiLAogICAgICAgIHNvcnRhYmxlOiB0cnVlLAogICAgICAgIHRkQ2xhc3M6ICJ0ZXh0LW5vd3JhcCIsCiAgICAgICAgbGFiZWw6ICJEYXRhIiwKICAgICAgICB2aXNpYmxlOiB0cnVlCiAgICAgIH0sIHsKICAgICAgICBrZXk6ICJQZXJjZW50dWFsIiwKICAgICAgICBzb3J0YWJsZTogZmFsc2UsCiAgICAgICAgbGFiZWw6ICJQZXJjIENvbGV0YSIsCiAgICAgICAgdmlzaWJsZTogdHJ1ZQogICAgICB9LCB7CiAgICAgICAga2V5OiAiUGVkaWRvSHViVVJMIiwKICAgICAgICBzb3J0YWJsZTogdHJ1ZSwKICAgICAgICB0ZENsYXNzOiAidGV4dC1ub3dyYXAiLAogICAgICAgIGxhYmVsOiAiT0MgUGFyY2Vpcm8iLAogICAgICAgIHZpc2libGU6IHRydWUKICAgICAgfSwgewogICAgICAgIGtleTogIk1hcmtldFBsYWNlIiwKICAgICAgICBzb3J0YWJsZTogdHJ1ZSwKICAgICAgICB0ZENsYXNzOiAidGV4dC1ub3dyYXAiLAogICAgICAgIGxhYmVsOiAiTWFya2V0cGxhY2UiLAogICAgICAgIHZpc2libGU6IHRydWUKICAgICAgfSwgewogICAgICAgIGtleTogIlRyYW5zcG9ydGFkb3JhIiwKICAgICAgICBzb3J0YWJsZTogdHJ1ZSwKICAgICAgICB0ZENsYXNzOiAidGV4dC1ub3dyYXAiLAogICAgICAgIHZpc2libGU6IHRydWUKICAgICAgfSwgewogICAgICAgIGtleTogIkZhbnRhc2lhIiwKICAgICAgICBzb3J0YWJsZTogdHJ1ZSwKICAgICAgICB0ZENsYXNzOiAidGV4dC1ub3dyYXAiLAogICAgICAgIGxhYmVsOiAiQ2xpZW50ZSIsCiAgICAgICAgdmlzaWJsZTogdHJ1ZQogICAgICB9LCB7CiAgICAgICAga2V5OiAiVGVsZWZvbmUiLAogICAgICAgIHNvcnRhYmxlOiB0cnVlLAogICAgICAgIHZpc2libGU6IHRydWUsCiAgICAgICAgbGFiZWw6ICJGb25lIgogICAgICB9LCB7CiAgICAgICAga2V5OiAiQ2lkYWRlIiwKICAgICAgICBzb3J0YWJsZTogdHJ1ZSwKICAgICAgICB0ZENsYXNzOiAidGV4dC1ub3dyYXAiLAogICAgICAgIHZpc2libGU6IHRydWUKICAgICAgfSwgewogICAgICAgIGtleTogIkVzdGFkbyIsCiAgICAgICAgc29ydGFibGU6IHRydWUsCiAgICAgICAgbGFiZWw6ICJVRiIsCiAgICAgICAgdGRDbGFzczogInRleHQtbm93cmFwIiwKICAgICAgICB2aXNpYmxlOiB0cnVlCiAgICAgIH0sIHsKICAgICAgICBrZXk6ICJTdGF0dXMiLAogICAgICAgIHNvcnRhYmxlOiB0cnVlLAogICAgICAgIHRkQ2xhc3M6ICJ0ZXh0LW5vd3JhcCIsCiAgICAgICAgdmlzaWJsZTogdHJ1ZSwKICAgICAgICBfc2hvd0RldGFpbHM6IGZhbHNlCiAgICAgIH0sIHsKICAgICAgICBrZXk6ICJEYXRhU3RhdHVzIiwKICAgICAgICBzb3J0YWJsZTogdHJ1ZSwKICAgICAgICB0ZENsYXNzOiAidGV4dC1ub3dyYXAiLAogICAgICAgIHZpc2libGU6IHRydWUKICAgICAgfSwgewogICAgICAgIGtleTogIlZhbG9yQ29tRnJldGUiLAogICAgICAgIHNvcnRhYmxlOiB0cnVlLAogICAgICAgIHRkQ2xhc3M6ICJ0ZXh0LW5vd3JhcCIsCiAgICAgICAgbGFiZWw6ICJWYWxvciIsCiAgICAgICAgdmlzaWJsZTogdHJ1ZQogICAgICB9LCB7CiAgICAgICAga2V5OiAiVmFsb3JGcmV0ZSIsCiAgICAgICAgc29ydGFibGU6IHRydWUsCiAgICAgICAgdGRDbGFzczogInRleHQtbm93cmFwIiwKICAgICAgICB2aXNpYmxlOiB0cnVlCiAgICAgIH0sIHsKICAgICAgICBrZXk6ICJWYWxvckZyZXRlRGVzdGFjYWRvIiwKICAgICAgICBzb3J0YWJsZTogdHJ1ZSwKICAgICAgICB0ZENsYXNzOiAidGV4dC1ub3dyYXAiLAogICAgICAgIHZpc2libGU6IHRydWUsCiAgICAgICAgbGFiZWw6ICJEZXN0YWNhZG8iCiAgICAgIH0sIHsKICAgICAgICBrZXk6ICJSb21hbmVpbyIsCiAgICAgICAgc29ydGFibGU6IHRydWUsCiAgICAgICAgdGRDbGFzczogInRleHQtbm93cmFwIiwKICAgICAgICB2aXNpYmxlOiB0cnVlCiAgICAgIH0sIHsKICAgICAgICBrZXk6ICJOdW1lcm9fTm90YSIsCiAgICAgICAgc29ydGFibGU6IHRydWUsCiAgICAgICAgdGRDbGFzczogInRleHQtbm93cmFwIiwKICAgICAgICBsYWJlbDogIk5vdGEiLAogICAgICAgIHZpc2libGU6IHRydWUKICAgICAgfSwgewogICAgICAgIGtleTogIkRhdGFQcmV2aXNhb0VudHJlZ2EiLAogICAgICAgIHNvcnRhYmxlOiB0cnVlLAogICAgICAgIHRkQ2xhc3M6ICJ0ZXh0LW5vd3JhcCIsCiAgICAgICAgbGFiZWw6ICJQcmV2aXNhbyBFbnRyZWdhIiwKICAgICAgICB2aXNpYmxlOiB0cnVlCiAgICAgIH0sIHsKICAgICAgICBrZXk6ICJBY3Rpb25zIiwKICAgICAgICBzb3J0YWJsZTogZmFsc2UsCiAgICAgICAgdGRDbGFzczogInRleHQtbm93cmFwIiwKICAgICAgICBsYWJlbDogIkHDp8O1ZXMiLAogICAgICAgIHZpc2libGU6IHRydWUKICAgICAgfSwgewogICAgICAgIGtleTogIlJlZGVzcGFjaG8iLAogICAgICAgIHNvcnRhYmxlOiB0cnVlLAogICAgICAgIHRkQ2xhc3M6ICJ0ZXh0LW5vd3JhcCIsCiAgICAgICAgbGFiZWw6ICJSZWRlc3BhY2hvIiwKICAgICAgICB2aXNpYmxlOiB0cnVlCiAgICAgIH0sIHsKICAgICAgICBrZXk6ICJEaWFzQXRyYXNvIiwKICAgICAgICBzb3J0YWJsZTogdHJ1ZSwKICAgICAgICB0ZENsYXNzOiAidGV4dC1ub3dyYXAiLAogICAgICAgIGxhYmVsOiAiRGlhcyBBdHJhc28iLAogICAgICAgIHZpc2libGU6IHRydWUKICAgICAgfSwgewogICAgICAgIGtleTogIkRhdGFSZWFsRW50cmVnYSIsCiAgICAgICAgc29ydGFibGU6IHRydWUsCiAgICAgICAgdGRDbGFzczogInRleHQtbm93cmFwIiwKICAgICAgICBsYWJlbDogIkRhdGEgRW50cmVnYSIsCiAgICAgICAgdmlzaWJsZTogdHJ1ZQogICAgICB9LCB7CiAgICAgICAga2V5OiAiT2JzZXJ2YWNhbyIsCiAgICAgICAgdGRDbGFzczogInRleHQtbm93cmFwIiwKICAgICAgICBsYWJlbDogIk9CUyIsCiAgICAgICAgdmlzaWJsZTogdHJ1ZQogICAgICB9LCB7CiAgICAgICAga2V5OiAiUmFzdHJlaW8iLAogICAgICAgIHRkQ2xhc3M6ICJ0ZXh0LW5vd3JhcCIsCiAgICAgICAgbGFiZWw6ICJSYXN0cmVpbyIsCiAgICAgICAgdmlzaWJsZTogZmFsc2UKICAgICAgfV0sCiAgICAgIGRyYWdmaWVsZHN0YXJ0OiAiIgogICAgfTsKICB9LAoKICBjcmVhdGVkKCkgewogICAgdGhpcy5hY3Rob21lKCIvZWNvbW1lcmNlIik7CiAgICB0aGlzLmJ1c2NhclVsdGltYVBlc3F1aXNhKCk7CiAgICB0aGlzLnBlZGlkb3NMaXN0ID0gW107CiAgICB0aGlzLmJ1c2NhcigpOwogIH0sCgogIC8vIGFzeW5jIG1vdW50ZWQoKSB7CiAgLy8gICBjb25zdCBwZXNxdWlzYSA9IGF3YWl0IGxvY2FsU3RvcmFnZS5nZXRJdGVtKCJ1bHRpbWFQZXNxdWlzYSIpOwogIC8vICAgdGhpcy5maWVsZHMubWFwKGUgPT4gewogIC8vICAgICBpZiAoSlNPTi5wYXJzZShwZXNxdWlzYSkuZmllbGRzLmZpbmQoZiA9PiBmLmtleSA9PSBlLmtleSkpIHsKICAvLyAgICAgICBlLnZpc2libGUgPSBKU09OLnBhcnNlKHBlc3F1aXNhKS5maWVsZHMuZmluZCgKICAvLyAgICAgICAgIGYgPT4gZi5rZXkgPT0gZS5rZXkKICAvLyAgICAgICApLnZpc2libGU7CiAgLy8gICAgIH0gZWxzZSB7CiAgLy8gICAgICAgZS52aXNpYmxlID0gZmFsc2U7CiAgLy8gICAgIH0KICAvLyAgIH0pOwogIC8vIH0sCiAgY29tcHV0ZWQ6IHsKICAgIHBlZGlkb3NGaWVsZHMoKSB7CiAgICAgIHJldHVybiB0aGlzLmZpZWxkcy5maWx0ZXIoZiA9PiBmLnZpc2libGUpOwogICAgfSwKCiAgICBwZWRpZG9zVG90YWlzQ291bnQoKSB7CiAgICAgIHJldHVybiB0aGlzLnBlZGlkb3NMaXN0RW1wcmVzYS5sZW5ndGg7CiAgICB9LAoKICAgIHZhbG9yKCkgewogICAgICB2YXIgc3VtID0gdGhpcy5wZWRpZG9zTGlzdEVtcHJlc2EucmVkdWNlKChhY3VtdWxhZG9yLCB2YWxvckF0dWFsKSA9PiBhY3VtdWxhZG9yICsgdmFsb3JBdHVhbC5WYWxvckNvbUZyZXRlLCAwKTsKICAgICAgcmV0dXJuIE1hdGgucm91bmQoc3VtICogMTAwKSAvIDEwMDsKICAgIH0sCgogICAgdmFsb3JGcmV0ZSgpIHsKICAgICAgdmFyIHN1bSA9IHRoaXMucGVkaWRvc0xpc3RFbXByZXNhLnJlZHVjZSgoYWN1bXVsYWRvciwgdmFsb3JBdHVhbCkgPT4gYWN1bXVsYWRvciArIHZhbG9yQXR1YWwuVmFsb3JGcmV0ZSwgMCk7CiAgICAgIHJldHVybiBNYXRoLnJvdW5kKHN1bSAqIDEwMCkgLyAxMDA7CiAgICB9LAoKICAgIHBlZGlkb3NMaXN0RW1wcmVzYSgpIHsKICAgICAgcmV0dXJuIHRoaXMuZmlsdHJhZG8uZmlsdGVyKHJlcyA9PiB0aGlzLmZpbHRyb0VtcHJlc2FzLmZpbmQoZSA9PiBlID09IHJlcy5FbXByZXNhKSk7CiAgICB9LAoKICAgIGVtcHJlc2EoKSB7CiAgICAgIHJldHVybiB0aGlzLnBlZGlkb3NMaXN0LnJlZHVjZSgoYSwgYikgPT4gewogICAgICAgIGlmICghYS5maW5kKGYgPT4gZi5FbXByZXNhID09IGIuRW1wcmVzYSkpIHsKICAgICAgICAgIGEucHVzaCh7CiAgICAgICAgICAgIEVtcHJlc2E6IGIuRW1wcmVzYSwKICAgICAgICAgICAgTm9tZUVtcHJlc2E6IGIuTm9tZV9FbXByZXNhCiAgICAgICAgICB9KTsKICAgICAgICB9CgogICAgICAgIHJldHVybiBhOwogICAgICB9LCBbXSk7CiAgICB9CgogIH0sCiAgbWV0aG9kczogeyAuLi5tYXBBY3Rpb25zKFsiYWN0aG9tZSJdKSwKCiAgICByb3dDbGFzcyhpdGVtLCB0eXBlKSB7CiAgICAgIGlmICghaXRlbSB8fCB0eXBlICE9PSAicm93IikgcmV0dXJuOwogICAgICBpZiAoaXRlbS5WYWxvciA8IDApIHJldHVybiAidGFibGUtaW5mbyI7CiAgICAgIGlmIChpdGVtLlN0YXR1cyA9PT0gIkNhbmNlbGFkbyIpIHJldHVybiAidGFibGUtZGFuZ2VyIjsKICAgICAgaWYgKGl0ZW0uU3RhdHVzID09PSAiQ3JpYWRvIikgcmV0dXJuICJ0YWJsZS1zdWNjZXNzIjsKICAgICAgaWYgKGl0ZW0uRW50cmVnYUVtQXRyYXNvID09IHRydWUpIHJldHVybiAidGFibGUtd2FybmluZyI7CiAgICB9LAoKICAgIG9uUm93U2VsZWN0ZWQoaXRlbXMpIHsvLyBjb25zb2xlLmxvZyhpdGVtc1swXS5QZWRpZG9IdWJVUkwpOwogICAgfSwKCiAgICBidXNjYXIoKSB7CiAgICAgIEFwaVNlcnZpY2UuZ2V0KCJ2Mi9JbnRyYW5ldEVjb21tZXJjZUIyQy9NYXJrZXRwbGFjZXMvQ29tYm8iKS50aGVuKHJlc3VsdCA9PiB7CiAgICAgICAgdGhpcy5tYXJrZXRQbGFjZXNMaXN0ID0gcmVzdWx0LmRhdGEuRGF0YTsKICAgICAgfSk7CiAgICAgIEFwaVNlcnZpY2UuZ2V0KCJ2Mi9JbnRyYW5ldEVjb21tZXJjZUIyQy9QZWRpZG9zL1N0YXR1cyIpLnRoZW4ocmVzdWx0ID0+IHsKICAgICAgICB0aGlzLnN0YXR1c0xpc3QgPSByZXN1bHQuZGF0YS5EYXRhOwogICAgICB9KTsKICAgIH0sCgogICAgYXN5bmMgYnRuRmlsdHJvcygpIHsKICAgICAgYXdhaXQgdGhpcy5zYWx2YXJQZXNxdWlzYXMoKTsKICAgICAgdGhpcy5sb2FkaW5nID0gdHJ1ZTsKICAgICAgQXBpU2VydmljZS5wb3N0KCJ2Mi9JbnRyYW5ldEVjb21tZXJjZUIyQy9QZWRpZG9zL0dldCIsIHsKICAgICAgICBzdGF0dXM6IHRoaXMuc3RhdHVzTGlzdFNlbGVjdGVkLAogICAgICAgIG1hcmtldHBsYWNlczogdGhpcy5tYXJrZXRQbGFjZXNMaXN0U2VsZWN0ZWQsCiAgICAgICAgZGF0YUluaWNpYWw6IHRoaXMuZGF0YUluaWNpYWwsCiAgICAgICAgZGF0YUZpbmFsOiB0aGlzLmRhdGFGaW5hbAogICAgICB9KS50aGVuKHJlc3VsdCA9PiB7CiAgICAgICAgY29uc29sZS5sb2coInJlc3VsdCIsIHJlc3VsdC5kYXRhKTsKCiAgICAgICAgaWYgKHJlc3VsdC5kYXRhLlN1Y2Nlc3MpIHsKICAgICAgICAgIHRoaXMucGVkaWRvc0xpc3QgPSByZXN1bHQuZGF0YS5EYXRhOwogICAgICAgICAgdGhpcy5maWx0cmFkbyA9IHJlc3VsdC5kYXRhLkRhdGE7CiAgICAgICAgICB0aGlzLnV0aWxpem91RmlsdHJvID0gbmV3IERhdGUoKTsKICAgICAgICB9CgogICAgICAgIHRoaXMubG9hZGluZyA9IGZhbHNlOwogICAgICAgIHRoaXMuZW1wcmVzYXM7CiAgICAgIH0pOwogICAgfSwKCiAgICBhc3luYyBzYWx2YXJQZXNxdWlzYXMoKSB7CiAgICAgIGNvbnN0IHVsdGltYVBlc3F1aXNhID0gewogICAgICAgIG1hcmtldHBsYWNlczogdGhpcy5tYXJrZXRQbGFjZXNMaXN0U2VsZWN0ZWQsCiAgICAgICAgc3RhdHVzOiB0aGlzLnN0YXR1c0xpc3RTZWxlY3RlZCwKICAgICAgICBkYXRhSW5pY2lhbDogdGhpcy5kYXRhSW5pY2lhbCwKICAgICAgICBkYXRhRmluYWw6IHRoaXMuZGF0YUZpbmFsLAogICAgICAgIHBvclBhZ2luYTogdGhpcy5wb3JQYWdpbmEsCiAgICAgICAgZmllbGRzOiB0aGlzLmZpZWxkcywKICAgICAgICBmaWx0cm9FbXByZXNhczogdGhpcy5maWx0cm9FbXByZXNhcwogICAgICB9OwogICAgICBhd2FpdCBsb2NhbFN0b3JhZ2Uuc2V0SXRlbSgidWx0aW1hUGVzcXVpc2EiLCBKU09OLnN0cmluZ2lmeSh1bHRpbWFQZXNxdWlzYSkpOwogICAgfSwKCiAgICBhc3luYyBidXNjYXJVbHRpbWFQZXNxdWlzYSgpIHsKICAgICAgY29uc3QgcGVzcXVpc2EgPSBhd2FpdCBsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgidWx0aW1hUGVzcXVpc2EiKTsKICAgICAgdGhpcy5zdGF0dXNMaXN0U2VsZWN0ZWQgPSBKU09OLnBhcnNlKHBlc3F1aXNhKS5zdGF0dXMgPyBKU09OLnBhcnNlKHBlc3F1aXNhKS5zdGF0dXMgOiB0aGlzLnN0YXR1czsKICAgICAgdGhpcy5tYXJrZXRQbGFjZXNMaXN0U2VsZWN0ZWQgPSBKU09OLnBhcnNlKHBlc3F1aXNhKS5tYXJrZXRwbGFjZXMgPyBKU09OLnBhcnNlKHBlc3F1aXNhKS5tYXJrZXRwbGFjZXMgOiB0aGlzLm1hcmtldHBsYWNlczsKICAgICAgdGhpcy5kYXRhSW5pY2lhbCA9IEpTT04ucGFyc2UocGVzcXVpc2EpLmRhdGFJbmljaWFsID8gSlNPTi5wYXJzZShwZXNxdWlzYSkuZGF0YUluaWNpYWwgOiB0aGlzLmRhdGFJbmljaWFsOwogICAgICB0aGlzLmRhdGFGaW5hbCA9IEpTT04ucGFyc2UocGVzcXVpc2EpLmRhdGFGaW5hbCA/IEpTT04ucGFyc2UocGVzcXVpc2EpLmRhdGFGaW5hbCA6IHRoaXMuZGF0YUZpbmFsOwogICAgICB0aGlzLnBvclBhZ2luYSA9IEpTT04ucGFyc2UocGVzcXVpc2EpLnBvclBhZ2luYSA/IEpTT04ucGFyc2UocGVzcXVpc2EpLnBvclBhZ2luYSA6IHRoaXMucG9yUGFnaW5hOyAvLyBhZGljaW9uYXIgYXMgZmllbGRzIHBhcmEgYXMgY29sdW5hcwoKICAgICAgdGhpcy5maWVsZHMgPSBKU09OLnBhcnNlKHBlc3F1aXNhKS5maWVsZHMgPyBKU09OLnBhcnNlKHBlc3F1aXNhKS5maWVsZHMgOiB0aGlzLmZpZWxkczsKICAgICAgdGhpcy5maWx0cm9FbXByZXNhcyA9IEpTT04ucGFyc2UocGVzcXVpc2EpLmZpbHRyb0VtcHJlc2FzID8gSlNPTi5wYXJzZShwZXNxdWlzYSkuZmlsdHJvRW1wcmVzYXMgOiB0aGlzLmZpbHRyb0VtcHJlc2FzOwogICAgICB0aGlzLmJ0bkZpbHRyb3MoKTsKICAgIH0sCgogICAgY2xlYXJJbmljaWFsRGF0ZSgpIHsKICAgICAgdGhpcy5kYXRhSW5pY2lhbCA9ICIiOwogICAgfSwKCiAgICBjbGVhckZpbmFsRGF0ZSgpIHsKICAgICAgdGhpcy5kYXRhRmluYWwgPSAiIjsKICAgIH0sCgogICAgYXRyYXNhZG9zKCkgewogICAgICB0aGlzLnBlZGlkb3NBdHJhc2Fkb3MgPSBbXTsKCiAgICAgIGlmICh0aGlzLmZpbHRybyA9PSAiIikgewogICAgICAgIHRoaXMuZmlsdHJvID0gInRydWUiOwogICAgICAgIHRoaXMuc29tZW50ZUF0cmFzYWRvcyA9IHRydWU7CiAgICAgICAgdGhpcy5wZWRpZG9zQXRyYXNhZG9zID0gdGhpcy5wZWRpZG9zTGlzdC5maWx0ZXIoYXRyYXNhZG8gPT4gYXRyYXNhZG8uRW50cmVnYUVtQXRyYXNvID09PSB0cnVlKTsKICAgICAgfSBlbHNlIHsKICAgICAgICB0aGlzLmZpbHRybyA9ICIiOwogICAgICAgIHRoaXMuc29tZW50ZUF0cmFzYWRvcyA9IGZhbHNlOwogICAgICB9CiAgICB9LAoKICAgIGRldGFsaGVzKHJvdywgdGV4dCkgewogICAgICBpZiAocm93Lml0ZW0uX3Nob3dEZXRhaWxzID09IHVuZGVmaW5lZCB8fCByb3cuaXRlbS5fc2hvd0RldGFpbHMgPT0gZmFsc2UpIHsKICAgICAgICBpZiAodGV4dCA9PSAic3RhdHVzIikgewogICAgICAgICAgdGhpcy5zdGF0dXMgPSB0cnVlOwogICAgICAgIH0gZWxzZSBpZiAodGV4dCA9PSAib2MiKSB7CiAgICAgICAgICB0aGlzLm9jID0gdHJ1ZTsKICAgICAgICB9CgogICAgICAgIHJvdy5pdGVtLl9zaG93RGV0YWlscyA9IHRydWU7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgcm93Lml0ZW0uX3Nob3dEZXRhaWxzID0gZmFsc2U7CiAgICAgICAgdGhpcy5zdGF0dXMgPSBmYWxzZTsKICAgICAgICB0aGlzLm9jID0gZmFsc2U7CiAgICAgIH0KICAgIH0sCgogICAgZ2VyYXJSb21hbmVpb3MoKSB7CiAgICAgIEFwaVNlcnZpY2UuZ2V0KCJ2Mi9JbnRyYW5ldEVjb21tZXJjZUIyQy9QZWRpZG9zL0dlcmFSb21hbmVpb0ZhdHVyYSIsIHt9LCB0cnVlLCA0NTAwMCkudGhlbihyZXMgPT4gewogICAgICAgIHRoaXMuJHJvb3QudG9hc3RzdWNjZXNzKHJlcyk7CiAgICAgICAgdGhpcy5idG5GaWx0cm9zKCk7CiAgICAgIH0pLmNhdGNoKGUgPT4gewogICAgICAgIHRoaXMuJHJvb3QudG9hc3RkYW5nZXIoIkVycm8gYW8gZ2VyYXIgcm9tYW5laW9zISAiICsgZSk7CiAgICAgIH0pOwogICAgfSwKCiAgICByZXNldE1vZGFsKCkgewogICAgICB0aGlzLm1vdGl2byA9ICIiOwogICAgICB0aGlzLm1vdGl2b1N0YXRlID0gbnVsbDsKICAgIH0sCgogICAgaGFuZGxlT2socm93KSB7CiAgICAgIHRoaXMuaGFuZGxlU3VibWl0KHJvdyk7CiAgICB9LAoKICAgIGhhbmRsZVN1Ym1pdChyb3cpIHsKICAgICAgaWYgKHRoaXMubW90aXZvID09ICIiKSB7CiAgICAgICAgcmV0dXJuOwogICAgICB9IC8vIEhpZGUgdGhlIG1vZGFsIG1hbnVhbGx5CgoKICAgICAgdGhpcy4kbmV4dFRpY2soKCkgPT4gewogICAgICAgIC8vIGVudmlhIHZpYSBhcGkgbyBwcm9jZXNzbyBkZSBjYW5jZWxhbWVudG8KICAgICAgICBjb25zb2xlLmxvZygiT2NJZDogIiArIHJvdy5pdGVtLk9jSWQgKyAiIHx8IE1vdGl2bzogIiArIHRoaXMubW90aXZvKTsKICAgICAgICB2YXIgZGF0YSA9IHsKICAgICAgICAgIE9jSWQ6IHJvdy5pdGVtLk9jSWQsCiAgICAgICAgICBNb3Rpdm86IHRoaXMubW90aXZvCiAgICAgICAgfTsKICAgICAgICBBcGlTZXJ2aWNlLnBvc3QoInYyL0ludHJhbmV0RWNvbW1lcmNlQjJDL09yZGVtQ29tcHJhL0NhbmNlbGFyIiwgZGF0YSkudGhlbihkYXRhID0+IHsKICAgICAgICAgIGNvbnNvbGUubG9nKGRhdGEpOwogICAgICAgICAgdGhpcy4kcm9vdC50b2FzdHN1Y2Nlc3MoIk9DIGNhbmNlbGFkbyBjb20gc3VjZXNzbyEiKTsKICAgICAgICB9KS5jYXRjaChlID0+IHsKICAgICAgICAgIHRoaXMuJHJvb3QudG9hc3RkYW5nZXIoIkVycm8gYW8gY2FuY2VsYXIgYSBPQyEiKTsKICAgICAgICB9KTsKICAgICAgICB0aGlzLiRidk1vZGFsLmhpZGUoIm1vZGFsLW1vdGl2by1jYW5jZWxhbWVudG8iKTsKICAgICAgfSk7CiAgICB9LAoKICAgIC8qIERSQUcgQ09MVU1OUyAqLwogICAgZHJhZ1N0YXJ0KGUpIHsKICAgICAgY29uc29sZS5sb2coImRyYWdTdGFydCBpbiA6IiwgZS50YXJnZXQuaWQpOwogICAgICB0aGlzLmRyYWdmaWVsZHN0YXJ0ID0gZS50YXJnZXQuaWQ7CiAgICB9LAoKICAgIGRyYWdFbnRlcihlKSB7CiAgICAgIGUucHJldmVudERlZmF1bHQoKTsKICAgICAgZS50YXJnZXQuY2xhc3NMaXN0LmFkZCgiZHJhZy1vdmVyIik7CiAgICB9LAoKICAgIGRyYWdPdmVyKGUpIHsKICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpOwogICAgICBlLnRhcmdldC5jbGFzc0xpc3QuYWRkKCJkcmFnLW92ZXIiKTsKICAgIH0sCgogICAgZHJhZ0xlYXZlKGUpIHsKICAgICAgZS50YXJnZXQuY2xhc3NMaXN0LnJlbW92ZSgiZHJhZy1vdmVyIik7CiAgICB9LAoKICAgIGRyb3AoZSkgewogICAgICBjb25zb2xlLmxvZygiZHJvcCBpbiA6IiwgZS50YXJnZXQuaWQpOwogICAgICBlLnRhcmdldC5jbGFzc0xpc3QucmVtb3ZlKCJkcmFnLW92ZXIiKTsgLy8gbW92ZSBvIGZyb20gcGFyYSBvIHRvCgogICAgICB0aGlzLmNoYW5nZWNvbHVtbnModGhpcy5kcmFnZmllbGRzdGFydCwgZS50YXJnZXQuaWQpOwogICAgfSwKCiAgICBjaGFuZ2Vjb2x1bW5zKENvbHVtbkEsIENvbHVtbkIpIHsKICAgICAgY29uc3Qgc3RhcnQgPSB0aGlzLmZpZWxkcy5maW5kSW5kZXgoZiA9PiAoZi5rZXkgfHwgZikgPT0gQ29sdW1uQSk7CiAgICAgIGxldCBmcm9tID0gc3RhcnQ7CiAgICAgIGxldCB0byA9IHRoaXMuZmllbGRzLmZpbmRJbmRleChmID0+IChmLmtleSB8fCBmKSA9PSBDb2x1bW5CKTsgLy8gbW92ZSBhIGNvbHVuYUEgcGFyYSBvIGluZGljZSBkYSBjb2x1bmEgQgoKICAgICAgdGhpcy5tb3ZlKGZyb20sIHRvKTsgLy8gbW92ZSBhIGNvbHVuYUEgcGFyYSBvIGluZGljZSBkYSBjb2x1bmEgQgogICAgICAvL2Zyb20gPSB0aGlzLmZpZWxkcy5maW5kSW5kZXgoKGYpID0+IChmLmtleSB8fCBmKSA9PSBDb2x1bW5CKTsKICAgICAgLy90byA9IHN0YXJ0OwogICAgICAvL3RoaXMubW92ZShmcm9tLCB0byk7CiAgICB9LAoKICAgIG1vdmUoZnJvbSwgdG8pIHsKICAgICAgdGhpcy5maWVsZHMuc3BsaWNlKHRvLCAwLCB0aGlzLmZpZWxkcy5zcGxpY2UoZnJvbSwgMSlbMF0pOwogICAgfSwKCiAgICBjYWxjdWxhQXRyYXNvKGRhdGExLCBkYXRhMikgewogICAgICAvLyAgY29uc29sZS5lcnJvcigiZGF0YTEiLCBkYXRhMSk7CiAgICAgIC8vICBjb25zb2xlLmVycm9yKCJkYXRhMiIsIGRhdGEyKTsKICAgICAgdmFyIHByZXZpc2FvID0gbmV3IERhdGUoZGF0YTEpOwogICAgICB2YXIgaG9qZSA9IG5ldyBEYXRlKCk7CiAgICAgIHZhciBlbnRyZWdhID0gbmV3IERhdGUoZGF0YTIpOwoKICAgICAgaWYgKGRhdGExID09IG51bGwpIHsKICAgICAgICByZXR1cm4gIiI7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgaWYgKGRhdGEyICE9ICIiKSB7CiAgICAgICAgICB2YXIgZGlmZkVudHJlZ2EgPSBNYXRoLmFicyhlbnRyZWdhIC0gcHJldmlzYW8pOwogICAgICAgICAgdmFyIGRpYXNEaWZmID0gZGlmZkVudHJlZ2EgLyAoMTAwMCAqIDM2MDAgKiAyNCk7CgogICAgICAgICAgaWYgKHByZXZpc2FvID4gZW50cmVnYSkgewogICAgICAgICAgICByZXR1cm4gIi0iICsgTWF0aC5yb3VuZChkaWFzRGlmZik7CiAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICByZXR1cm4gTWF0aC5yb3VuZChkaWFzRGlmZik7CiAgICAgICAgICB9CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgIHZhciBkaWZmID0gTWF0aC5hYnMoaG9qZSAtIHByZXZpc2FvKTsKICAgICAgICAgIHZhciBkYXlzID0gZGlmZiAvICgxMDAwICogMzYwMCAqIDI0KTsKCiAgICAgICAgICBpZiAocHJldmlzYW8gPj0gaG9qZSkgewogICAgICAgICAgICByZXR1cm4gIi0iICsgTWF0aC5yb3VuZChkYXlzKTsKICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgIHJldHVybiBNYXRoLnJvdW5kKGRheXMpOwogICAgICAgICAgfQogICAgICAgIH0KICAgICAgfQogICAgfSwKCiAgICBhc3luYyBnZXRBY29tcGFuaGFtZW50b1JlbGFjaW9uYW1lbnRvcyhpdGVtKSB7CiAgICAgIHZhciByZXMgPSBhd2FpdCBBcGlTZXJ2aWNlLnBvc3QoInYyL0Fjb21wYW5oYW1lbnRvcy9SZWxhY2lvbmFtZW50b3MvR2V0IiwgewogICAgICAgIENoYXZlOiBpdGVtLklkLAogICAgICAgIFRhYmVsYTogIlBlZGlkb3MiCiAgICAgIH0pOwoKICAgICAgaWYgKHJlcy5kYXRhLlN1Y2Nlc3MKICAgICAgLyogdHJ1ZSAqLwogICAgICApIHsKICAgICAgICB0aGlzLmFjb21wYW5oYW1lbnRvSUQgPSByZXMuZGF0YS5EYXRhWzBdLkFjb21wYW5oYW1lbnRvSWQ7CiAgICAgICAgdGhpcy4kcmVmc1siQWNvbXBhbmhhbWVudG9zTW9kYWwiXS5zaG93KCk7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgLyogZmFsc2UgKi8KICAgICAgICB2YXIgcmVzMSA9IGF3YWl0IEFwaVNlcnZpY2UucG9zdCgidjIvQWNvbXBhbmhhbWVudG9zL1JlbGFjaW9uYW1lbnRvcy9TYXZlIiwgewogICAgICAgICAgQ2hhdmU6IGl0ZW0uSWQsCiAgICAgICAgICBUYWJlbGE6ICJQZWRpZG9zIiwKICAgICAgICAgIEFjb21wYW5oYW1lbnRvSWQ6IG51bGwsCiAgICAgICAgICBBY29tcGFuaGFtZW50b0Rlc2NyaWNhbzogIkFjb21wYW5oYW1lbnRvcyBQZWRpZG8gIiArIGl0ZW0uTnVtZXJvCiAgICAgICAgfSk7CiAgICAgICAgdGhpcy5hY29tcGFuaGFtZW50b0lEID0gcmVzMS5kYXRhLkRhdGFbMF0uQWNvbXBhbmhhbWVudG9JZDsKICAgICAgICB0aGlzLiRyZWZzWyJBY29tcGFuaGFtZW50b3NNb2RhbCJdLnNob3coKTsKICAgICAgfQogICAgfQoKICB9Cn07"},{"version":3,"mappings":"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EA6C,8BAFA;IAIA,CA9DA;;IAgEA;MACA;MACA,wDACAA,2BADA,GAEA,WAFA;MAGA,oEACAA,iCADA,GAEA,iBAFA;MAGA,sDACAA,gCADA,GAEA,gBAFA;MAGA,kDACAA,8BADA,GAEA,cAFA;MAGA,kDACAA,8BADA,GAEA,cAFA,CAdA,CAiBA;;MACA,4CACAA,2BADA,GAEA,WAFA;MAGA,4DACAA,mCADA,GAEA,mBAFA;MAGA;IACA,CAzFA;;IA2FAC;MACA;IACA,CA7FA;;IA+FAC;MACA;IACA,CAjGA;;IAmGAC;MACA;;MACA;QACA;QACA;QACA,gDACAC,6CADA;MAGA,CANA,MAMA;QACA;QACA;MACA;IACA,CA/GA;;IAiHAC;MACA,IACAC,sCACAA,8BAFA,EAGA;QACA;UACA;QACA,CAFA,MAEA;UACA;QACA;;QACAA;MACA,CAVA,MAUA;QACAA;QACA;QACA;MACA;IACA,CAjIA;;IAmIAC;MACAZ,eACA,oDADA,EACA,EADA,EACA,IADA,EACA,KADA,EAIAG,IAJA,CAIAU;QACA;QACA;MACA,CAPA,EAQAC,KARA,CAQAC;QACA;MACA,CAVA;IAWA,CA/IA;;IAiJAC;MACA;MACA;IACA,CApJA;;IAqJAC;MACA;IACA,CAvJA;;IAwJAC;MACA;QACA;MACA,CAHA,CAIA;;;MACA;QACA;QACAd;QACA;UACAe,mBADA;UAEAC;QAFA;QAIApB,sEACAG,IADA,CACAlD;UACAmD;UACA;QACA,CAJA,EAKAU,KALA,CAKAC;UACA;QACA,CAPA;QASA;MACA,CAjBA;IAkBA,CA/KA;;IAiLA;IACAM;MACAjB;MACA;IACA,CArLA;;IAsLAkB;MACAP;MACAA;IACA,CAzLA;;IA2LAQ;MACAR;MACAA;IACA,CA9LA;;IAgMAS;MACAT;IACA,CAlMA;;IAoMAU;MACArB;MACAW,uCAFA,CAGA;;MACA;IACA,CAzMA;;IA0MAW;MACA;MACA;MACA,6DAHA,CAIA;;MACA,oBALA,CAOA;MACA;MACA;MACA;IACA,CArNA;;IAsNAC;MACA;IACA,CAxNA;;IA0NAC;MACA;MACA;MAEA;MACA;MACA;;MACA;QACA;MACA,CAFA,MAEA;QACA;UACA;UACA;;UACA;YACA;UACA,CAFA,MAEA;YACA;UACA;QACA,CARA,MAQA;UACA;UACA;;UACA;YACA;UACA,CAFA,MAEA;YACA;UACA;QACA;MACA;IACA,CAtPA;;IAwPA;MACA,gCACA,wCADA,EAEA;QACAC,cADA;QAEAC;MAFA,CAFA;;MAQA;MAAA;MAAA;QACA;QACA;MACA,CAHA,MAGA;QACA;QACA,iCACA,yCADA,EAEA;UACAD,cADA;UAEAC,iBAFA;UAGAC,sBAHA;UAIAC;QAJA,CAFA;QASA;QACA;MACA;IACA;;EAlRA;AAxSA","names":["name","components","AcompanhamentosVue","data","acompanhamentoID","motivo","motivoState","visivel","filtro","filterOn","filtroEmpresas","porPagina","paginaAtiva","marketPlacesListSelected","statusListSelected","utilizouFiltro","filtrado","loading","somenteAtrasados","pedidosAtrasados","oc","status","dataInicial","dataFinal","marketPlacesList","statusList","pedidosList","fields","key","sortable","label","visible","tdClass","_showDetails","dragfieldstart","created","computed","pedidosFields","pedidosTotaisCount","valor","valorFrete","pedidosListEmpresa","empresa","a","Empresa","NomeEmpresa","methods","rowClass","onRowSelected","buscar","ApiService","result","marketplaces","then","console","JSON","clearInicialDate","clearFinalDate","atrasados","atrasado","detalhes","row","gerarRomaneios","res","catch","e","resetModal","handleOk","handleSubmit","OcId","Motivo","dragStart","dragEnter","dragOver","dragLeave","drop","changecolumns","move","calculaAtraso","Chave","Tabela","AcompanhamentoId","AcompanhamentoDescricao"],"sourceRoot":"src/pages/ecommerce/views","sources":["Pedidos.vue"],"sourcesContent":["<template>\r\n  <div id=\"divPrincipal\" class=\"text-center\">\r\n    <b-card class=\"m-2\">\r\n      <b-row id=\"row\" class=\"m-2\">\r\n        <div class=\"d-flex\">\r\n          <b-button>\r\n            <strong>{{ pedidosTotaisCount }}</strong>\r\n          </b-button>\r\n\r\n          <b-button\r\n            class=\"ml-1\"\r\n            :variant=\"somenteAtrasados ? 'danger' : ''\"\r\n            @click=\"atrasados\"\r\n          >\r\n            Somente em atraso\r\n          </b-button>\r\n\r\n          <div class=\"ml-2\">\r\n            <b-input-group prepend=\"Filtro\" size=\"sm\">\r\n              <b-form-input\r\n                id=\"input-filtro\"\r\n                type=\"search\"\r\n                v-model=\"filtro\"\r\n                :debounce=\"1000\"\r\n              ></b-form-input>\r\n            </b-input-group>\r\n          </div>\r\n        </div>\r\n\r\n        <div>\r\n          <b-row>\r\n            <b-col>\r\n              <b-input-group style=\"width: 250px\">\r\n                <b-form-datepicker\r\n                  size=\"sm\"\r\n                  v-model=\"dataInicial\"\r\n                  placeholder=\"Data Inicial\"\r\n                  locale=\"pt-br\"\r\n                  :date-format-options=\"{\r\n                    year: 'numeric',\r\n                    month: 'numeric',\r\n                    day: 'numeric',\r\n                  }\"\r\n                ></b-form-datepicker>\r\n\r\n                <b-input-group-append>\r\n                  <b-button variant=\"danger\" @click=\"clearInicialDate\">\r\n                    <b-icon-trash></b-icon-trash>\r\n                  </b-button>\r\n                </b-input-group-append>\r\n              </b-input-group>\r\n            </b-col>\r\n\r\n            <b-col>\r\n              <b-input-group style=\"width: 250px\">\r\n                <b-form-datepicker\r\n                  size=\"sm\"\r\n                  v-model=\"dataFinal\"\r\n                  placeholder=\"Data Final\"\r\n                  locale=\"pt-br\"\r\n                  :date-format-options=\"{\r\n                    year: 'numeric',\r\n                    month: 'numeric',\r\n                    day: 'numeric',\r\n                  }\"\r\n                ></b-form-datepicker>\r\n\r\n                <b-input-group-append>\r\n                  <b-button variant=\"danger\" @click=\"clearFinalDate\">\r\n                    <b-icon-trash></b-icon-trash>\r\n                  </b-button>\r\n                </b-input-group-append>\r\n              </b-input-group>\r\n            </b-col>\r\n\r\n            <b-dropdown class=\"mr-2\" right size=\"sm\" text=\"Marketplaces\">\r\n              <b-form-checkbox\r\n                style=\"width: 200px\"\r\n                class=\"mb-1 ml-1\"\r\n                v-for=\"market in marketPlacesList\"\r\n                :key=\"market.value\"\r\n                size=\"sm\"\r\n                :value=\"market.value\"\r\n                v-model=\"marketPlacesListSelected\"\r\n                name=\"check-button\"\r\n                switch\r\n                >{{ market.text }}</b-form-checkbox\r\n              >\r\n            </b-dropdown>\r\n\r\n            <b-dropdown class=\"mr-2\" right text=\"Status\" size=\"sm\">\r\n              <b-form-checkbox\r\n                style=\"width: 300px\"\r\n                class=\"mb-1 ml-1\"\r\n                v-for=\"status in statusList\"\r\n                :key=\"status.value\"\r\n                size=\"sm\"\r\n                :value=\"status.value\"\r\n                v-model=\"statusListSelected\"\r\n                name=\"check-button2\"\r\n                switch\r\n                >{{ status.text }}</b-form-checkbox\r\n              >\r\n            </b-dropdown>\r\n\r\n            <b-dropdown class=\"mr-2\" right size=\"sm\" text=\"Colunas Visiveis\">\r\n              <b-form-checkbox\r\n                style=\"width: 200px\"\r\n                class=\"mb-1 ml-1\"\r\n                v-for=\"market in fields\"\r\n                :key=\"market.key\"\r\n                size=\"sm\"\r\n                v-model=\"market.visible\"\r\n                name=\"check-button\"\r\n                switch\r\n              >\r\n                {{ market.label || market.key }}\r\n              </b-form-checkbox>\r\n            </b-dropdown>\r\n\r\n            <b-dropdown class=\"mr-2\" right size=\"sm\" text=\"Empresa\">\r\n              <b-form-checkbox\r\n                style=\"width: 300px\"\r\n                class=\"mb-1 ml-1\"\r\n                v-for=\"emp in empresa\"\r\n                :key=\"emp.Empresa\"\r\n                size=\"sm\"\r\n                v-model=\"filtroEmpresas\"\r\n                name=\"check-button\"\r\n                :value=\"emp.Empresa\"\r\n                switch\r\n                >{{ emp.NomeEmpresa }}</b-form-checkbox\r\n              >\r\n            </b-dropdown>\r\n\r\n            <b-dropdown class=\"mr-2\" right size=\"sm\" text=\"Ações\">\r\n              <b-button class=\"m-2\" @click=\"gerarRomaneios\"\r\n                >Gerar romaneios</b-button\r\n              >\r\n            </b-dropdown>\r\n          </b-row>\r\n        </div>\r\n\r\n        <div>\r\n          <b-button variant=\"danger\" class=\"mr-2\" @click=\"btnFiltros\">\r\n            <b-spinner small v-if=\"this.loading\"></b-spinner>\r\n\r\n            <span v-else>Filtrar</span>\r\n          </b-button>\r\n        </div>\r\n      </b-row>\r\n\r\n      <b-table\r\n        foot-clone\r\n        no-footer-sorting\r\n        id=\"my-table\"\r\n        :current-page=\"paginaAtiva\"\r\n        :per-page=\"porPagina\"\r\n        head-variant=\"dark\"\r\n        sort-by=\"DataCompra\"\r\n        sort-desc\r\n        selectable\r\n        striped\r\n        bordered\r\n        hovers\r\n        responsive\r\n        small\r\n        select-mode=\"single\"\r\n        :filter=\"filtro\"\r\n        :filter-included-fields=\"filterOn\"\r\n        :items=\"pedidosListEmpresa\"\r\n        :fields=\"pedidosFields\"\r\n        :tbody-tr-class=\"rowClass\"\r\n        @row-selected=\"onRowSelected\"\r\n        @filtered=\"(filtro) => (pedidosListEmpresa = filtro)\"\r\n      >\r\n        <template #head()=\"data\">\r\n          <div\r\n            :id=\"data.field.key\"\r\n            draggable=\"true\"\r\n            @dragstart=\"dragStart\"\r\n            @dragenter=\"dragEnter\"\r\n            @dragover=\"dragOver\"\r\n            @dragleave=\"dragLeave\"\r\n            @drop=\"drop\"\r\n          >\r\n            {{ data.label }}\r\n          </div>\r\n        </template>\r\n\r\n        <template #cell(actions)=\"row\">\r\n          <a\r\n            target=\"_blank\"\r\n            id=\"linkTabela\"\r\n            v-if=\"row.item.UrlRastreio != null\"\r\n            :href=\"row.item.UrlRastreio\"\r\n          >\r\n            <b-icon-truck font-scale=\"1.5\"></b-icon-truck>\r\n          </a>\r\n          &nbsp; &nbsp;\r\n          <a\r\n            target=\"_blank\"\r\n            id=\"linkTabela\"\r\n            v-if=\"row.item.urlImpressao != null\"\r\n            :href=\"row.item.urlImpressao\"\r\n          >\r\n            <b-icon-printer font-scale=\"1.5\"></b-icon-printer>\r\n          </a>\r\n        </template>\r\n\r\n        <template #cell(Numero)=\"row\">\r\n          <span @click=\"detalhes(row, 'oc')\">\r\n            {{ row.item.Numero }}\r\n            &nbsp; &nbsp; &nbsp;\r\n            {{ row.detailsShowing ? \"-\" : \"+\" }}\r\n          </span>\r\n        </template>\r\n\r\n        <template #cell(Status)=\"row\">\r\n          <span @click=\"detalhes(row, 'status')\">\r\n            {{ row.item.Rastreio[row.item.Rastreio.length - 1][\"Evento\"] }}\r\n            &nbsp; &nbsp; &nbsp;\r\n            {{ row.detailsShowing ? \"-\" : \"+\" }}\r\n          </span>\r\n        </template>\r\n        <template #cell(DataStatus)=\"row\">{{\r\n          row.item.Rastreio[row.item.Rastreio.length - 1][\"DataEvento\"]\r\n            | dateBRHora\r\n        }}</template>\r\n\r\n        <template #cell(Percentual)=\"row\">{{ row.item.Percentual }}%</template>\r\n\r\n        <template #cell(DataPrevisaoEntrega)=\"row\">{{\r\n          row.item.DataPrevisaoEntrega | dateBR\r\n        }}</template>\r\n\r\n        <template #cell(PedidoHubURL)=\"row\">\r\n          <a target=\"_blank\" :href=\"row.item.PedidoHubURL\" id=\"linkTabela\">{{\r\n            row.item.OrdemCompra\r\n          }}</a>\r\n        </template>\r\n\r\n        <template #cell(DataCompra)=\"row\">{{\r\n          new Date(row.item.DataCompra).toLocaleDateString()\r\n        }}</template>\r\n\r\n        <template #cell(ValorComFrete)=\"row\">{{\r\n          row.item.ValorComFrete | R$\r\n        }}</template>\r\n\r\n        <template #cell(ValorFrete)=\"row\">\r\n          <span>{{ row.item.ValorFrete | R$ }}</span>\r\n        </template>\r\n\r\n        <template #cell(ValorFreteDestacado)=\"row\">\r\n          <span style=\"color:red\">{{ row.item.ValorFreteDestacado | R$ }}</span>\r\n        </template>\r\n\r\n        <template #cell(Transportadora)=\"row\">{{\r\n          row.item.Transportadora.substr(0, 15)\r\n        }}</template>\r\n\r\n        <template #cell(Redespacho)=\"row\">{{\r\n          row.item.Redespacho != null ? row.item.Redespacho.substr(0, 15) : \"\"\r\n        }}</template>\r\n\r\n        <template #cell(DiasAtraso)=\"row\">\r\n          {{\r\n            calculaAtraso(\r\n              row.item.DataPrevisaoEntrega,\r\n              row.item.Eventos.filter(\r\n                (e) => e.Status == \"Entregue ao Destinatário\"\r\n              )\r\n                .map((e) => e.Data)\r\n                .toLocaleString()\r\n            )\r\n          }}\r\n        </template>\r\n\r\n        <template #cell(DataRealEntrega)=\"row\">\r\n          <span v-for=\"(item, index) in row.item.Eventos\" :key=\"index\">\r\n            <div v-if=\"item.Status == 'Entregue ao Destinatário'\">\r\n              {{ new Date(item.Data).toLocaleString() }}\r\n            </div>\r\n          </span>\r\n        </template>\r\n\r\n        <template #cell(Observacao)=\"row\">\r\n          <b-icon-pencil\r\n            scale=\"1.5\"\r\n            @click=\"getAcompanhamentoRelacionamentos(row.item)\"\r\n          ></b-icon-pencil>\r\n        </template>\r\n\r\n        <template #row-details=\"row\">\r\n          <b-card v-show=\"oc\">\r\n            <div>\r\n              <b-row>\r\n                <table border=\"1\">\r\n                  <tr>\r\n                    <th>Item</th>\r\n\r\n                    <th>Descrição</th>\r\n\r\n                    <th>Qtde_Faturada</th>\r\n\r\n                    <th>Qtde_Solicitada</th>\r\n\r\n                    <th>TotalComIPI</th>\r\n\r\n                    <th>TotalLiquido</th>\r\n\r\n                    <th>Valor_Unitario</th>\r\n\r\n                    <th>Valor_Unitario_Bruto</th>\r\n                  </tr>\r\n\r\n                  <tr v-for=\"item in row.item.Itens\" :key=\"item.StatusId\">\r\n                    <td>{{ item.Item }}</td>\r\n\r\n                    <td>{{ item.Descricao }}</td>\r\n\r\n                    <td>{{ item.Qtde_Faturada }}</td>\r\n\r\n                    <td>{{ item.Qtde_Solicitada }}</td>\r\n\r\n                    <td>R$ {{ item.TotalComIPI }}</td>\r\n\r\n                    <td>R$ {{ item.TotalLiquido }}</td>\r\n\r\n                    <td>R$ {{ item.Valor_Unitario }}</td>\r\n\r\n                    <td>R$ {{ item.Valor_Unitario_Bruto }}</td>\r\n                  </tr>\r\n                </table>\r\n\r\n                <b-button\r\n                  v-show=\"\r\n                    row.item.Status != 'Cancelado' &&\r\n                      row.item.Status != 'Finalizado'\r\n                  \"\r\n                  class=\"ml-2\"\r\n                  id=\"center\"\r\n                  variant=\"danger\"\r\n                  v-b-modal.modal-motivo-cancelamento\r\n                  >Cancelar OC</b-button\r\n                >\r\n\r\n                <b-modal\r\n                  id=\"modal-motivo-cancelamento\"\r\n                  ref=\"modal\"\r\n                  title=\"Descreva o motivo do cancelamento\"\r\n                  @hidden=\"resetModal\"\r\n                  @ok=\"handleOk(row)\"\r\n                >\r\n                  <form ref=\"form\" @submit.stop.prevent=\"handleSubmit\">\r\n                    <b-form-group\r\n                      label=\"Motivo\"\r\n                      label-for=\"name-input\"\r\n                      invalid-feedback=\"Motivo do cancelamento é obrigatório\"\r\n                      :state=\"motivoState\"\r\n                    >\r\n                      <b-form-input\r\n                        id=\"name-input\"\r\n                        v-model=\"motivo\"\r\n                        :state=\"motivoState\"\r\n                        required\r\n                      ></b-form-input>\r\n                    </b-form-group>\r\n                  </form>\r\n                </b-modal>\r\n              </b-row>\r\n            </div>\r\n          </b-card>\r\n\r\n          <b-card class=\"m-0\" v-show=\"status\">\r\n            <div>\r\n              <table border=\"1\">\r\n                <tr>\r\n                  <th>Status</th>\r\n\r\n                  <th>Data</th>\r\n                </tr>\r\n\r\n                <tr v-for=\"item in row.item.Rastreio\" :key=\"item.Id\">\r\n                  <td>{{ item.Evento }}</td>\r\n                  <td>{{ new Date(item.DataEvento).toLocaleString() }}</td>\r\n                </tr>\r\n              </table>\r\n\r\n              <br />\r\n            </div>\r\n          </b-card>\r\n        </template>\r\n\r\n        <!-- \r\n          Footer personalizado para somar as colunas de valores\r\n        deixar o primeiro template em branco e preencher os outros com \r\n        as colunas que quero mostrar\r\n        -->\r\n        <template #foot()>\r\n          <div></div>\r\n        </template>\r\n\r\n        <template #foot(ValorComFrete)>\r\n          <div>{{ valor | R$ }}</div>\r\n        </template>\r\n\r\n        <template #foot(ValorFrete)>\r\n          <div>{{ valorFrete | R$ }}</div>\r\n        </template>\r\n      </b-table>\r\n\r\n      <b-row id=\"pagination\" class=\"m-2\">\r\n        <div>\r\n          <b-input style=\"width:50px\" v-model=\"porPagina\"></b-input>\r\n        </div>\r\n\r\n        <b-pagination\r\n          id=\"pagination\"\r\n          :total-rows=\"pedidosTotaisCount\"\r\n          :per-page=\"porPagina\"\r\n          aria-controls=\"my-table\"\r\n          v-model=\"paginaAtiva\"\r\n        ></b-pagination>\r\n      </b-row>\r\n    </b-card>\r\n\r\n    <!-- Legenda -->\r\n    <b-card\r\n      header=\"Legenda de Cores da Tabela\"\r\n      class=\"m-2\"\r\n      header-bg-variant=\"dark\"\r\n      text-variant=\"white\"\r\n    >\r\n      <b-card-group deck>\r\n        <b-card\r\n          bg-variant=\"success\"\r\n          text-variant=\"white\"\r\n          header=\"Criados\"\r\n          class=\"text-center\"\r\n        >\r\n          <b-card-text>Pedidos Novos Criados.</b-card-text>\r\n        </b-card>\r\n        <b-card\r\n          bg-variant=\"danger\"\r\n          text-variant=\"white\"\r\n          header=\"Cancelados\"\r\n          class=\"text-center\"\r\n        >\r\n          <b-card-text>Pedidos Cancelados.</b-card-text>\r\n        </b-card>\r\n        <b-card\r\n          bg-variant=\"info\"\r\n          text-variant=\"white\"\r\n          header=\"Devoluções\"\r\n          class=\"text-center\"\r\n        >\r\n          <b-card-text>Notas Fiscais de Devolução.</b-card-text>\r\n        </b-card>\r\n        <b-card\r\n          bg-variant=\"warning\"\r\n          text-variant=\"white\"\r\n          header=\"Em Atraso\"\r\n          class=\"text-center\"\r\n        >\r\n          <b-card-text>Pedidos Em Atraso.</b-card-text>\r\n        </b-card>\r\n      </b-card-group>\r\n    </b-card>\r\n\r\n    <!-- MODAL -->\r\n\r\n    <b-modal\r\n      size=\"lg\"\r\n      ref=\"AcompanhamentosModal\"\r\n      id=\"AcompanhamentosModal\"\r\n      centered\r\n      hide-footer\r\n      hide-header\r\n    >\r\n      <AcompanhamentosVue :headerId=\"this.acompanhamentoID\" />\r\n    </b-modal>\r\n\r\n    <!-- MODAL -->\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { mapActions, mapGetters } from \"vuex\";\r\nimport ApiService from \"../../../services/api.service\";\r\nimport AcompanhamentosVue from \"../../../components/Acompanhamentos.vue\";\r\nimport loading from \"../../../store/loading\";\r\nimport { timeout } from \"q\";\r\n\r\nexport default {\r\n  name: \"EcommercePedidos\",\r\n  components: {\r\n    AcompanhamentosVue,\r\n  },\r\n  data() {\r\n    return {\r\n      acompanhamentoID: 0,\r\n      motivo: \"\",\r\n      motivoState: null,\r\n      visivel: \"\",\r\n      filtro: \"\",\r\n      filterOn: [\r\n        \"Itens\",\r\n        \"EntregaEmAtraso\",\r\n        \"Fantasia\",\r\n        \"Numero\",\r\n        \"PedidoHubURL\",\r\n        \"OCKappes\",\r\n        \"Cidade\",\r\n        \"Cliente\",\r\n        \"Estado\",\r\n        \"MarketPlace\",\r\n        \"Numero_Nota\",\r\n        \"OrdemCompra\",\r\n        \"Transportadora\",\r\n        \"Romaneio\",\r\n        \"OcId\",\r\n        \"Redespacho\",\r\n      ],\r\n      filtroEmpresas: [\"8\", \"34\"],\r\n      porPagina: 20,\r\n      paginaAtiva: 1,\r\n      marketPlacesListSelected: [],\r\n      statusListSelected: [],\r\n      utilizouFiltro: \"\",\r\n      filtrado: [],\r\n\r\n      loading: false,\r\n      somenteAtrasados: \"\",\r\n      pedidosAtrasados: [],\r\n\r\n      oc: false,\r\n      status: false,\r\n\r\n      dataInicial: new Date(1609549200000),\r\n      dataFinal: \"\",\r\n\r\n      marketPlacesList: [],\r\n      statusList: [],\r\n      pedidosList: [],\r\n      fields: [\r\n        {\r\n          key: \"Empresa\",\r\n          sortable: true,\r\n          label: \"Empresa\",\r\n          visible: true,\r\n        },\r\n        {\r\n          key: \"OcId\",\r\n          sortable: true,\r\n          label: \"Id OC\",\r\n          visible: true,\r\n        },\r\n        {\r\n          key: \"OCKappes\",\r\n          sortable: true,\r\n          tdClass: \"text-nowrap\",\r\n          label: \"OC Kappes\",\r\n          visible: true,\r\n        },\r\n        {\r\n          key: \"Numero\",\r\n          sortable: true,\r\n          label: \"Pedido\",\r\n          visible: true,\r\n          _showDetails: false,\r\n        },\r\n        {\r\n          key: \"DataCompra\",\r\n          sortable: true,\r\n          tdClass: \"text-nowrap\",\r\n          label: \"Data\",\r\n          visible: true,\r\n        },\r\n        {\r\n          key: \"Percentual\",\r\n          sortable: false,\r\n          label: \"Perc Coleta\",\r\n          visible: true,\r\n        },\r\n        {\r\n          key: \"PedidoHubURL\",\r\n          sortable: true,\r\n          tdClass: \"text-nowrap\",\r\n          label: \"OC Parceiro\",\r\n          visible: true,\r\n        },\r\n        {\r\n          key: \"MarketPlace\",\r\n          sortable: true,\r\n          tdClass: \"text-nowrap\",\r\n          label: \"Marketplace\",\r\n          visible: true,\r\n        },\r\n        {\r\n          key: \"Transportadora\",\r\n          sortable: true,\r\n          tdClass: \"text-nowrap\",\r\n          visible: true,\r\n        },\r\n        {\r\n          key: \"Fantasia\",\r\n          sortable: true,\r\n          tdClass: \"text-nowrap\",\r\n          label: \"Cliente\",\r\n          visible: true,\r\n        },\r\n        {\r\n          key: \"Telefone\",\r\n          sortable: true,\r\n          visible: true,\r\n          label: \"Fone\",\r\n        },\r\n        {\r\n          key: \"Cidade\",\r\n          sortable: true,\r\n          tdClass: \"text-nowrap\",\r\n          visible: true,\r\n        },\r\n        {\r\n          key: \"Estado\",\r\n          sortable: true,\r\n          label: \"UF\",\r\n          tdClass: \"text-nowrap\",\r\n          visible: true,\r\n        },\r\n        {\r\n          key: \"Status\",\r\n          sortable: true,\r\n          tdClass: \"text-nowrap\",\r\n          visible: true,\r\n          _showDetails: false,\r\n        },\r\n        {\r\n          key: \"DataStatus\",\r\n          sortable: true,\r\n          tdClass: \"text-nowrap\",\r\n          visible: true,\r\n        },\r\n        {\r\n          key: \"ValorComFrete\",\r\n          sortable: true,\r\n          tdClass: \"text-nowrap\",\r\n          label: \"Valor\",\r\n          visible: true,\r\n        },\r\n        {\r\n          key: \"ValorFrete\",\r\n          sortable: true,\r\n          tdClass: \"text-nowrap\",\r\n          visible: true,\r\n        },\r\n        {\r\n          key: \"ValorFreteDestacado\",\r\n          sortable: true,\r\n          tdClass: \"text-nowrap\",\r\n          visible: true,\r\n          label: \"Destacado\",\r\n        },\r\n        {\r\n          key: \"Romaneio\",\r\n          sortable: true,\r\n          tdClass: \"text-nowrap\",\r\n          visible: true,\r\n        },\r\n        {\r\n          key: \"Numero_Nota\",\r\n          sortable: true,\r\n          tdClass: \"text-nowrap\",\r\n          label: \"Nota\",\r\n          visible: true,\r\n        },\r\n        {\r\n          key: \"DataPrevisaoEntrega\",\r\n          sortable: true,\r\n          tdClass: \"text-nowrap\",\r\n          label: \"Previsao Entrega\",\r\n          visible: true,\r\n        },\r\n        {\r\n          key: \"Actions\",\r\n          sortable: false,\r\n          tdClass: \"text-nowrap\",\r\n          label: \"Ações\",\r\n          visible: true,\r\n        },\r\n        {\r\n          key: \"Redespacho\",\r\n          sortable: true,\r\n          tdClass: \"text-nowrap\",\r\n          label: \"Redespacho\",\r\n          visible: true,\r\n        },\r\n        {\r\n          key: \"DiasAtraso\",\r\n          sortable: true,\r\n          tdClass: \"text-nowrap\",\r\n          label: \"Dias Atraso\",\r\n          visible: true,\r\n        },\r\n        {\r\n          key: \"DataRealEntrega\",\r\n          sortable: true,\r\n          tdClass: \"text-nowrap\",\r\n          label: \"Data Entrega\",\r\n          visible: true,\r\n        },\r\n        {\r\n          key: \"Observacao\",\r\n          tdClass: \"text-nowrap\",\r\n          label: \"OBS\",\r\n          visible: true,\r\n        },\r\n        {\r\n          key: \"Rastreio\",\r\n          tdClass: \"text-nowrap\",\r\n          label: \"Rastreio\",\r\n          visible: false,\r\n        },\r\n      ],\r\n      dragfieldstart: \"\",\r\n    };\r\n  },\r\n\r\n  created() {\r\n    this.acthome(\"/ecommerce\");\r\n    this.buscarUltimaPesquisa();\r\n    this.pedidosList = [];\r\n    this.buscar();\r\n  },\r\n\r\n  // async mounted() {\r\n  //   const pesquisa = await localStorage.getItem(\"ultimaPesquisa\");\r\n\r\n  //   this.fields.map(e => {\r\n  //     if (JSON.parse(pesquisa).fields.find(f => f.key == e.key)) {\r\n  //       e.visible = JSON.parse(pesquisa).fields.find(\r\n  //         f => f.key == e.key\r\n  //       ).visible;\r\n  //     } else {\r\n  //       e.visible = false;\r\n  //     }\r\n  //   });\r\n  // },\r\n\r\n  computed: {\r\n    pedidosFields() {\r\n      return this.fields.filter((f) => f.visible);\r\n    },\r\n\r\n    pedidosTotaisCount() {\r\n      return this.pedidosListEmpresa.length;\r\n    },\r\n\r\n    valor() {\r\n      var sum = this.pedidosListEmpresa.reduce(\r\n        (acumulador, valorAtual) => acumulador + valorAtual.ValorComFrete,\r\n        0\r\n      );\r\n      return Math.round(sum * 100) / 100;\r\n    },\r\n    valorFrete() {\r\n      var sum = this.pedidosListEmpresa.reduce(\r\n        (acumulador, valorAtual) => acumulador + valorAtual.ValorFrete,\r\n        0\r\n      );\r\n      return Math.round(sum * 100) / 100;\r\n    },\r\n\r\n    pedidosListEmpresa() {\r\n      return this.filtrado.filter((res) =>\r\n        this.filtroEmpresas.find((e) => e == res.Empresa)\r\n      );\r\n    },\r\n\r\n    empresa() {\r\n      return this.pedidosList.reduce((a, b) => {\r\n        if (!a.find((f) => f.Empresa == b.Empresa)) {\r\n          a.push({ Empresa: b.Empresa, NomeEmpresa: b.Nome_Empresa });\r\n        }\r\n        return a;\r\n      }, []);\r\n    },\r\n  },\r\n\r\n  methods: {\r\n    ...mapActions([\"acthome\"]),\r\n\r\n    rowClass(item, type) {\r\n      if (!item || type !== \"row\") return;\r\n      if (item.Valor < 0) return \"table-info\";\r\n      if (item.Status === \"Cancelado\") return \"table-danger\";\r\n      if (item.Status === \"Criado\") return \"table-success\";\r\n      if (item.EntregaEmAtraso == true) return \"table-warning\";\r\n    },\r\n\r\n    onRowSelected(items) {\r\n      // console.log(items[0].PedidoHubURL);\r\n    },\r\n\r\n    buscar() {\r\n      ApiService.get(\"v2/IntranetEcommerceB2C/Marketplaces/Combo\").then(\r\n        (result) => {\r\n          this.marketPlacesList = result.data.Data;\r\n        }\r\n      );\r\n      ApiService.get(\"v2/IntranetEcommerceB2C/Pedidos/Status\").then(\r\n        (result) => {\r\n          this.statusList = result.data.Data;\r\n        }\r\n      );\r\n    },\r\n\r\n    async btnFiltros() {\r\n      await this.salvarPesquisas();\r\n      this.loading = true;\r\n      ApiService.post(\"v2/IntranetEcommerceB2C/Pedidos/Get\", {\r\n        status: this.statusListSelected,\r\n        marketplaces: this.marketPlacesListSelected,\r\n        dataInicial: this.dataInicial,\r\n        dataFinal: this.dataFinal,\r\n      }).then((result) => {\r\n        console.log(\"result\", result.data);\r\n        if (result.data.Success) {\r\n          this.pedidosList = result.data.Data;\r\n          this.filtrado = result.data.Data;\r\n          this.utilizouFiltro = new Date();\r\n        }\r\n        this.loading = false;\r\n        this.empresas;\r\n      });\r\n    },\r\n\r\n    async salvarPesquisas() {\r\n      const ultimaPesquisa = {\r\n        marketplaces: this.marketPlacesListSelected,\r\n        status: this.statusListSelected,\r\n        dataInicial: this.dataInicial,\r\n        dataFinal: this.dataFinal,\r\n        porPagina: this.porPagina,\r\n        fields: this.fields,\r\n        filtroEmpresas: this.filtroEmpresas,\r\n      };\r\n      await localStorage.setItem(\r\n        \"ultimaPesquisa\",\r\n        JSON.stringify(ultimaPesquisa)\r\n      );\r\n    },\r\n\r\n    async buscarUltimaPesquisa() {\r\n      const pesquisa = await localStorage.getItem(\"ultimaPesquisa\");\r\n      this.statusListSelected = JSON.parse(pesquisa).status\r\n        ? JSON.parse(pesquisa).status\r\n        : this.status;\r\n      this.marketPlacesListSelected = JSON.parse(pesquisa).marketplaces\r\n        ? JSON.parse(pesquisa).marketplaces\r\n        : this.marketplaces;\r\n      this.dataInicial = JSON.parse(pesquisa).dataInicial\r\n        ? JSON.parse(pesquisa).dataInicial\r\n        : this.dataInicial;\r\n      this.dataFinal = JSON.parse(pesquisa).dataFinal\r\n        ? JSON.parse(pesquisa).dataFinal\r\n        : this.dataFinal;\r\n      this.porPagina = JSON.parse(pesquisa).porPagina\r\n        ? JSON.parse(pesquisa).porPagina\r\n        : this.porPagina;\r\n      // adicionar as fields para as colunas\r\n      this.fields = JSON.parse(pesquisa).fields\r\n        ? JSON.parse(pesquisa).fields\r\n        : this.fields;\r\n      this.filtroEmpresas = JSON.parse(pesquisa).filtroEmpresas\r\n        ? JSON.parse(pesquisa).filtroEmpresas\r\n        : this.filtroEmpresas;\r\n      this.btnFiltros();\r\n    },\r\n\r\n    clearInicialDate() {\r\n      this.dataInicial = \"\";\r\n    },\r\n\r\n    clearFinalDate() {\r\n      this.dataFinal = \"\";\r\n    },\r\n\r\n    atrasados() {\r\n      this.pedidosAtrasados = [];\r\n      if (this.filtro == \"\") {\r\n        this.filtro = \"true\";\r\n        this.somenteAtrasados = true;\r\n        this.pedidosAtrasados = this.pedidosList.filter(\r\n          (atrasado) => atrasado.EntregaEmAtraso === true\r\n        );\r\n      } else {\r\n        this.filtro = \"\";\r\n        this.somenteAtrasados = false;\r\n      }\r\n    },\r\n\r\n    detalhes(row, text) {\r\n      if (\r\n        row.item._showDetails == undefined ||\r\n        row.item._showDetails == false\r\n      ) {\r\n        if (text == \"status\") {\r\n          this.status = true;\r\n        } else if (text == \"oc\") {\r\n          this.oc = true;\r\n        }\r\n        row.item._showDetails = true;\r\n      } else {\r\n        row.item._showDetails = false;\r\n        this.status = false;\r\n        this.oc = false;\r\n      }\r\n    },\r\n\r\n    gerarRomaneios() {\r\n      ApiService.get(\r\n        \"v2/IntranetEcommerceB2C/Pedidos/GeraRomaneioFatura\", {}, true, 45000,\r\n       \r\n      )\r\n        .then((res) => {\r\n          this.$root.toastsuccess(res);\r\n          this.btnFiltros();\r\n        })\r\n        .catch((e) => {\r\n          this.$root.toastdanger(\"Erro ao gerar romaneios! \" + e);\r\n        });\r\n    },\r\n\r\n    resetModal() {\r\n      this.motivo = \"\";\r\n      this.motivoState = null;\r\n    },\r\n    handleOk(row) {\r\n      this.handleSubmit(row);\r\n    },\r\n    handleSubmit(row) {\r\n      if (this.motivo == \"\") {\r\n        return;\r\n      }\r\n      // Hide the modal manually\r\n      this.$nextTick(() => {\r\n        // envia via api o processo de cancelamento\r\n        console.log(\"OcId: \" + row.item.OcId + \" || Motivo: \" + this.motivo);\r\n        var data = {\r\n          OcId: row.item.OcId,\r\n          Motivo: this.motivo,\r\n        };\r\n        ApiService.post(\"v2/IntranetEcommerceB2C/OrdemCompra/Cancelar\", data)\r\n          .then((data) => {\r\n            console.log(data);\r\n            this.$root.toastsuccess(\"OC cancelado com sucesso!\");\r\n          })\r\n          .catch((e) => {\r\n            this.$root.toastdanger(\"Erro ao cancelar a OC!\");\r\n          });\r\n\r\n        this.$bvModal.hide(\"modal-motivo-cancelamento\");\r\n      });\r\n    },\r\n\r\n    /* DRAG COLUMNS */\r\n    dragStart(e) {\r\n      console.log(\"dragStart in :\", e.target.id);\r\n      this.dragfieldstart = e.target.id;\r\n    },\r\n    dragEnter(e) {\r\n      e.preventDefault();\r\n      e.target.classList.add(\"drag-over\");\r\n    },\r\n\r\n    dragOver(e) {\r\n      e.preventDefault();\r\n      e.target.classList.add(\"drag-over\");\r\n    },\r\n\r\n    dragLeave(e) {\r\n      e.target.classList.remove(\"drag-over\");\r\n    },\r\n\r\n    drop(e) {\r\n      console.log(\"drop in :\", e.target.id);\r\n      e.target.classList.remove(\"drag-over\");\r\n      // move o from para o to\r\n      this.changecolumns(this.dragfieldstart, e.target.id);\r\n    },\r\n    changecolumns(ColumnA, ColumnB) {\r\n      const start = this.fields.findIndex((f) => (f.key || f) == ColumnA);\r\n      let from = start;\r\n      let to = this.fields.findIndex((f) => (f.key || f) == ColumnB);\r\n      // move a colunaA para o indice da coluna B\r\n      this.move(from, to);\r\n\r\n      // move a colunaA para o indice da coluna B\r\n      //from = this.fields.findIndex((f) => (f.key || f) == ColumnB);\r\n      //to = start;\r\n      //this.move(from, to);\r\n    },\r\n    move(from, to) {\r\n      this.fields.splice(to, 0, this.fields.splice(from, 1)[0]);\r\n    },\r\n\r\n    calculaAtraso(data1, data2) {\r\n      //  console.error(\"data1\", data1);\r\n      //  console.error(\"data2\", data2);\r\n\r\n      var previsao = new Date(data1);\r\n      var hoje = new Date();\r\n      var entrega = new Date(data2);\r\n      if (data1 == null) {\r\n        return \"\";\r\n      } else {\r\n        if (data2 != \"\") {\r\n          var diffEntrega = Math.abs(entrega - previsao);\r\n          var diasDiff = diffEntrega / (1000 * 3600 * 24);\r\n          if (previsao > entrega) {\r\n            return \"-\" + Math.round(diasDiff);\r\n          } else {\r\n            return Math.round(diasDiff);\r\n          }\r\n        } else {\r\n          var diff = Math.abs(hoje - previsao);\r\n          var days = diff / (1000 * 3600 * 24);\r\n          if (previsao >= hoje) {\r\n            return \"-\" + Math.round(days);\r\n          } else {\r\n            return Math.round(days);\r\n          }\r\n        }\r\n      }\r\n    },\r\n\r\n    async getAcompanhamentoRelacionamentos(item) {\r\n      var res = await ApiService.post(\r\n        \"v2/Acompanhamentos/Relacionamentos/Get\",\r\n        {\r\n          Chave: item.Id,\r\n          Tabela: \"Pedidos\",\r\n        }\r\n      );\r\n\r\n      if (res.data.Success /* true */) {\r\n        this.acompanhamentoID = res.data.Data[0].AcompanhamentoId;\r\n        this.$refs[\"AcompanhamentosModal\"].show();\r\n      } else {\r\n        /* false */\r\n        var res1 = await ApiService.post(\r\n          \"v2/Acompanhamentos/Relacionamentos/Save\",\r\n          {\r\n            Chave: item.Id,\r\n            Tabela: \"Pedidos\",\r\n            AcompanhamentoId: null,\r\n            AcompanhamentoDescricao: \"Acompanhamentos Pedido \" + item.Numero,\r\n          }\r\n        );\r\n        this.acompanhamentoID = res1.data.Data[0].AcompanhamentoId;\r\n        this.$refs[\"AcompanhamentosModal\"].show();\r\n      }\r\n    },\r\n  },\r\n};\r\n</script>\r\n\r\n<style>\r\n#divPrincipal {\r\n  font-size: 12px;\r\n}\r\n\r\n#center {\r\n  display: block;\r\n}\r\n\r\n#row {\r\n  justify-content: space-between;\r\n  margin: 1px, 1px, 1px, 1px;\r\n}\r\n\r\n#linkTabela {\r\n  color: blue;\r\n}\r\n\r\n#botoes {\r\n  width: min-content;\r\n  white-space: nowrap;\r\n  margin: 2px;\r\n}\r\n\r\n#inputDate {\r\n  width: 350px;\r\n}\r\n\r\n#pagination {\r\n  display: flex;\r\n  justify-content: flex-end;\r\n}\r\n\r\n.drag-over {\r\n  background-color: silver;\r\n  border-right: 5px solid lightgreen;\r\n  border-left: 5px solid lightgreen;\r\n}\r\n</style>\r\n"]}]}