{"remainingRequest":"C:\\k1-services\\node_modules\\babel-loader\\lib\\index.js!C:\\k1-services\\node_modules\\cache-loader\\dist\\cjs.js??ref--1-0!C:\\k1-services\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\k1-services\\src\\pages\\almoxarifado\\views\\lotes2.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\k1-services\\src\\pages\\almoxarifado\\views\\lotes2.vue","mtime":1670977910601},{"path":"C:\\k1-services\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1670977934221},{"path":"C:\\k1-services\\node_modules\\babel-loader\\lib\\index.js","mtime":1670977935138},{"path":"C:\\k1-services\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1670977934221},{"path":"C:\\k1-services\\node_modules\\vue-loader\\lib\\index.js","mtime":1670977935327}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KaW1wb3J0IHsgbWFwR2V0dGVycywgbWFwQWN0aW9ucyB9IGZyb20gInZ1ZXgiOwppbXBvcnQgTG90ZXNQcm9kdWNhbyBmcm9tICIuLi9jb21wb25lbnRzL0xvdGVzUHJvZHVjYW8iOwppbXBvcnQgR2Fpb2xhc0l0ZW5zQnVzY2EgZnJvbSAiLi4vY29tcG9uZW50cy9HYWlvbGFzSXRlbnNCdXNjYSI7CmltcG9ydCBBbG1veGFyaWZhZG9Nb3ZpbWVudGFjb2VzIGZyb20gIi4uLy4uL2FsbW94YXJpZmFkby92aWV3cy9BbG1veGFyaWZhZG9Nb3ZpbWVudGFjb2VzIjsKaW1wb3J0IHZpZXdzdG9yZSBmcm9tICIuLi8uLi8uLi9zZXJ2aWNlcy92aWV3c3RvcmUuanMiOwppbXBvcnQgQVBJIGZyb20gIi4uLy4uLy4uL3NlcnZpY2VzL2FwaS5zZXJ2aWNlLmpzIjsKZXhwb3J0IGRlZmF1bHQgewogIG5hbWU6ICJMb3RlczIiLAogIGNvbXBvbmVudHM6IHsKICAgIExvdGVzUHJvZHVjYW8sCiAgICBHYWlvbGFzSXRlbnNCdXNjYSwKICAgIEFsbW94YXJpZmFkb01vdmltZW50YWNvZXMKICB9LAoKICBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgdGFiSW5kZXg6IDEsCiAgICAgIGRhZG9zOiBbXSwKICAgICAgdGlwb3NlcGFyYWNhb2FsbW94OiAwLAogICAgICBlbXByZXNhOiA4LAogICAgICBkZXBvc2l0bzogMzcsCiAgICAgIGxvdGVzOiBbXSwKICAgICAgaXRlbWJ1c2NhOiB7CiAgICAgICAgY29kaWdvOiAwLAogICAgICAgIGVuZGVyZWNvOiAwLAogICAgICAgIGVtcDogcGFyc2VJbnQodGhpcy5lbXByZXNhKSwKICAgICAgICBkZXA6IHBhcnNlSW50KHRoaXMuZGVwb3NpdG8pLAogICAgICAgIGl0ZW06IFtdLAogICAgICAgIHF1YW50OiAwLAogICAgICAgIGRlbGV0YTogMCwKICAgICAgICBuaXZlbDogMQogICAgICB9LAogICAgICBpdGVuc2FsbW94OiB7fSwKICAgICAgbWF0ZXJpYWlzOiB7CiAgICAgICAgYnVzeTogZmFsc2UsCiAgICAgICAgcnVuOiAwLAogICAgICAgIGZpZWxkczogW3sKICAgICAgICAgIGtleTogIkl0ZW0iLAogICAgICAgICAgbGFiZWw6ICJJdGVtIiwKICAgICAgICAgIHNvcnRhYmxlOiB0cnVlLAogICAgICAgICAgdmlzaWJsZTogdHJ1ZQogICAgICAgIH0sIHsKICAgICAgICAgIGtleTogIkRlc2NyaWNhbyIsCiAgICAgICAgICBsYWJlbDogIkRlc2NyacOnw6NvIiwKICAgICAgICAgIHNvcnRhYmxlOiB0cnVlLAogICAgICAgICAgdmlzaWJsZTogdHJ1ZQogICAgICAgIH0sIHsKICAgICAgICAgIGtleTogIlVOIiwKICAgICAgICAgIGxhYmVsOiAiVU4iLAogICAgICAgICAgc29ydGFibGU6IHRydWUsCiAgICAgICAgICB2aXNpYmxlOiB0cnVlCiAgICAgICAgfSwgewogICAgICAgICAga2V5OiAiTG90ZXMiLAogICAgICAgICAgbGFiZWw6ICJMb3RlcyIsCiAgICAgICAgICBzb3J0YWJsZTogdHJ1ZSwKICAgICAgICAgIHZpc2libGU6IHRydWUKICAgICAgICB9LCB7CiAgICAgICAgICBrZXk6ICJRdGRlSXRlbSIsCiAgICAgICAgICBsYWJlbDogIlF0ZGUiLAogICAgICAgICAgc29ydGFibGU6IHRydWUsCiAgICAgICAgICB2aXNpYmxlOiB0cnVlCiAgICAgICAgfSwgewogICAgICAgICAga2V5OiAiUXRkZVNlcGFyYWRhIiwKICAgICAgICAgIGxhYmVsOiAiUXRkZSBTZXBhcmFkYSIsCiAgICAgICAgICBzb3J0YWJsZTogdHJ1ZSwKICAgICAgICAgIHZpc2libGU6IHRydWUKICAgICAgICB9LCB7CiAgICAgICAgICBrZXk6ICJBY3Rpb25zIiwKICAgICAgICAgIGxhYmVsOiAiQWN0aW9ucyIsCiAgICAgICAgICBzb3J0YWJsZTogZmFsc2UsCiAgICAgICAgICB2aXNpYmxlOiB0cnVlCiAgICAgICAgfV0sCiAgICAgICAgbG90ZXM6IFt7CiAgICAgICAgICBrZXk6ICJJdGVtIiwKICAgICAgICAgIGxhYmVsOiAiSXRlbSIsCiAgICAgICAgICBzb3J0YWJsZTogdHJ1ZSwKICAgICAgICAgIHZpc2libGU6IHRydWUKICAgICAgICB9LCB7CiAgICAgICAgICBrZXk6ICJsb3RlIiwKICAgICAgICAgIGxhYmVsOiAiTG90ZSIsCiAgICAgICAgICBzb3J0YWJsZTogdHJ1ZSwKICAgICAgICAgIHZpc2libGU6IHRydWUKICAgICAgICB9LCB7CiAgICAgICAgICBrZXk6ICJRdGRlSXRlbSIsCiAgICAgICAgICBsYWJlbDogIlF0ZGUiLAogICAgICAgICAgc29ydGFibGU6IHRydWUsCiAgICAgICAgICB2aXNpYmxlOiB0cnVlCiAgICAgICAgfSwgewogICAgICAgICAga2V5OiAiUXRkZVNlcGFyYWRhIiwKICAgICAgICAgIGxhYmVsOiAiUXRkZSBTZXBhcmFkYSIsCiAgICAgICAgICBzb3J0YWJsZTogdHJ1ZSwKICAgICAgICAgIHZpc2libGU6IHRydWUKICAgICAgICB9LCB7CiAgICAgICAgICBrZXk6ICJBY3Rpb25zIiwKICAgICAgICAgIGxhYmVsOiAiQWN0aW9ucyIsCiAgICAgICAgICBzb3J0YWJsZTogZmFsc2UsCiAgICAgICAgICB2aXNpYmxlOiB0cnVlCiAgICAgICAgfV0sCiAgICAgICAgYnV0dG9uczogW3sKICAgICAgICAgIGtleTogImVuZGUiLAogICAgICAgICAgaWNvbjogInNpZ25wb3N0LXNwbGl0IiwKICAgICAgICAgIHZhcmlhbnQ6ICJ3YXJuaW5nIiwKICAgICAgICAgIHNpemU6ICJzbSIsCiAgICAgICAgICB0b29sdGlwOiAiRW5kZXJlw6dvcyIKICAgICAgICB9XSwKICAgICAgICByb3V0ZTogIlByb2R1Y2FvL0xvdGVTZXRvcmVzL01hdGVyaWFpcyIsCiAgICAgICAgcGFyYW1zOiB7CiAgICAgICAgICBlbXByZXNhOiAiOCIsCiAgICAgICAgICBkZXBvc2l0bzogIjM3IiwKICAgICAgICAgIGxvdGVzOiB0aGlzLmxvdGVzcGxpdCwKICAgICAgICAgIFJlZnM6ICIiLAogICAgICAgICAgaWRUaXBvU2VwYXJhY2FvQWxtb3g6IG51bGwKICAgICAgICB9LAogICAgICAgIGRhdGE6IFtdLAogICAgICAgIHNlbGVjdGVkOiB7fSwKICAgICAgICByb3dzZWxlY3RlZDogW10KICAgICAgfQogICAgfTsKICB9LAoKICBjb21wdXRlZDogeyAuLi5tYXBHZXR0ZXJzKFsic3lzZGV2bW9kZSIsICJndHhQYXJlbXBEYXRhIiwgImd0eFBhcmVtcERhdGFBbG1veGFyaWZhZG9zIiwgImd0eFRpcG9zZXBhcmFjYW9hbG1veERhdGFCeUVtcHJlc2FEZXBvc2l0byIsICJndHhQYXJlbXBEYXRhQWxtb3hhcmlmYWRvc1RpcG9zc2VwYXJhY2FvIl0pLAoKICAgIGRlcG9zaXRvc0xpc3QoKSB7CiAgICAgIHJldHVybiB0aGlzLmd0eFBhcmVtcERhdGFBbG1veGFyaWZhZG9zKHRoaXMuZW1wcmVzYSk7CiAgICB9LAoKICAgIHNlcGFyYWNhb0xpc3QoKSB7CiAgICAgIHJldHVybiB0aGlzLmd0eFBhcmVtcERhdGFBbG1veGFyaWZhZG9zVGlwb3NzZXBhcmFjYW8odGhpcy5lbXByZXNhLCB0aGlzLmRlcG9zaXRvKS5zb3J0KCk7CiAgICB9LAoKICAgIHBhcmFtTWF0ZXJpYWlzKCkgewogICAgICByZXR1cm4gewogICAgICAgIEVtcHJlc2E6IHRoaXMuZW1wcmVzYSwKICAgICAgICBEZXBvc2l0bzogdGhpcy5kZXBvc2l0bywKICAgICAgICBMb3RlczogdGhpcy5sb3Rlcy5qb2luKCI7IiksCiAgICAgICAgaWRUaXBvU2VwYXJhY2FvQWxtb3g6IHRoaXMudGlwb3NlcGFyYWNhb2FsbW94CiAgICAgIH07CiAgICB9LAoKICAgIGVudmlvTWF0ZXJpYWlzKCkgewogICAgICBpZiAodGhpcy5tYXRlcmlhaXMuZGF0YS5sZW5ndGggPiAwKSB7CiAgICAgICAgcmV0dXJuIHRoaXMubWF0ZXJpYWlzLmRhdGEuZmlsdGVyKGwgPT4gbC5Mb3Rlcy5maW5kKGYgPT4gZi5RdGRlU2VwYXJhZGEgIT09IGYuUXRkZVNlcGFyYWRhT3JpZ2luYWwpID8gdHJ1ZSA6IGZhbHNlKS5tYXAoZCA9PiB7CiAgICAgICAgICByZXR1cm4gewogICAgICAgICAgICBJdGVtOiBkLkl0ZW0sCiAgICAgICAgICAgIERlc2NyaWNhbzogZC5EZXNjcmljYW8sCiAgICAgICAgICAgIFF0ZGVJdGVtOiBkLlF0ZGVJdGVtLAogICAgICAgICAgICBpZFRpcG9TZXBhcmFjYW9BbG1veDogZC5pZFRpcG9TZXBhcmFjYW9BbG1veCwKICAgICAgICAgICAgaWRUaXBvU2VwYXJhY2FvOiBkLmlkVGlwb1NlcGFyYWNhbywKICAgICAgICAgICAgUXRkZVNlcGFyYWRhOiBkLlF0ZGVTZXBhcmFkYSwKICAgICAgICAgICAgTG90ZXM6IGQuTG90ZXMuZmlsdGVyKGwgPT4gbC5RdGRlU2VwYXJhZGEgIT09IGwuUXRkZVNlcGFyYWRhT3JpZ2luYWwpCiAgICAgICAgICB9OwogICAgICAgIH0pOwogICAgICB9IGVsc2UgewogICAgICAgIHJldHVybiB7CiAgICAgICAgICBpdGVtczogIiIKICAgICAgICB9OwogICAgICB9CiAgICB9LAoKICAgIGVudmlvTWF0ZXJpYWlzWE1MKCkgewogICAgICByZXR1cm4gIjxyb290PiIgKyB0aGlzLiRyb290LmdldFhNTCh7CiAgICAgICAgaXRlbXM6IHRoaXMuZW52aW9NYXRlcmlhaXMKICAgICAgfSkgKyAiPC9yb290PiI7CiAgICB9LAoKICAgIG1hdGVyaWFpc0J1c2NhKCkgewogICAgICByZXR1cm4gewogICAgICAgIGZpZWxkczogWyJJdGVtIiwgIkRlc2NyaWNhbyIsICJVTiIsIHsKICAgICAgICAgIGtleTogIlF0ZGVJdGVtIiwKICAgICAgICAgIGxhYmVsOiAiUXRkZSIKICAgICAgICB9LCB7CiAgICAgICAgICBrZXk6ICJRdGRlU2VwYXJhZGEiLAogICAgICAgICAgbGFiZWw6ICJTZXBhcmHDp8OjbyIKICAgICAgICB9LCB7CiAgICAgICAgICBrZXk6ICJTYWxkb0l0ZW0iLAogICAgICAgICAgbGFiZWw6ICJTYWxkbyIKICAgICAgICB9LCAiTG90ZXMiLCAiYWN0aW9ucyJdLAogICAgICAgIGRhdGE6IHRoaXMubWF0ZXJpYWlzLmRhdGEubWFwKG0gPT4gewogICAgICAgICAgcmV0dXJuIHsKICAgICAgICAgICAgRW1wcmVzYTogbS5FbXByZXNhLAogICAgICAgICAgICBEZXBvc2l0bzogbS5EZXBvc2l0bywKICAgICAgICAgICAgSXRlbTogbS5JdGVtLAogICAgICAgICAgICBEZXNjcmljYW86IG0uRGVzY3JpY2FvLAogICAgICAgICAgICBRdGRlSXRlbTogbS5RdGRlSXRlbSwKICAgICAgICAgICAgUXRkZVNlcGFyYWRhOiBtLlF0ZGVTZXBhcmFkYSwKICAgICAgICAgICAgU2FsZG9JdGVtOiBtLlF0ZGVJdGVtIC0gbS5RdGRlU2VwYXJhZGEsCiAgICAgICAgICAgIExvdGVzOiBtLkxvdGVzCiAgICAgICAgICB9OwogICAgICAgIH0pCiAgICAgIH07CiAgICB9LAoKICAgIC8vIHZhbGlkYcOnw7VlcyAuLi4KICAgIHZNYXRlcmlhaXNQYXJhbSgpIHsKICAgICAgcmV0dXJuIHRoaXMucGFyYW1NYXRlcmlhaXMuRW1wcmVzYSA9PSAwIHx8IHRoaXMucGFyYW1NYXRlcmlhaXMuRGVwb3NpdG8gPT0gMCB8fCB0aGlzLnBhcmFtTWF0ZXJpYWlzLkxvdGVzID09ICIiIHx8IHRoaXMucGFyYW1NYXRlcmlhaXMuaWRUaXBvU2VwYXJhY2FvQWxtb3ggPT0gbnVsbDsKICAgIH0sCgogICAgdk1hdGVyaWFpc0VudmlvKCkgewogICAgICByZXR1cm4gdGhpcy5lbnZpb01hdGVyaWFpcy5sZW5ndGggPT0gMDsKICAgIH0KCiAgfSwKICBtZXRob2RzOiB7IC4uLm1hcEFjdGlvbnMoWyJhY3RQYXJlbXAiXSksCgogICAgYWRkbG90ZWJ1c2NhKGxvdGVzKSB7CiAgICAgIGNvbnNvbGUubG9nKCJhZGRsb3RlYnVzY2E6IiwgbG90ZXMpOwogICAgfSwKCiAgICBidXNjYU1hdGVyaWFpcygpIHsKICAgICAgQVBJLmdldCgiUHJvZHVjYW8vTG90ZVNldG9yZXMvTWF0ZXJpYWlzIiwgdGhpcy5wYXJhbU1hdGVyaWFpcykudGhlbihhcGlkYXRhID0+IHsKICAgICAgICAvLyBjb25zb2xlLmxvZygiYnVzY2FNYXRlcmlhaXMuYXBpZGF0YToiLCBhcGlkYXRhKTsKICAgICAgICBpZiAoYXBpZGF0YS5kYXRhLlN1Y2Nlc3MgPT0gIlRydWUiKSB7CiAgICAgICAgICBjb25zdCByZXMgPSBBUEkucHJlcGFyZURhdGEoYXBpZGF0YS5kYXRhKTsKICAgICAgICAgIGNvbnNvbGUubG9nKCJidXNjYU1hdGVyaWFpcy5yZXM6IiwgcmVzKTsKCiAgICAgICAgICBpZiAocmVzKSB7CiAgICAgICAgICAgIHRoaXMubWF0ZXJpYWlzLmRhdGEgPSByZXMuYXBpcmVzcG9uc2UuRGF0YTsKICAgICAgICAgICAgdGhpcy5zYWx2YURhdGEoKTsKICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgIHRoaXMubWF0ZXJpYWlzLmRhdGEgPSBbXTsKICAgICAgICAgIH0KICAgICAgICB9CiAgICAgIH0pOwogICAgfSwKCiAgICBvbk1hdGVyaWFpc0FkZENsaWNrKGl0ZW0pIHsKICAgICAgaWYgKEFycmF5LmlzQXJyYXkoaXRlbSkpIHsKICAgICAgICBpdGVtLm1hcChpdGVtID0+IGl0ZW0uUXRkZVNlcGFyYWRhID0gaXRlbS5RdGRlSXRlbSk7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgaXRlbS5RdGRlU2VwYXJhZGEgPSBpdGVtLlF0ZGVJdGVtOwogICAgICB9CiAgICB9LAoKICAgIGVudmlhTWF0ZXJpYWlzKCkgewogICAgICAvLyBjb25zb2xlLmxvZygiZW52aW9NYXRlcmlhaXMuanNvbjoiLCB0aGlzLmVudmlvTWF0ZXJpYWlzKTsKICAgICAgLy8gY29uc29sZS5sb2coImVudmlvTWF0ZXJpYWlzLnhtbDoiLCB0aGlzLmVudmlvTWF0ZXJpYWlzWE1MKTsKICAgICAgQVBJLnBvc3QoIlByb2R1Y2FvL0xvdGVTZXRvcmVzL01hdGVyaWFpc1VwZGF0ZSIsIHsKICAgICAgICBpdGVtczogdGhpcy5lbnZpb01hdGVyaWFpc1hNTAogICAgICB9KS50aGVuKGFwaWRhdGEgPT4gewogICAgICAgIGNvbnN0IHJlcyA9IEFQSS5wcmVwYXJlRGF0YShhcGlkYXRhLmRhdGEpOwoKICAgICAgICBpZiAocmVzKSB7CiAgICAgICAgICBjb25zb2xlLmxvZygiZW52aWFNYXRlcmlhaXMuTWVuc2FnZW06IiwgcmVzKTsKCiAgICAgICAgICBpZiAocmVzLmRhdGEuTWVuc2FnZW0uc3Vic3RyaW5nKDAsIDEpID09ICIwIikgewogICAgICAgICAgICB0aGlzLiRyb290LnRvYXN0d2FybmluZyhyZXMuZGF0YS5NZW5zYWdlbSk7CiAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICB0aGlzLiRyb290LnRvYXN0c3VjY2VzcyhyZXMuZGF0YS5NZW5zYWdlbSk7CiAgICAgICAgICB9IC8vIGF0dWFsaXphIGFzIHF1YW50aWRhZGVzCgoKICAgICAgICAgIHRoaXMubWF0ZXJpYWlzLmRhdGEubWFwKG0gPT4gbS5Mb3Rlcy5tYXAobCA9PiBsLlF0ZGVTZXBhcmFkYU9yaWdpbmFsID0gbC5RdGRlU2VwYXJhZGEpKTsKICAgICAgICB9CiAgICAgIH0pLmNhdGNoKGUgPT4gewogICAgICAgIGNvbnNvbGUubG9nKCJlbnZpYU1hdGVyaWFpcy5FcnJvOiIsIGUpOwogICAgICB9KTsKICAgIH0sCgogICAgc2FsdmFEYXRhKCkgewogICAgICB2aWV3c3RvcmUuc2V0RGF0YSh0aGlzLiRkYXRhKTsKICAgIH0sCgogICAgb25TdG9ja0NsaWNrKGl0ZW0pIHsKICAgICAgdGhpcy5pdGVuc2FsbW94ID0gaXRlbTsKICAgICAgdGhpcy4kcmVmc1sibW9kYWwtbWF0ZXJpYWlzU3RvY2siXS5zaG93KCk7CiAgICB9LAoKICAgIGNhcnJlZ2FEYWRvcyhkYXRhKSB7CiAgICAgIHRoaXMuZGFkb3MgPSBkYXRhOwogICAgICB0aGlzLiRidk1vZGFsLnNob3coIm1vZGFsLWFycmF5Iik7CiAgICB9LAoKICAgIEFsbW94YXJpZmFkb01vdmltZW50YWNvZXNzaG93bigpIHsKICAgICAgY29uc29sZS5sb2coIkFsbW94YXJpZmFkb01vdmltZW50YWNvZXNzaG93biIsIHRoaXMuaXRlbnNhbG1veCk7CiAgICAgIHRoaXMuJHJlZnMuQWxtb3hhcmlmYWRvTW92aW1lbnRhY29lcy5lbXByZXNhID0gdGhpcy5pdGVuc2FsbW94LkVtcHJlc2E7CiAgICAgIHRoaXMuJHJlZnMuQWxtb3hhcmlmYWRvTW92aW1lbnRhY29lcy5kZXBvc2l0byA9IHRoaXMuaXRlbnNhbG1veC5EZXBvc2l0bzsKICAgICAgdGhpcy4kcmVmcy5BbG1veGFyaWZhZG9Nb3ZpbWVudGFjb2VzLmJveCA9IDA7CiAgICAgIHRoaXMuJHJlZnMuQWxtb3hhcmlmYWRvTW92aW1lbnRhY29lcy5uaXZlbCA9IDA7IC8vIHRoaXMuJHJlZnMuQWxtb3hhcmlmYWRvTW92aW1lbnRhY29lcy5pdGVucyA9IHRoaXMuaXRlbWJ1c2NhLml0ZW07CgogICAgICB0aGlzLiRyZWZzLkFsbW94YXJpZmFkb01vdmltZW50YWNvZXMuaXRlbnMgPSBbdGhpcy5pdGVuc2FsbW94Lkl0ZW1dOwogICAgICB0aGlzLiRyZWZzLkFsbW94YXJpZmFkb01vdmltZW50YWNvZXMuaXRlbnNyZXEgPSBbewogICAgICAgIGl0ZW06IHRoaXMuaXRlbnNhbG1veC5JdGVtLAogICAgICAgIHF0ZGU6IHRoaXMuaXRlbnNhbG1veC5RdGRlSXRlbSwKICAgICAgICBsb3RlOiB0aGlzLml0ZW5zYWxtb3guTG90ZQogICAgICB9XTsKICAgICAgdGhpcy4kcmVmcy5BbG1veGFyaWZhZG9Nb3ZpbWVudGFjb2VzLmJ1c2NhKCk7CiAgICB9LAoKICAgIEFsbW94YXJpZmFkb01vdmltZW50YWNvZXNoaWRkZW4oKSB7CiAgICAgIHRoaXMuYnVzY2FNYXRlcmlhaXMoKTsKICAgIH0KCiAgfSwKCiAgYmVmb3JlTW91bnQoKSB7CiAgICB0aGlzLmFjdFBhcmVtcCgpOwogICAgdmlld3N0b3JlLnN5bmNEYXRhKHRoaXMuJGRhdGEpOyAvLyBjb25zb2xlLmxvZygiYmVmb3JlTW91bnQudmlld3N0b3JlOiIsIE9iamVjdC5rZXlzKHZpZXdzdG9yZSkpOwogICAgLy8gY29uc29sZS5sb2coImJlZm9yZU1vdW50LnZpZXdzdG9yZS51c2VybmFtZToiLCB2aWV3c3RvcmUudXNlcm5hbWUpOwogIH0KCn07"},{"version":3,"mappings":"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CA;QACA;UACA;UACAH;;UACA;YACA;YACA;UACA,CAHA,MAGA;YACA;UACA;QACA;MACA,CAbA;IAeA,CArBA;;IAsBAI;MACA;QACAtD;MACA,CAFA,MAEA;QACAA;MACA;IACA,CA5BA;;IA6BAuD;MACA;MACA;MAEAH;QACAV;MADA,GAGAc,IAHA,CAGAH;QACA;;QACA;UACAH;;UACA;YACA;UACA,CAFA,MAEA;YACA;UACA,CANA,CAOA;;;UACA,6BACAO,yDADA;QAGA;MACA,CAjBA,EAkBAC,KAlBA,CAkBAC;QACAT;MACA,CApBA;IAqBA,CAtDA;;IAuDAU;MACAC;IACA,CAzDA;;IA0DAC;MACA;MAEA;IACA,CA9DA;;IA+DAC;MACA;MACA;IACA,CAlEA;;IAmEAC;MACAd;MACA;MACA;MACA;MACA,+CALA,CAMA;;MACA;MACA,iDACA;QACAlD,0BADA;QAEAiE,8BAFA;QAGAC;MAHA,CADA;MAQA;IACA,CApFA;;IAqFAC;MACA;IACA;;EAvFA,CAvLA;;EAiRAC;IACA;IACAP,+BAFA,CAGA;IACA;EACA;;AAtRA","names":["name","components","LotesProducao","GaiolasItensBusca","AlmoxarifadoMovimentacoes","data","tabIndex","dados","tiposeparacaoalmox","empresa","deposito","lotes","itembusca","codigo","endereco","emp","dep","item","quant","deleta","nivel","itensalmox","materiais","busy","run","fields","key","label","sortable","visible","buttons","icon","variant","size","tooltip","route","params","Refs","idTipoSeparacaoAlmox","selected","rowselected","computed","depositosList","separacaoList","sort","paramMateriais","Empresa","Deposito","Lotes","envioMateriais","filter","l","map","d","Item","Descricao","QtdeItem","idTipoSeparacao","QtdeSeparada","items","envioMateriaisXML","materiaisBusca","SaldoItem","vMateriaisParam","vMateriaisEnvio","methods","addlotebusca","console","buscaMateriais","API","apidata","onMateriaisAddClick","enviaMateriais","then","m","catch","e","salvaData","viewstore","onStockClick","carregaDados","AlmoxarifadoMovimentacoesshown","qtde","lote","AlmoxarifadoMovimentacoeshidden","beforeMount"],"sourceRoot":"src/pages/almoxarifado/views","sources":["lotes2.vue"],"sourcesContent":["<template>\r\n  <div>\r\n    <b-card class=\"m-2\">\r\n      <b-row>\r\n        <b-col cols=\"12\" sm=\"4\">\r\n          <b-form-group label=\"Empresa\" label-for=\"select-empresa\">\r\n            <b-form-select\r\n              id=\"select-empresa\"\r\n              v-model=\"empresa\"\r\n              :options=\"gtxParempData\"\r\n            >\r\n            </b-form-select>\r\n          </b-form-group>\r\n        </b-col>\r\n\r\n        <b-col cols=\"12\" sm=\"4\">\r\n          <b-form-group label=\"Depósito\" label-for=\"select-deposito\">\r\n            <b-form-select\r\n              id=\"select-deposito\"\r\n              v-model=\"deposito\"\r\n              :options=\"depositosList\"\r\n            >\r\n            </b-form-select>\r\n          </b-form-group>\r\n        </b-col>\r\n\r\n        <b-col cols=\"12\" sm=\"4\">\r\n          <b-form-group label=\"Tipo Separação\" label-for=\"select-separacao\">\r\n            <b-form-select\r\n              id=\"select-separacao\"\r\n              v-model=\"tiposeparacaoalmox\"\r\n              :options=\"separacaoList\"\r\n            >\r\n            </b-form-select>\r\n          </b-form-group>\r\n        </b-col>\r\n      </b-row>\r\n\r\n      <b-form-group label=\"Lotes\" label-for=\"input-lotes\">\r\n        <b-input-group>\r\n          <b-form-tags\r\n            id=\"input-lotes\"\r\n            separator=\" ,;\"\r\n            placeholder=\"Informe os lotes\"\r\n            input-id=\"tags-basic\"\r\n            add-button-text=\"Adicionar\"\r\n            v-model=\"lotes\"\r\n          >\r\n          </b-form-tags>\r\n          <template #append>\r\n            <b-button v-b-modal.modal-lotes variant=\"success\">\r\n              <b-icon-search />\r\n            </b-button>\r\n          </template>\r\n        </b-input-group>\r\n      </b-form-group>\r\n\r\n      <div>\r\n        <b-button\r\n          variant=\"primary\"\r\n          class=\"mx-1 my-1\"\r\n          :disabled=\"vMateriaisParam\"\r\n          @click=\"buscaMateriais\"\r\n        >\r\n          Pesquisar\r\n        </b-button>\r\n      </div>\r\n\r\n      <!--\r\n      <hr />\r\n\r\n      <b-card no-body class=\"mt-2\">\r\n        <b-tabs content-class=\"mt-3\" v-model=\"tabIndex\" justified card>\r\n          <b-tab title=\"Busca Materiais Estoque\">\r\n            <b-table\r\n              small\r\n              striped\r\n              hover\r\n              foot-clone\r\n              no-footer-sorting\r\n              :fields=\"materiaisBusca.fields\"\r\n              :items=\"materiaisBusca.data\"\r\n            >\r\n              <template #cell(Lotes)=\"data\">\r\n                <span v-if=\"data.item.Lotes.length == 1\">\r\n                  {{ data.item.Lotes[0].lote }}\r\n                </span>\r\n                <span class=\"iconbutton\" v-else @click=\"data.toggleDetails\"\r\n                  >{{ data.item.Lotes.length }} Lotes\r\n                </span>\r\n              </template>\r\n\r\n              <template #cell(actions)=\"data\" class=\"float-right\">\r\n                <span\r\n                  title=\"Movimentação de estoque\"\r\n                  class=\"iconbutton\"\r\n                  @click=\"onMateriaisClick(data.item)\"\r\n                >\r\n                  <b-icon-cart-plus variant=\"primary\" />\r\n                </span>\r\n                <span\r\n                  title=\"Extrato de estoque\"\r\n                  class=\"iconbutton\"\r\n                  @click=\"onStockClick(data.item)\"\r\n                >\r\n                  <b-icon-archive variant=\"success\" />\r\n                </span>\r\n                <span\r\n                  title=\"Dados\"\r\n                  class=\"iconbutton\"\r\n                  @click=\"carregaDados(data.item)\"\r\n                >\r\n                  <b-icon-card-checklist variant=\"info\" />\r\n                </span>\r\n              </template>\r\n\r\n              <template #foot()=\"data\">\r\n                <span></span>\r\n              </template>\r\n              <template #foot(item)=\"data\">\r\n                <span>{{ materiais.data.length }} Registro(s)</span>\r\n              </template>\r\n            </b-table>\r\n          </b-tab>\r\n          <b-tab title=\"Separação de Materiais\">\r\n            <div class=\"text-right\">\r\n              <b-button\r\n                variant=\"success\"\r\n                class=\"mx-1 my-1 mb-3\"\r\n                :disabled=\"vMateriaisEnvio\"\r\n                @click=\"enviaMateriais\"\r\n              >\r\n                Salvar\r\n              </b-button>\r\n            </div>\r\n-->\r\n      <b-table\r\n        small\r\n        striped\r\n        hover\r\n        foot-clone\r\n        no-footer-sorting\r\n        :fields=\"materiais.fields\"\r\n        :items=\"materiais.data\"\r\n      >\r\n        <template #cell(actions)=\"data\" class=\"float-right\">\r\n          <!--\r\n                <span\r\n                  title=\"Adicionar quantidade\"\r\n                  class=\"iconbutton\"\r\n                  @click=\"onMateriaisAddClick(data.item.Lotes)\"\r\n                >\r\n                  <b-icon-plus variant=\"success\" />\r\n                </span>\r\n              -->\r\n          <span\r\n            title=\"Ver lotes\"\r\n            v-if=\"data.item.Lotes.length > 1\"\r\n            class=\"iconbutton\"\r\n            @click=\"data.toggleDetails\"\r\n          >\r\n            <b-icon-caret-up variant=\"danger\" v-if=\"data.detailsShowing\" />\r\n            <b-icon-caret-down variant=\"danger\" v-else />\r\n          </span>\r\n          <!--\r\n                <span\r\n                  v-if=\"sysdevmode\"\r\n                  title=\"Movimentação de estoque\"\r\n                  class=\"iconbutton\"\r\n                  @click=\"onMateriaisClick(data.item)\"\r\n                >\r\n                  <b-icon-cart-plus variant=\"primary\" />\r\n                </span>\r\n                -->\r\n          <span\r\n            v-if=\"data.item.Lotes.length == 1\"\r\n            title=\"Movimentar estoque\"\r\n            class=\"iconbutton\"\r\n            @click=\"onStockClick(data.item)\"\r\n          >\r\n            <b-icon-archive variant=\"success\" />\r\n          </span>\r\n          <!--\r\n                <span\r\n                  v-if=\"sysdevmode\"\r\n                  title=\"Dados\"\r\n                  class=\"iconbutton\"\r\n                  @click=\"carregaDados(data.item)\"\r\n                >\r\n                  <b-icon-card-checklist variant=\"info\" />\r\n                </span>\r\n                -->\r\n        </template>\r\n        <template #cell(Lotes)=\"data\">\r\n          <span v-if=\"data.item.Lotes.length == 1\">\r\n            {{ data.item.Lotes[0].lote }}\r\n          </span>\r\n          <span class=\"iconbutton\" v-else @click=\"data.toggleDetails\"\r\n            >{{ data.item.Lotes.length }} Lotes\r\n          </span>\r\n        </template>\r\n\r\n        <template #cell(QtdeSeparada)=\"data\">\r\n          <b-form-input\r\n            type=\"number\"\r\n            v-model=\"data.item.Lotes[0].QtdeSeparada\"\r\n            style=\"width: 10rem\"\r\n            v-if=\"data.item.Lotes.length == 1\"\r\n          />\r\n          <span v-else>\r\n            {{\r\n              data.item.Lotes.reduce(\r\n                (a, b) => parseFloat(a) + parseFloat(b.QtdeSeparada),\r\n                0\r\n              ) | decimals(6)\r\n            }}\r\n          </span>\r\n        </template>\r\n\r\n        <template #row-details=\"row\">\r\n          <b-card class=\"bg-light\">\r\n            <b-table :fields=\"materiais.lotes\" :items=\"row.item.Lotes\">\r\n              <template #cell(QtdeSeparada)=\"data\">\r\n                <b-form-input\r\n                  type=\"number\"\r\n                  v-model=\"data.item.QtdeSeparada\"\r\n                  style=\"width: 10rem\"\r\n                />\r\n              </template>\r\n              <template #cell(actions)=\"data\" class=\"text-center\">\r\n                <!--\r\n                      <span\r\n                        class=\"iconbutton\"\r\n                        @click=\"onMateriaisAddClick(data.item)\"\r\n                      >\r\n                        <b-icon-plus variant=\"success\" />\r\n                      </span>\r\n                      <span\r\n                        class=\"iconbutton\"\r\n                        @click=\"onMateriaisClick(data.item)\"\r\n                      >\r\n                        <b-icon-cart-plus variant=\"primary\" />\r\n                      </span>\r\n                      -->\r\n                <span\r\n                  title=\"Movimentar estoque\"\r\n                  class=\"iconbutton\"\r\n                  @click=\"onStockClick(data.item)\"\r\n                >\r\n                  <b-icon-archive variant=\"success\" />\r\n                </span>\r\n                <!--\r\n                      <span class=\"iconbutton\" @click=\"carregaDados(data.item)\">\r\n                        <b-icon-card-checklist variant=\"info\" />\r\n                      </span>\r\n                      -->\r\n              </template>\r\n            </b-table>\r\n          </b-card>\r\n        </template>\r\n        <template #foot()=\"data\">\r\n          <span></span>\r\n        </template>\r\n        <template #foot(item)=\"data\">\r\n          <span>{{ materiais.data.length }} Registro(s)</span>\r\n        </template>\r\n      </b-table>\r\n      <!--\r\n          </b-tab>\r\n        </b-tabs>\r\n      </b-card>\r\n-->\r\n    </b-card>\r\n\r\n    <div>\r\n      <json-viewer\r\n        :value=\"itensalmox\"\r\n        :expand-depth=\"5\"\r\n        v-if=\"sysdevmode\"\r\n        copyable\r\n        boxed\r\n        sort\r\n      >\r\n      </json-viewer>\r\n    </div>\r\n\r\n    <!-- MODAIS -->\r\n    <b-modal\r\n      ok-only\r\n      id=\"modal-lotes\"\r\n      ref=\"modal-lotes\"\r\n      size=\"md\"\r\n      scrollable\r\n      title=\"Busca Lotes\"\r\n      ok-title=\"Adicionar\"\r\n      @ok=\"addlotebusca\"\r\n    >\r\n      <LotesProducao />\r\n    </b-modal>\r\n\r\n    <b-modal\r\n      id=\"modal-materiaisStock\"\r\n      ref=\"modal-materiaisStock\"\r\n      title=\"Movimentação de estoque\"\r\n      variant=\"dark\"\r\n      size=\"xl\"\r\n      hide-footer\r\n      centered\r\n      @shown=\"AlmoxarifadoMovimentacoesshown\"\r\n      @hidden=\"AlmoxarifadoMovimentacoeshidden\"\r\n    >\r\n      <!-- <GaiolasItensBusca :value=\"itembusca\" /> -->\r\n      <!--:value=\"itembusca\"-->\r\n      <!--@etv-gaiolasitensupdate=\"evtGaiolasItensUpdate\"/>-->\r\n      <AlmoxarifadoMovimentacoes ref=\"AlmoxarifadoMovimentacoes\" />\r\n    </b-modal>\r\n\r\n    <b-modal\r\n      id=\"modal-array\"\r\n      ref=\"modal-array\"\r\n      title=\"Dados\"\r\n      size=\"xl\"\r\n      variant=\"dark\"\r\n      hide-footer\r\n      centered\r\n    >\r\n      dados:\r\n      <pre>{{ dados }}</pre>\r\n    </b-modal>\r\n\r\n    <div v-if=\"sysdevmode\">\r\n      envioMateriais:\r\n      <pre>{{ envioMateriais }}</pre>\r\n      <br />\r\n      itembusca:\r\n      <pre>{{ itembusca }}</pre>\r\n      <br />\r\n      materiais.data: {{ materiais.data }} <br />\r\n      <!--\r\n      :ok-disabled=\"itembusca == ''\"\r\n    <br />\r\n    paramMateriais: {{ paramMateriais }} <br />\r\n    empresa: {{ empresa }} <br />\r\n    deposito: {{ deposito }} <br />\r\n    <div>\r\n      lotes:\r\n      <pre>\r\n        {{ lotes }}\r\n      </pre>\r\n      materiais:\r\n      <pre>\r\n        {{ materiais }}\r\n      </pre>\r\n    --></div>\r\n    <!--<div v-if=\"sysdevmode\">-->\r\n  </div>\r\n</template>\r\n<script>\r\nimport { mapGetters, mapActions } from \"vuex\";\r\nimport LotesProducao from \"../components/LotesProducao\";\r\nimport GaiolasItensBusca from \"../components/GaiolasItensBusca\";\r\nimport AlmoxarifadoMovimentacoes from \"../../almoxarifado/views/AlmoxarifadoMovimentacoes\";\r\nimport viewstore from \"../../../services/viewstore.js\";\r\nimport API from \"../../../services/api.service.js\";\r\n\r\nexport default {\r\n  name: \"Lotes2\",\r\n\r\n  components: {\r\n    LotesProducao,\r\n    GaiolasItensBusca,\r\n    AlmoxarifadoMovimentacoes,\r\n  },\r\n\r\n  data() {\r\n    return {\r\n      tabIndex: 1,\r\n      dados: [],\r\n      tiposeparacaoalmox: 0,\r\n      empresa: 8,\r\n      deposito: 37,\r\n      lotes: [],\r\n      itembusca: {\r\n        codigo: 0,\r\n        endereco: 0,\r\n        emp: parseInt(this.empresa),\r\n        dep: parseInt(this.deposito),\r\n        item: [],\r\n        quant: 0,\r\n        deleta: 0,\r\n        nivel: 1,\r\n      },\r\n      itensalmox: {},\r\n      materiais: {\r\n        busy: false,\r\n        run: 0,\r\n        fields: [\r\n          { key: \"Item\", label: \"Item\", sortable: true, visible: true },\r\n          {\r\n            key: \"Descricao\",\r\n            label: \"Descrição\",\r\n            sortable: true,\r\n            visible: true,\r\n          },\r\n          { key: \"UN\", label: \"UN\", sortable: true, visible: true },\r\n          { key: \"Lotes\", label: \"Lotes\", sortable: true, visible: true },\r\n          { key: \"QtdeItem\", label: \"Qtde\", sortable: true, visible: true },\r\n          {\r\n            key: \"QtdeSeparada\",\r\n            label: \"Qtde Separada\",\r\n            sortable: true,\r\n            visible: true,\r\n          },\r\n          { key: \"Actions\", label: \"Actions\", sortable: false, visible: true },\r\n        ],\r\n        lotes: [\r\n          { key: \"Item\", label: \"Item\", sortable: true, visible: true },\r\n          { key: \"lote\", label: \"Lote\", sortable: true, visible: true },\r\n          { key: \"QtdeItem\", label: \"Qtde\", sortable: true, visible: true },\r\n          {\r\n            key: \"QtdeSeparada\",\r\n            label: \"Qtde Separada\",\r\n            sortable: true,\r\n            visible: true,\r\n          },\r\n          { key: \"Actions\", label: \"Actions\", sortable: false, visible: true },\r\n        ],\r\n        buttons: [\r\n          {\r\n            key: \"ende\",\r\n            icon: \"signpost-split\",\r\n            variant: \"warning\",\r\n            size: \"sm\",\r\n            tooltip: \"Endereços\",\r\n          },\r\n        ],\r\n        route: \"Producao/LoteSetores/Materiais\",\r\n        params: {\r\n          empresa: \"8\",\r\n          deposito: \"37\",\r\n          lotes: this.lotesplit,\r\n          Refs: \"\",\r\n          idTipoSeparacaoAlmox: null,\r\n        },\r\n        data: [],\r\n        selected: {},\r\n        rowselected: [],\r\n      },\r\n    };\r\n  },\r\n\r\n  computed: {\r\n    ...mapGetters([\r\n      \"sysdevmode\",\r\n      \"gtxParempData\",\r\n      \"gtxParempDataAlmoxarifados\",\r\n      \"gtxTiposeparacaoalmoxDataByEmpresaDeposito\",\r\n      \"gtxParempDataAlmoxarifadosTiposseparacao\",\r\n    ]),\r\n    depositosList() {\r\n      return this.gtxParempDataAlmoxarifados(this.empresa);\r\n    },\r\n    separacaoList() {\r\n      return this.gtxParempDataAlmoxarifadosTiposseparacao(\r\n        this.empresa,\r\n        this.deposito\r\n      ).sort();\r\n    },\r\n    paramMateriais() {\r\n      return {\r\n        Empresa: this.empresa,\r\n        Deposito: this.deposito,\r\n        Lotes: this.lotes.join(\";\"),\r\n        idTipoSeparacaoAlmox: this.tiposeparacaoalmox,\r\n      };\r\n    },\r\n    envioMateriais() {\r\n      if (this.materiais.data.length > 0) {\r\n        return this.materiais.data\r\n          .filter((l) =>\r\n            l.Lotes.find((f) => f.QtdeSeparada !== f.QtdeSeparadaOriginal)\r\n              ? true\r\n              : false\r\n          )\r\n          .map((d) => {\r\n            return {\r\n              Item: d.Item,\r\n              Descricao: d.Descricao,\r\n              QtdeItem: d.QtdeItem,\r\n              idTipoSeparacaoAlmox: d.idTipoSeparacaoAlmox,\r\n              idTipoSeparacao: d.idTipoSeparacao,\r\n              QtdeSeparada: d.QtdeSeparada,\r\n              Lotes: d.Lotes.filter(\r\n                (l) => l.QtdeSeparada !== l.QtdeSeparadaOriginal\r\n              ),\r\n            };\r\n          });\r\n      } else {\r\n        return { items: \"\" };\r\n      }\r\n    },\r\n    envioMateriaisXML() {\r\n      return (\r\n        \"<root>\" + this.$root.getXML({ items: this.envioMateriais }) + \"</root>\"\r\n      );\r\n    },\r\n\r\n    materiaisBusca() {\r\n      return {\r\n        fields: [\r\n          \"Item\",\r\n          \"Descricao\",\r\n          \"UN\",\r\n          { key: \"QtdeItem\", label: \"Qtde\" },\r\n          { key: \"QtdeSeparada\", label: \"Separação\" },\r\n          { key: \"SaldoItem\", label: \"Saldo\" },\r\n          \"Lotes\",\r\n          \"actions\",\r\n        ],\r\n        data: this.materiais.data.map((m) => {\r\n          return {\r\n            Empresa: m.Empresa,\r\n            Deposito: m.Deposito,\r\n            Item: m.Item,\r\n            Descricao: m.Descricao,\r\n            QtdeItem: m.QtdeItem,\r\n            QtdeSeparada: m.QtdeSeparada,\r\n            SaldoItem: m.QtdeItem - m.QtdeSeparada,\r\n            Lotes: m.Lotes,\r\n          };\r\n        }),\r\n      };\r\n    },\r\n\r\n    // validações ...\r\n    vMateriaisParam() {\r\n      return (\r\n        this.paramMateriais.Empresa == 0 ||\r\n        this.paramMateriais.Deposito == 0 ||\r\n        this.paramMateriais.Lotes == \"\" ||\r\n        this.paramMateriais.idTipoSeparacaoAlmox == null\r\n      );\r\n    },\r\n    vMateriaisEnvio() {\r\n      return this.envioMateriais.length == 0;\r\n    },\r\n  },\r\n\r\n  methods: {\r\n    ...mapActions([\"actParemp\"]),\r\n    addlotebusca(lotes) {\r\n      console.log(\"addlotebusca:\", lotes);\r\n    },\r\n    buscaMateriais() {\r\n      API.get(\"Producao/LoteSetores/Materiais\", this.paramMateriais).then(\r\n        (apidata) => {\r\n          // console.log(\"buscaMateriais.apidata:\", apidata);\r\n          if (apidata.data.Success == \"True\") {\r\n            const res = API.prepareData(apidata.data);\r\n            console.log(\"buscaMateriais.res:\", res);\r\n            if (res) {\r\n              this.materiais.data = res.apiresponse.Data;\r\n              this.salvaData();\r\n            } else {\r\n              this.materiais.data = [];\r\n            }\r\n          }\r\n        }\r\n      );\r\n    },\r\n    onMateriaisAddClick(item) {\r\n      if (Array.isArray(item)) {\r\n        item.map((item) => (item.QtdeSeparada = item.QtdeItem));\r\n      } else {\r\n        item.QtdeSeparada = item.QtdeItem;\r\n      }\r\n    },\r\n    enviaMateriais() {\r\n      // console.log(\"envioMateriais.json:\", this.envioMateriais);\r\n      // console.log(\"envioMateriais.xml:\", this.envioMateriaisXML);\r\n\r\n      API.post(\"Producao/LoteSetores/MateriaisUpdate\", {\r\n        items: this.envioMateriaisXML,\r\n      })\r\n        .then((apidata) => {\r\n          const res = API.prepareData(apidata.data);\r\n          if (res) {\r\n            console.log(\"enviaMateriais.Mensagem:\", res);\r\n            if (res.data.Mensagem.substring(0, 1) == \"0\") {\r\n              this.$root.toastwarning(res.data.Mensagem);\r\n            } else {\r\n              this.$root.toastsuccess(res.data.Mensagem);\r\n            }\r\n            // atualiza as quantidades\r\n            this.materiais.data.map((m) =>\r\n              m.Lotes.map((l) => (l.QtdeSeparadaOriginal = l.QtdeSeparada))\r\n            );\r\n          }\r\n        })\r\n        .catch((e) => {\r\n          console.log(\"enviaMateriais.Erro:\", e);\r\n        });\r\n    },\r\n    salvaData() {\r\n      viewstore.setData(this.$data);\r\n    },\r\n    onStockClick(item) {\r\n      this.itensalmox = item;\r\n\r\n      this.$refs[\"modal-materiaisStock\"].show();\r\n    },\r\n    carregaDados(data) {\r\n      this.dados = data;\r\n      this.$bvModal.show(\"modal-array\");\r\n    },\r\n    AlmoxarifadoMovimentacoesshown() {\r\n      console.log(\"AlmoxarifadoMovimentacoesshown\", this.itensalmox);\r\n      this.$refs.AlmoxarifadoMovimentacoes.empresa = this.itensalmox.Empresa;\r\n      this.$refs.AlmoxarifadoMovimentacoes.deposito = this.itensalmox.Deposito;\r\n      this.$refs.AlmoxarifadoMovimentacoes.box = 0;\r\n      this.$refs.AlmoxarifadoMovimentacoes.nivel = 0;\r\n      // this.$refs.AlmoxarifadoMovimentacoes.itens = this.itembusca.item;\r\n      this.$refs.AlmoxarifadoMovimentacoes.itens = [this.itensalmox.Item];\r\n      this.$refs.AlmoxarifadoMovimentacoes.itensreq = [\r\n        {\r\n          item: this.itensalmox.Item,\r\n          qtde: this.itensalmox.QtdeItem,\r\n          lote: this.itensalmox.Lote,\r\n        },\r\n      ];\r\n\r\n      this.$refs.AlmoxarifadoMovimentacoes.busca();\r\n    },\r\n    AlmoxarifadoMovimentacoeshidden() {\r\n      this.buscaMateriais();\r\n    },\r\n  },\r\n\r\n  beforeMount() {\r\n    this.actParemp();\r\n    viewstore.syncData(this.$data);\r\n    // console.log(\"beforeMount.viewstore:\", Object.keys(viewstore));\r\n    // console.log(\"beforeMount.viewstore.username:\", viewstore.username);\r\n  },\r\n};\r\n</script>\r\n\r\n<style scoped>\r\n@media (max-width: 600px) {\r\n  .hidecolumn {\r\n    display: none;\r\n  }\r\n}\r\n</style>\r\n"]}]}