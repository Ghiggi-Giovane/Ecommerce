{"remainingRequest":"C:\\k1-services\\node_modules\\babel-loader\\lib\\index.js!C:\\k1-services\\node_modules\\cache-loader\\dist\\cjs.js??ref--1-0!C:\\k1-services\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\k1-services\\src\\pages\\ecommerce\\views\\Pedidos.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\k1-services\\src\\pages\\ecommerce\\views\\Pedidos.vue","mtime":1701906516480},{"path":"C:\\k1-services\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1670977934221},{"path":"C:\\k1-services\\node_modules\\babel-loader\\lib\\index.js","mtime":1670977935138},{"path":"C:\\k1-services\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1670977934221},{"path":"C:\\k1-services\\node_modules\\vue-loader\\lib\\index.js","mtime":1674603023821}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkucmVkdWNlLmpzIjsKLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCB7IG1hcEFjdGlvbnMsIG1hcEdldHRlcnMgfSBmcm9tICJ2dWV4IjsKaW1wb3J0IEFwaVNlcnZpY2UgZnJvbSAiLi4vLi4vLi4vc2VydmljZXMvYXBpLnNlcnZpY2UiOwppbXBvcnQgQWNvbXBhbmhhbWVudG9zVnVlIGZyb20gIi4uLy4uLy4uL2NvbXBvbmVudHMvQWNvbXBhbmhhbWVudG9zLnZ1ZSI7CmltcG9ydCBsb2FkaW5nIGZyb20gIi4uLy4uLy4uL3N0b3JlL2xvYWRpbmciOwppbXBvcnQgRGFzaGNhcmQgZnJvbSAiLi4vLi4vLi4vY29tcG9uZW50cy9EYXNoY2FyZC52dWUiOwppbXBvcnQgeyB0aW1lb3V0IH0gZnJvbSAicSI7CmltcG9ydCBheGlvcyBmcm9tICJheGlvcyI7CmV4cG9ydCBkZWZhdWx0IHsKICBuYW1lOiAiRWNvbW1lcmNlUGVkaWRvcyIsCiAgY29tcG9uZW50czogewogICAgQWNvbXBhbmhhbWVudG9zVnVlLAogICAgRGFzaGNhcmQKICB9LAogIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICBhY29tcGFuaGFtZW50b0lEOiAwLAogICAgICBtb3Rpdm86ICIiLAogICAgICBEZXZvbHVjYW86IGZhbHNlLAogICAgICBtb3Rpdm9TdGF0ZTogbnVsbCwKICAgICAgdmlzaXZlbDogIiIsCiAgICAgIGZpbHRybzogIiIsCiAgICAgIGZpbHRlck9uOiBbIkl0ZW5zIiwgIkVudHJlZ2FFbUF0cmFzbyIsICJGYW50YXNpYSIsICJOdW1lcm8iLCAiUGVkaWRvSHViVVJMIiwgIk9DS2FwcGVzIiwgIkNpZGFkZSIsICJDbGllbnRlIiwgIkNHQyIsICJFc3RhZG8iLCAiTWFya2V0UGxhY2UiLCAiTnVtZXJvX05vdGEiLCAiT3JkZW1Db21wcmEiLCAiVHJhbnNwb3J0YWRvcmEiLCAiUm9tYW5laW8iLCAiT2NJZCIsICJSZWRlc3BhY2hvIl0sCiAgICAgIGZpbHRyb0VtcHJlc2FzOiBbIjgiLCAiMzQiXSwKICAgICAgcG9yUGFnaW5hOiAyMCwKICAgICAgcGFnaW5hQXRpdmE6IDEsCiAgICAgIG1hcmtldFBsYWNlc0xpc3RTZWxlY3RlZDogW10sCiAgICAgIHN0YXR1c0xpc3RTZWxlY3RlZDogW10sCiAgICAgIHV0aWxpem91RmlsdHJvOiAiIiwKICAgICAgZmlsdHJhZG86IFtdLAogICAgICBsb2FkaW5nOiBmYWxzZSwKICAgICAgc29tZW50ZUF0cmFzYWRvczogIiIsCiAgICAgIHBlZGlkb3NBdHJhc2Fkb3M6IFtdLAogICAgICBvYzogZmFsc2UsCiAgICAgIHN0YXR1czogZmFsc2UsCiAgICAgIGRhdGFJbmljaWFsOiBuZXcgRGF0ZSgxNjA5NTQ5MjAwMDAwKSwKICAgICAgZGF0YUZpbmFsOiAiIiwKICAgICAgbWFya2V0UGxhY2VzTGlzdDogW10sCiAgICAgIHN0YXR1c0xpc3Q6IFtdLAogICAgICBwZWRpZG9zTGlzdDogW10sCiAgICAgIGZpZWxkczogW3sKICAgICAgICBrZXk6ICJFbXByZXNhIiwKICAgICAgICBzb3J0YWJsZTogdHJ1ZSwKICAgICAgICBsYWJlbDogIkVtcHJlc2EiLAogICAgICAgIHZpc2libGU6IGZhbHNlCiAgICAgIH0sIHsKICAgICAgICBrZXk6ICJPY0lkIiwKICAgICAgICBzb3J0YWJsZTogdHJ1ZSwKICAgICAgICBsYWJlbDogIklkIE9DIiwKICAgICAgICB2aXNpYmxlOiB0cnVlCiAgICAgIH0sIHsKICAgICAgICBrZXk6ICJPQ0thcHBlcyIsCiAgICAgICAgc29ydGFibGU6IHRydWUsCiAgICAgICAgdGRDbGFzczogInRleHQtbm93cmFwIiwKICAgICAgICBsYWJlbDogIk9DIEthcHBlcyIsCiAgICAgICAgdmlzaWJsZTogdHJ1ZQogICAgICB9LCB7CiAgICAgICAga2V5OiAiTnVtZXJvIiwKICAgICAgICBzb3J0YWJsZTogdHJ1ZSwKICAgICAgICBsYWJlbDogIlBlZGlkbyIsCiAgICAgICAgdmlzaWJsZTogdHJ1ZSwKICAgICAgICBfc2hvd0RldGFpbHM6IGZhbHNlCiAgICAgIH0sIHsKICAgICAgICBrZXk6ICJEYXRhQ29tcHJhIiwKICAgICAgICBzb3J0YWJsZTogdHJ1ZSwKICAgICAgICB0ZENsYXNzOiAidGV4dC1ub3dyYXAiLAogICAgICAgIGxhYmVsOiAiRGF0YSIsCiAgICAgICAgdmlzaWJsZTogdHJ1ZQogICAgICB9LCB7CiAgICAgICAga2V5OiAiUGVyY2VudHVhbCIsCiAgICAgICAgc29ydGFibGU6IGZhbHNlLAogICAgICAgIGxhYmVsOiAiUGVyYyBDb2xldGEiLAogICAgICAgIHZpc2libGU6IHRydWUKICAgICAgfSwgewogICAgICAgIGtleTogIlBlZGlkb0h1YlVSTCIsCiAgICAgICAgc29ydGFibGU6IHRydWUsCiAgICAgICAgdGRDbGFzczogInRleHQtbm93cmFwIiwKICAgICAgICBsYWJlbDogIk9DIFBhcmNlaXJvIiwKICAgICAgICB2aXNpYmxlOiB0cnVlCiAgICAgIH0sIHsKICAgICAgICBrZXk6ICJNYXJrZXRQbGFjZSIsCiAgICAgICAgc29ydGFibGU6IHRydWUsCiAgICAgICAgdGRDbGFzczogInRleHQtbm93cmFwIiwKICAgICAgICBsYWJlbDogIk1hcmtldHBsYWNlIiwKICAgICAgICB2aXNpYmxlOiB0cnVlCiAgICAgIH0sIHsKICAgICAgICBrZXk6ICJUcmFuc3BvcnRhZG9yYSIsCiAgICAgICAgc29ydGFibGU6IHRydWUsCiAgICAgICAgdGRDbGFzczogInRleHQtbm93cmFwIiwKICAgICAgICB2aXNpYmxlOiB0cnVlCiAgICAgIH0sIHsKICAgICAgICBrZXk6ICJGYW50YXNpYSIsCiAgICAgICAgc29ydGFibGU6IHRydWUsCiAgICAgICAgdGRDbGFzczogInRleHQtbm93cmFwIiwKICAgICAgICBsYWJlbDogIkNsaWVudGUiLAogICAgICAgIHZpc2libGU6IHRydWUKICAgICAgfSwgewogICAgICAgIGtleTogIkNHQyIsCiAgICAgICAgc29ydGFibGU6IHRydWUsCiAgICAgICAgdGRDbGFzczogInRleHQtbm93cmFwIiwKICAgICAgICBsYWJlbDogIkNQRi9DTlBKIiwKICAgICAgICB2aXNpYmxlOiB0cnVlCiAgICAgIH0sIHsKICAgICAgICBrZXk6ICJUZWxlZm9uZSIsCiAgICAgICAgc29ydGFibGU6IHRydWUsCiAgICAgICAgdmlzaWJsZTogdHJ1ZSwKICAgICAgICBsYWJlbDogIkZvbmUiCiAgICAgIH0sIHsKICAgICAgICBrZXk6ICJDaWRhZGUiLAogICAgICAgIHNvcnRhYmxlOiB0cnVlLAogICAgICAgIHRkQ2xhc3M6ICJ0ZXh0LW5vd3JhcCIsCiAgICAgICAgdmlzaWJsZTogdHJ1ZQogICAgICB9LCB7CiAgICAgICAga2V5OiAiRXN0YWRvIiwKICAgICAgICBzb3J0YWJsZTogdHJ1ZSwKICAgICAgICBsYWJlbDogIlVGIiwKICAgICAgICB0ZENsYXNzOiAidGV4dC1ub3dyYXAiLAogICAgICAgIHZpc2libGU6IHRydWUKICAgICAgfSwgewogICAgICAgIGtleTogIlN0YXR1cyIsCiAgICAgICAgc29ydGFibGU6IHRydWUsCiAgICAgICAgdGRDbGFzczogInRleHQtbm93cmFwIiwKICAgICAgICB2aXNpYmxlOiB0cnVlLAogICAgICAgIF9zaG93RGV0YWlsczogZmFsc2UKICAgICAgfSwgewogICAgICAgIGtleTogIkRhdGFTdGF0dXMiLAogICAgICAgIHNvcnRhYmxlOiB0cnVlLAogICAgICAgIHRkQ2xhc3M6ICJ0ZXh0LW5vd3JhcCIsCiAgICAgICAgdmlzaWJsZTogdHJ1ZQogICAgICB9LCB7CiAgICAgICAga2V5OiAiVmFsb3JDb21GcmV0ZSIsCiAgICAgICAgc29ydGFibGU6IHRydWUsCiAgICAgICAgdGRDbGFzczogInRleHQtbm93cmFwIiwKICAgICAgICBsYWJlbDogIlZhbG9yIiwKICAgICAgICB2aXNpYmxlOiB0cnVlCiAgICAgIH0sIHsKICAgICAgICBrZXk6ICJWYWxvckZyZXRlIiwKICAgICAgICBzb3J0YWJsZTogdHJ1ZSwKICAgICAgICB0ZENsYXNzOiAidGV4dC1ub3dyYXAiLAogICAgICAgIHZpc2libGU6IHRydWUKICAgICAgfSwgewogICAgICAgIGtleTogIlZhbG9yRnJldGVEZXN0YWNhZG8iLAogICAgICAgIHNvcnRhYmxlOiB0cnVlLAogICAgICAgIHRkQ2xhc3M6ICJ0ZXh0LW5vd3JhcCIsCiAgICAgICAgdmlzaWJsZTogdHJ1ZSwKICAgICAgICBsYWJlbDogIkRlc3RhY2FkbyIKICAgICAgfSwgewogICAgICAgIGtleTogIlJvbWFuZWlvIiwKICAgICAgICBzb3J0YWJsZTogdHJ1ZSwKICAgICAgICB0ZENsYXNzOiAidGV4dC1ub3dyYXAiLAogICAgICAgIHZpc2libGU6IHRydWUKICAgICAgfSwgewogICAgICAgIGtleTogIk51bWVyb19Ob3RhIiwKICAgICAgICBzb3J0YWJsZTogdHJ1ZSwKICAgICAgICB0ZENsYXNzOiAidGV4dC1ub3dyYXAiLAogICAgICAgIGxhYmVsOiAiTm90YSIsCiAgICAgICAgdmlzaWJsZTogdHJ1ZQogICAgICB9LCB7CiAgICAgICAga2V5OiAiRGF0YVByZXZpc2FvRW50cmVnYSIsCiAgICAgICAgc29ydGFibGU6IHRydWUsCiAgICAgICAgdGRDbGFzczogInRleHQtbm93cmFwIiwKICAgICAgICBsYWJlbDogIlByZXZpc2FvIEVudHJlZ2EiLAogICAgICAgIHZpc2libGU6IHRydWUKICAgICAgfSwgewogICAgICAgIGtleTogIkFjdGlvbnMiLAogICAgICAgIHNvcnRhYmxlOiBmYWxzZSwKICAgICAgICB0ZENsYXNzOiAidGV4dC1ub3dyYXAiLAogICAgICAgIGxhYmVsOiAiQcOnw7VlcyIsCiAgICAgICAgdmlzaWJsZTogdHJ1ZQogICAgICB9LCB7CiAgICAgICAga2V5OiAiUmVkZXNwYWNobyIsCiAgICAgICAgc29ydGFibGU6IHRydWUsCiAgICAgICAgdGRDbGFzczogInRleHQtbm93cmFwIiwKICAgICAgICBsYWJlbDogIlJlZGVzcGFjaG8iLAogICAgICAgIHZpc2libGU6IHRydWUKICAgICAgfSwgewogICAgICAgIGtleTogIkRpYXNBdHJhc28iLAogICAgICAgIHNvcnRhYmxlOiB0cnVlLAogICAgICAgIHRkQ2xhc3M6ICJ0ZXh0LW5vd3JhcCIsCiAgICAgICAgbGFiZWw6ICJEaWFzIEF0cmFzbyIsCiAgICAgICAgdmlzaWJsZTogdHJ1ZQogICAgICB9LCB7CiAgICAgICAga2V5OiAiRGF0YVJlYWxFbnRyZWdhIiwKICAgICAgICBzb3J0YWJsZTogdHJ1ZSwKICAgICAgICB0ZENsYXNzOiAidGV4dC1ub3dyYXAiLAogICAgICAgIGxhYmVsOiAiRGF0YSBFbnRyZWdhIiwKICAgICAgICB2aXNpYmxlOiB0cnVlCiAgICAgIH0sIHsKICAgICAgICBrZXk6ICJPYnNlcnZhY2FvIiwKICAgICAgICB0ZENsYXNzOiAidGV4dC1ub3dyYXAiLAogICAgICAgIGxhYmVsOiAiT0JTIiwKICAgICAgICB2aXNpYmxlOiB0cnVlCiAgICAgIH0sIHsKICAgICAgICBrZXk6ICJSYXN0cmVpbyIsCiAgICAgICAgdGRDbGFzczogInRleHQtbm93cmFwIiwKICAgICAgICBsYWJlbDogIlJhc3RyZWlvIiwKICAgICAgICB2aXNpYmxlOiBmYWxzZQogICAgICB9XSwKICAgICAgZHJhZ2ZpZWxkc3RhcnQ6ICIiCiAgICB9OwogIH0sCiAgY3JlYXRlZCgpIHsKICAgIHRoaXMuYWN0aG9tZSgiL2Vjb21tZXJjZSIpOwogICAgdGhpcy5idXNjYXJVbHRpbWFQZXNxdWlzYSgpLnRoZW4oKCkgPT4gewogICAgICB0aGlzLnBlZGlkb3NMaXN0ID0gW107CiAgICAgIHRoaXMuYnVzY2FyKCk7CiAgICB9KTsKICB9LAogIC8vIGFzeW5jIG1vdW50ZWQoKSB7CiAgLy8gICBjb25zdCBwZXNxdWlzYSA9IGF3YWl0IGxvY2FsU3RvcmFnZS5nZXRJdGVtKCJ1bHRpbWFQZXNxdWlzYSIpOwogIC8vICAgdGhpcy5maWVsZHMubWFwKGUgPT4gewogIC8vICAgICBpZiAoSlNPTi5wYXJzZShwZXNxdWlzYSkuZmllbGRzLmZpbmQoZiA9PiBmLmtleSA9PSBlLmtleSkpIHsKICAvLyAgICAgICBlLnZpc2libGUgPSBKU09OLnBhcnNlKHBlc3F1aXNhKS5maWVsZHMuZmluZCgKICAvLyAgICAgICAgIGYgPT4gZi5rZXkgPT0gZS5rZXkKICAvLyAgICAgICApLnZpc2libGU7CiAgLy8gICAgIH0gZWxzZSB7CiAgLy8gICAgICAgZS52aXNpYmxlID0gZmFsc2U7CiAgLy8gICAgIH0KICAvLyAgIH0pOwogIC8vIH0sCiAgY29tcHV0ZWQ6IHsKICAgIG5yb3dhcm5pbmdzKCkgewogICAgICByZXR1cm4gewogICAgICAgIFF0ZGU6IHRoaXMucGVkaWRvc0xpc3RFbXByZXNhLmZpbHRlcihmID0+IGYuRW50cmVnYUVtQXRyYXNvID09IHRydWUgJiYgWzcsIDYsIDUsIDRdLmluY2x1ZGVzKGYuU3RhdHVzSWQpICYmIGYuU3RhdHVzSWQgIT09IDEwKS5sZW5ndGgudG9TdHJpbmcoKSwKICAgICAgICBWYWxvcjogdGhpcy5wZWRpZG9zTGlzdEVtcHJlc2EuZmlsdGVyKGYgPT4gZi5FbnRyZWdhRW1BdHJhc28gPT0gdHJ1ZSAmJiBbNywgNiwgNSwgNF0uaW5jbHVkZXMoZi5TdGF0dXNJZCkgJiYgZi5TdGF0dXNJZCAhPT0gMTApLnJlZHVjZSgoYWN1bXVsYWRvciwgdmFsb3JBdHVhbCkgPT4gYWN1bXVsYWRvciArIHZhbG9yQXR1YWwuVmFsb3JDb21GcmV0ZSwgMCkKICAgICAgfTsKICAgIH0sCiAgICBucm9kYXJrKCkgewogICAgICByZXR1cm4gewogICAgICAgIFF0ZGU6IHRoaXMucGVkaWRvc0xpc3RFbXByZXNhLmZpbHRlcihmID0+IGYuU3RhdHVzSWQgPT0gNyB8fCBmLlN0YXR1c0lkID09IDYgfHwgZi5TdGF0dXNJZCA9PSA1IHx8IGYuU3RhdHVzSWQgPT0gNCkubGVuZ3RoLnRvU3RyaW5nKCksCiAgICAgICAgVmFsb3I6IHRoaXMucGVkaWRvc0xpc3RFbXByZXNhLmZpbHRlcihmID0+IGYuU3RhdHVzSWQgPT0gNyB8fCBmLlN0YXR1c0lkID09IDYgfHwgZi5TdGF0dXNJZCA9PSA1IHx8IGYuU3RhdHVzSWQgPT0gNCkucmVkdWNlKChhY3VtdWxhZG9yLCB2YWxvckF0dWFsKSA9PiBhY3VtdWxhZG9yICsgdmFsb3JBdHVhbC5WYWxvckNvbUZyZXRlLCAwKSB8fCAwCiAgICAgIH07CiAgICB9LAogICAgbnJvc3VjY2VzcygpIHsKICAgICAgcmV0dXJuIHsKICAgICAgICBRdGRlOiB0aGlzLnBlZGlkb3NMaXN0RW1wcmVzYS5maWx0ZXIoZiA9PiBmLlN0YXR1c0lkID09IDkpLmxlbmd0aC50b1N0cmluZygpLAogICAgICAgIFZhbG9yOiB0aGlzLnBlZGlkb3NMaXN0RW1wcmVzYS5maWx0ZXIoZiA9PiBmLlN0YXR1c0lkID09IDkpLnJlZHVjZSgoYWN1bXVsYWRvciwgdmFsb3JBdHVhbCkgPT4gYWN1bXVsYWRvciArIHZhbG9yQXR1YWwuVmFsb3JDb21GcmV0ZSwgMCkKICAgICAgfTsKICAgIH0sCiAgICBucm9kYW5nZXJzKCkgewogICAgICByZXR1cm4gewogICAgICAgIFF0ZGU6IHRoaXMucGVkaWRvc0xpc3RFbXByZXNhLmZpbHRlcihmID0+IGYuU3RhdHVzSWQgPT0gMTAgJiYgdGhpcy5EZXZvbHVjYW8gPT0gZmFsc2UpLmxlbmd0aC50b1N0cmluZygpLAogICAgICAgIFZhbG9yOiB0aGlzLnBlZGlkb3NMaXN0RW1wcmVzYS5maWx0ZXIoZiA9PiBmLlN0YXR1c0lkID09IDEwICYmIHRoaXMuRGV2b2x1Y2FvID09IGZhbHNlKS5yZWR1Y2UoKGFjdW11bGFkb3IsIHZhbG9yQXR1YWwpID0+IGFjdW11bGFkb3IgKyB2YWxvckF0dWFsLlZhbG9yQ29tRnJldGUsIDApCiAgICAgIH07CiAgICB9LAogICAgbnJvaW5mbygpIHsKICAgICAgcmV0dXJuIHsKICAgICAgICBRdGRlOiB0aGlzLnBlZGlkb3NMaXN0RW1wcmVzYS5maWx0ZXIoZiA9PiBmLlZhbG9yIDwgMCkubGVuZ3RoLnRvU3RyaW5nKCksCiAgICAgICAgVmFsb3I6IHRoaXMucGVkaWRvc0xpc3RFbXByZXNhLmZpbHRlcihmID0+IGYuVmFsb3IgPCAwKS5yZWR1Y2UoKGFjdW11bGFkb3IsIHZhbG9yQXR1YWwpID0+IGFjdW11bGFkb3IgKyB2YWxvckF0dWFsLlZhbG9yQ29tRnJldGUsIDApCiAgICAgIH07CiAgICB9LAogICAgcGVkaWRvc0ZpZWxkcygpIHsKICAgICAgcmV0dXJuIHRoaXMuZmllbGRzLmZpbHRlcihmID0+IGYudmlzaWJsZSk7CiAgICB9LAogICAgcGVkaWRvc1RvdGFpc0NvdW50KCkgewogICAgICByZXR1cm4gdGhpcy5wZWRpZG9zTGlzdEVtcHJlc2EubGVuZ3RoOwogICAgfSwKICAgIHZhbG9yKCkgewogICAgICB2YXIgc3VtID0gdGhpcy5wZWRpZG9zTGlzdEVtcHJlc2EucmVkdWNlKChhY3VtdWxhZG9yLCB2YWxvckF0dWFsKSA9PiBhY3VtdWxhZG9yICsgdmFsb3JBdHVhbC5WYWxvckNvbUZyZXRlLCAwKTsKICAgICAgcmV0dXJuIE1hdGgucm91bmQoc3VtICogMTAwKSAvIDEwMDsKICAgIH0sCiAgICB2YWxvckZyZXRlKCkgewogICAgICB2YXIgc3VtID0gdGhpcy5wZWRpZG9zTGlzdEVtcHJlc2EucmVkdWNlKChhY3VtdWxhZG9yLCB2YWxvckF0dWFsKSA9PiBhY3VtdWxhZG9yICsgdmFsb3JBdHVhbC5WYWxvckZyZXRlLCAwKTsKICAgICAgcmV0dXJuIE1hdGgucm91bmQoc3VtICogMTAwKSAvIDEwMDsKICAgIH0sCiAgICBwZWRpZG9zTGlzdEVtcHJlc2EoKSB7CiAgICAgIHJldHVybiB0aGlzLmZpbHRyYWRvLmZpbHRlcihyZXMgPT4gdGhpcy5maWx0cm9FbXByZXNhcy5maW5kKGUgPT4gZSA9PSByZXMuRW1wcmVzYSAmJiByZXMuRGV2b2x1Y2FvID09IHRoaXMuRGV2b2x1Y2FvKSk7CiAgICB9LAogICAgZW1wcmVzYSgpIHsKICAgICAgcmV0dXJuIHRoaXMucGVkaWRvc0xpc3QucmVkdWNlKChhLCBiKSA9PiB7CiAgICAgICAgaWYgKCFhLmZpbmQoZiA9PiBmLkVtcHJlc2EgPT0gYi5FbXByZXNhKSkgewogICAgICAgICAgYS5wdXNoKHsKICAgICAgICAgICAgRW1wcmVzYTogYi5FbXByZXNhLAogICAgICAgICAgICBOb21lRW1wcmVzYTogYi5Ob21lX0VtcHJlc2EKICAgICAgICAgIH0pOwogICAgICAgIH0KICAgICAgICByZXR1cm4gYTsKICAgICAgfSwgW10pOwogICAgfQogIH0sCiAgbWV0aG9kczogewogICAgLi4ubWFwQWN0aW9ucyhbImFjdGhvbWUiXSksCiAgICByb3dDbGFzcyhpdGVtLCB0eXBlKSB7CiAgICAgIGlmICghaXRlbSB8fCB0eXBlICE9PSAicm93IikgcmV0dXJuOwogICAgICBpZiAodGhpcy5zb21lbnRlQXRyYXNhZG9zKSByZXR1cm4gInRhYmxlLXdhcm5pbmciOwogICAgICBpZiAoaXRlbS5WYWxvciA8IDApIHJldHVybiAidGFibGUtcHJpbWFyeSI7CiAgICAgIGlmIChpdGVtLlN0YXR1c0lkID09PSAxMCkgcmV0dXJuICJ0YWJsZS1kYW5nZXIiOwogICAgICBpZiAoaXRlbS5TdGF0dXNJZCA9PT0gNyB8fCBpdGVtLlN0YXR1c0lkID09PSA2IHx8IGl0ZW0uU3RhdHVzSWQgPT09IDUgfHwgaXRlbS5TdGF0dXNJZCA9PT0gNCkgcmV0dXJuICJ0YWJsZS1kYXJrIjsKICAgICAgaWYgKGl0ZW0uU3RhdHVzSWQgPT09IDggfHwgaXRlbS5TdGF0dXNJZCA9PSA5KSByZXR1cm4gInRhYmxlLXN1Y2Nlc3MiOwogICAgICBpZiAoaXRlbS5FbnRyZWdhRW1BdHJhc28gPT0gdHJ1ZSkgcmV0dXJuICJ0YWJsZS13YXJuaW5nIjsKICAgIH0sCiAgICBvblJvd1NlbGVjdGVkKGl0ZW1zKSB7fSwKICAgIGVtdHJhbnNpdG8oKSB7CiAgICAgIHRoaXMuc3RhdHVzTGlzdFNlbGVjdGVkID0gWzcsIDYsIDUsIDRdOwogICAgICB0aGlzLmJ0bkZpbHRyb3MoKTsKICAgIH0sCiAgICBjYW5jZWxhZG9zKCkgewogICAgICB0aGlzLkRldm9sdWNhbyA9IGZhbHNlOwogICAgICB0aGlzLnN0YXR1c0xpc3RTZWxlY3RlZCA9IFsxMF07CiAgICAgIHRoaXMuYnRuRmlsdHJvcygpOwogICAgfSwKICAgIGVudHJlZ3VlKCkgewogICAgICB0aGlzLnN0YXR1c0xpc3RTZWxlY3RlZCA9IFs4LCA5XTsKICAgICAgdGhpcy5idG5GaWx0cm9zKCk7CiAgICB9LAogICAgYnVzY2FyKCkgewogICAgICBBcGlTZXJ2aWNlLmdldCgidjIvSW50cmFuZXRFY29tbWVyY2VCMkMvTWFya2V0cGxhY2VzL0NvbWJvIikudGhlbihyZXN1bHQgPT4gewogICAgICAgIHRoaXMubWFya2V0UGxhY2VzTGlzdCA9IHJlc3VsdC5kYXRhLkRhdGE7CiAgICAgIH0pOwogICAgICBBcGlTZXJ2aWNlLmdldCgidjIvSW50cmFuZXRFY29tbWVyY2VCMkMvUGVkaWRvcy9TdGF0dXMiKS50aGVuKHJlc3VsdCA9PiB7CiAgICAgICAgdGhpcy5zdGF0dXNMaXN0ID0gcmVzdWx0LmRhdGEuRGF0YTsKICAgICAgfSk7CiAgICB9LAogICAgYXN5bmMgYnRuRmlsdHJvcygpIHsKICAgICAgaWYgKHRoaXMuZGF0YUZpbmFsID09IG51bGwgfHwgdGhpcy5kYXRhRmluYWwgPT0gIiIpIHsKICAgICAgICB0aGlzLmRhdGFGaW5hbCA9IG5ldyBEYXRlKCk7CiAgICAgIH0KICAgICAgY29uc3QgZGlmZk1lc2VzID0gTWF0aC5hYnMobmV3IERhdGUodGhpcy5kYXRhRmluYWwpLmdldE1vbnRoKCkgLSBuZXcgRGF0ZSh0aGlzLmRhdGFJbmljaWFsKS5nZXRNb250aCgpICsgMTIgKiAobmV3IERhdGUodGhpcy5kYXRhRmluYWwpLmdldEZ1bGxZZWFyKCkgLSBuZXcgRGF0ZSh0aGlzLmRhdGFJbmljaWFsKS5nZXRGdWxsWWVhcigpKSk7CiAgICAgIC8vVmVyaWZpY2FuZG8gc2UgYSBkaWZlcmVuw6dhIMOpIG1haW9yIHF1ZSAzIG1lc2VzCiAgICAgIGlmIChkaWZmTWVzZXMgPiAzKSB7CiAgICAgICAgdGhpcy4kcm9vdC50b2FzdGRhbmdlcigiQSBkaWZlcmVuw6dhIGVudHJlIGFzIGRhdGFzIMOpIG1haW9yIHF1ZSAzIG1lc2VzLiBGYXZvciBBbHRlcmFyIGRhdGEgSW5pY2lhbCBvdSBGaW5hbC4iKTsKICAgICAgfSBlbHNlIHsKICAgICAgICBhd2FpdCB0aGlzLnNhbHZhclBlc3F1aXNhcygpOwogICAgICAgIHRoaXMubG9hZGluZyA9IHRydWU7CiAgICAgICAgQXBpU2VydmljZS5wb3N0KCJ2Mi9JbnRyYW5ldEVjb21tZXJjZUIyQy9QZWRpZG9zL0dldCIsIHsKICAgICAgICAgIHN0YXR1czogdGhpcy5zdGF0dXNMaXN0U2VsZWN0ZWQsCiAgICAgICAgICBtYXJrZXRwbGFjZXM6IHRoaXMubWFya2V0UGxhY2VzTGlzdFNlbGVjdGVkLAogICAgICAgICAgZGF0YUluaWNpYWw6IHRoaXMuZGF0YUluaWNpYWwsCiAgICAgICAgICBkYXRhRmluYWw6IHRoaXMuZGF0YUZpbmFsCiAgICAgICAgfSkudGhlbihyZXN1bHQgPT4gewogICAgICAgICAgY29uc29sZS5sb2coInJlc3VsdCIsIHJlc3VsdC5kYXRhKTsKICAgICAgICAgIGlmIChyZXN1bHQuZGF0YS5TdWNjZXNzKSB7CiAgICAgICAgICAgIHRoaXMucGVkaWRvc0xpc3QgPSByZXN1bHQuZGF0YS5EYXRhOwogICAgICAgICAgICB0aGlzLmZpbHRyYWRvID0gcmVzdWx0LmRhdGEuRGF0YTsKICAgICAgICAgICAgdGhpcy51dGlsaXpvdUZpbHRybyA9IG5ldyBEYXRlKCk7CiAgICAgICAgICB9CiAgICAgICAgICB0aGlzLmxvYWRpbmcgPSBmYWxzZTsKICAgICAgICAgIHRoaXMuZW1wcmVzYXM7CiAgICAgICAgfSk7CiAgICAgIH0KICAgIH0sCiAgICBhc3luYyBzYWx2YXJQZXNxdWlzYXMoKSB7CiAgICAgIGNvbnN0IHVsdGltYVBlc3F1aXNhID0gewogICAgICAgIG1hcmtldHBsYWNlczogdGhpcy5tYXJrZXRQbGFjZXNMaXN0U2VsZWN0ZWQsCiAgICAgICAgc3RhdHVzOiB0aGlzLnN0YXR1c0xpc3RTZWxlY3RlZCwKICAgICAgICBkYXRhSW5pY2lhbDogdGhpcy5kYXRhSW5pY2lhbCwKICAgICAgICBkYXRhRmluYWw6IHRoaXMuZGF0YUZpbmFsLAogICAgICAgIHBvclBhZ2luYTogdGhpcy5wb3JQYWdpbmEsCiAgICAgICAgZmllbGRzOiB0aGlzLmZpZWxkcywKICAgICAgICBmaWx0cm9FbXByZXNhczogdGhpcy5maWx0cm9FbXByZXNhcwogICAgICB9OwogICAgICBhd2FpdCBsb2NhbFN0b3JhZ2Uuc2V0SXRlbSgidWx0aW1hUGVzcXVpc2EiLCBKU09OLnN0cmluZ2lmeSh1bHRpbWFQZXNxdWlzYSkpOwogICAgfSwKICAgIGFzeW5jIGJ1c2NhclVsdGltYVBlc3F1aXNhKCkgewogICAgICBjb25zdCBwZXNxdWlzYSA9IGF3YWl0IGxvY2FsU3RvcmFnZS5nZXRJdGVtKCJ1bHRpbWFQZXNxdWlzYSIpOwogICAgICBpZiAocGVzcXVpc2EpIHsKICAgICAgICB0aGlzLnN0YXR1c0xpc3RTZWxlY3RlZCA9IEpTT04ucGFyc2UocGVzcXVpc2EpLnN0YXR1cyA/IEpTT04ucGFyc2UocGVzcXVpc2EpLnN0YXR1cyA6IHRoaXMuc3RhdHVzOwogICAgICAgIHRoaXMubWFya2V0UGxhY2VzTGlzdFNlbGVjdGVkID0gSlNPTi5wYXJzZShwZXNxdWlzYSkubWFya2V0cGxhY2VzID8gSlNPTi5wYXJzZShwZXNxdWlzYSkubWFya2V0cGxhY2VzIDogdGhpcy5tYXJrZXRwbGFjZXM7CiAgICAgICAgdGhpcy5kYXRhSW5pY2lhbCA9IEpTT04ucGFyc2UocGVzcXVpc2EpLmRhdGFJbmljaWFsID8gSlNPTi5wYXJzZShwZXNxdWlzYSkuZGF0YUluaWNpYWwgOiB0aGlzLmRhdGFJbmljaWFsOwogICAgICAgIHRoaXMuZGF0YUZpbmFsID0gSlNPTi5wYXJzZShwZXNxdWlzYSkuZGF0YUZpbmFsID8gSlNPTi5wYXJzZShwZXNxdWlzYSkuZGF0YUZpbmFsIDogdGhpcy5kYXRhRmluYWw7CiAgICAgICAgdGhpcy5wb3JQYWdpbmEgPSBKU09OLnBhcnNlKHBlc3F1aXNhKS5wb3JQYWdpbmEgPyBKU09OLnBhcnNlKHBlc3F1aXNhKS5wb3JQYWdpbmEgOiB0aGlzLnBvclBhZ2luYTsKICAgICAgICAvLyBhZGljaW9uYXIgYXMgZmllbGRzIHBhcmEgYXMgY29sdW5hcwogICAgICAgIHRoaXMuZmllbGRzID0gSlNPTi5wYXJzZShwZXNxdWlzYSkuZmllbGRzID8gSlNPTi5wYXJzZShwZXNxdWlzYSkuZmllbGRzIDogdGhpcy5maWVsZHM7CiAgICAgICAgdGhpcy5maWx0cm9FbXByZXNhcyA9IEpTT04ucGFyc2UocGVzcXVpc2EpLmZpbHRyb0VtcHJlc2FzID8gSlNPTi5wYXJzZShwZXNxdWlzYSkuZmlsdHJvRW1wcmVzYXMgOiB0aGlzLmZpbHRyb0VtcHJlc2FzOwogICAgICAgIHRoaXMuYnRuRmlsdHJvcygpOwogICAgICB9CiAgICB9LAogICAgY2xlYXJJbmljaWFsRGF0ZSgpIHsKICAgICAgdGhpcy5kYXRhSW5pY2lhbCA9ICIiOwogICAgfSwKICAgIGNsZWFyRmluYWxEYXRlKCkgewogICAgICB0aGlzLmRhdGFGaW5hbCA9ICIiOwogICAgfSwKICAgIGF0cmFzYWRvcygpIHsKICAgICAgdGhpcy5wZWRpZG9zQXRyYXNhZG9zID0gW107CiAgICAgIGlmICh0aGlzLmZpbHRybyA9PSAiIikgewogICAgICAgIHRoaXMuZmlsdHJvID0gInRydWUiOwogICAgICAgIHRoaXMuc29tZW50ZUF0cmFzYWRvcyA9IHRydWU7CiAgICAgICAgdGhpcy5wZWRpZG9zQXRyYXNhZG9zID0gdGhpcy5wZWRpZG9zTGlzdC5maWx0ZXIoYXRyYXNhZG8gPT4gYXRyYXNhZG8uRW50cmVnYUVtQXRyYXNvID09PSB0cnVlKTsKICAgICAgfSBlbHNlIHsKICAgICAgICB0aGlzLmZpbHRybyA9ICIiOwogICAgICAgIHRoaXMuc29tZW50ZUF0cmFzYWRvcyA9IGZhbHNlOwogICAgICB9CiAgICB9LAogICAgZGV2b2x1Y2FvKCkgewogICAgICB0aGlzLkRldm9sdWNhbyA9ICF0aGlzLkRldm9sdWNhbzsKICAgICAgdGhpcy5wZWRpZG9zQXRyYXNhZG9zID0gdGhpcy5wZWRpZG9zTGlzdEVtcHJlc2EuZmlsdGVyKGRldm9sdWNhbyA9PiBkZXZvbHVjYW8uRGV2b2x1Y2FvID09PSB0aGlzLkRldm9sdWNhbyk7CiAgICB9LAogICAgZGV0YWxoZXMocm93LCB0ZXh0KSB7CiAgICAgIGlmIChyb3cuaXRlbS5fc2hvd0RldGFpbHMgPT0gdW5kZWZpbmVkIHx8IHJvdy5pdGVtLl9zaG93RGV0YWlscyA9PSBmYWxzZSkgewogICAgICAgIGlmICh0ZXh0ID09ICJzdGF0dXMiKSB7CiAgICAgICAgICB0aGlzLnN0YXR1cyA9IHRydWU7CiAgICAgICAgfSBlbHNlIGlmICh0ZXh0ID09ICJvYyIpIHsKICAgICAgICAgIHRoaXMub2MgPSB0cnVlOwogICAgICAgIH0KICAgICAgICByb3cuaXRlbS5fc2hvd0RldGFpbHMgPSB0cnVlOwogICAgICB9IGVsc2UgewogICAgICAgIHJvdy5pdGVtLl9zaG93RGV0YWlscyA9IGZhbHNlOwogICAgICAgIHRoaXMuc3RhdHVzID0gZmFsc2U7CiAgICAgICAgdGhpcy5vYyA9IGZhbHNlOwogICAgICB9CiAgICB9LAogICAgZ2VyYXJSb21hbmVpb3MoKSB7CiAgICAgIEFwaVNlcnZpY2UuZ2V0KCJ2Mi9JbnRyYW5ldEVjb21tZXJjZUIyQy9QZWRpZG9zL0dlcmFSb21hbmVpb0ZhdHVyYSIsIHt9LCB0cnVlLCA0NTAwMCkudGhlbihyZXMgPT4gewogICAgICAgIHRoaXMuJHJvb3QudG9hc3RzdWNjZXNzKHJlcyk7CiAgICAgICAgdGhpcy5idG5GaWx0cm9zKCk7CiAgICAgIH0pLmNhdGNoKGUgPT4gewogICAgICAgIHRoaXMuJHJvb3QudG9hc3RkYW5nZXIoIkVycm8gYW8gZ2VyYXIgcm9tYW5laW9zISAiICsgZSk7CiAgICAgIH0pOwogICAgfSwKICAgIHJlc2V0TW9kYWwoKSB7CiAgICAgIHRoaXMubW90aXZvID0gIiI7CiAgICAgIHRoaXMubW90aXZvU3RhdGUgPSBudWxsOwogICAgfSwKICAgIGhhbmRsZU9rKHJvdykgewogICAgICB0aGlzLmhhbmRsZVN1Ym1pdChyb3cpOwogICAgfSwKICAgIGhhbmRsZVN1Ym1pdChyb3cpIHsKICAgICAgaWYgKHRoaXMubW90aXZvID09ICIiKSB7CiAgICAgICAgcmV0dXJuOwogICAgICB9CiAgICAgIC8vIEhpZGUgdGhlIG1vZGFsIG1hbnVhbGx5CiAgICAgIHRoaXMuJG5leHRUaWNrKCgpID0+IHsKICAgICAgICAvLyBlbnZpYSB2aWEgYXBpIG8gcHJvY2Vzc28gZGUgY2FuY2VsYW1lbnRvCiAgICAgICAgY29uc29sZS5sb2coIk9jSWQ6ICIgKyByb3cuaXRlbS5PY0lkICsgIiB8fCBNb3Rpdm86ICIgKyB0aGlzLm1vdGl2byk7CiAgICAgICAgdmFyIGRhdGEgPSB7CiAgICAgICAgICBPY0lkOiByb3cuaXRlbS5PY0lkLAogICAgICAgICAgTW90aXZvOiB0aGlzLm1vdGl2bwogICAgICAgIH07CiAgICAgICAgQXBpU2VydmljZS5wb3N0KCJ2Mi9JbnRyYW5ldEVjb21tZXJjZUIyQy9PcmRlbUNvbXByYS9DYW5jZWxhciIsIGRhdGEpLnRoZW4oZGF0YSA9PiB7CiAgICAgICAgICBjb25zb2xlLmxvZyhkYXRhKTsKICAgICAgICAgIHRoaXMuJHJvb3QudG9hc3RzdWNjZXNzKCJPQyBjYW5jZWxhZG8gY29tIHN1Y2Vzc28hIik7CiAgICAgICAgfSkuY2F0Y2goZSA9PiB7CiAgICAgICAgICB0aGlzLiRyb290LnRvYXN0ZGFuZ2VyKCJFcnJvIGFvIGNhbmNlbGFyIGEgT0MhIik7CiAgICAgICAgfSk7CiAgICAgICAgdGhpcy4kYnZNb2RhbC5oaWRlKCJtb2RhbC1tb3Rpdm8tY2FuY2VsYW1lbnRvIik7CiAgICAgIH0pOwogICAgfSwKICAgIC8qIERSQUcgQ09MVU1OUyAqLwogICAgZHJhZ1N0YXJ0KGUpIHsKICAgICAgY29uc29sZS5sb2coImRyYWdTdGFydCBpbiA6IiwgZS50YXJnZXQuaWQpOwogICAgICB0aGlzLmRyYWdmaWVsZHN0YXJ0ID0gZS50YXJnZXQuaWQ7CiAgICB9LAogICAgZHJhZ0VudGVyKGUpIHsKICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpOwogICAgICBlLnRhcmdldC5jbGFzc0xpc3QuYWRkKCJkcmFnLW92ZXIiKTsKICAgIH0sCiAgICBkcmFnT3ZlcihlKSB7CiAgICAgIGUucHJldmVudERlZmF1bHQoKTsKICAgICAgZS50YXJnZXQuY2xhc3NMaXN0LmFkZCgiZHJhZy1vdmVyIik7CiAgICB9LAogICAgZHJhZ0xlYXZlKGUpIHsKICAgICAgZS50YXJnZXQuY2xhc3NMaXN0LnJlbW92ZSgiZHJhZy1vdmVyIik7CiAgICB9LAogICAgZHJvcChlKSB7CiAgICAgIGNvbnNvbGUubG9nKCJkcm9wIGluIDoiLCBlLnRhcmdldC5pZCk7CiAgICAgIGUudGFyZ2V0LmNsYXNzTGlzdC5yZW1vdmUoImRyYWctb3ZlciIpOwogICAgICAvLyBtb3ZlIG8gZnJvbSBwYXJhIG8gdG8KICAgICAgdGhpcy5jaGFuZ2Vjb2x1bW5zKHRoaXMuZHJhZ2ZpZWxkc3RhcnQsIGUudGFyZ2V0LmlkKTsKICAgIH0sCiAgICBjaGFuZ2Vjb2x1bW5zKENvbHVtbkEsIENvbHVtbkIpIHsKICAgICAgY29uc3Qgc3RhcnQgPSB0aGlzLmZpZWxkcy5maW5kSW5kZXgoZiA9PiAoZi5rZXkgfHwgZikgPT0gQ29sdW1uQSk7CiAgICAgIGxldCBmcm9tID0gc3RhcnQ7CiAgICAgIGxldCB0byA9IHRoaXMuZmllbGRzLmZpbmRJbmRleChmID0+IChmLmtleSB8fCBmKSA9PSBDb2x1bW5CKTsKICAgICAgLy8gbW92ZSBhIGNvbHVuYUEgcGFyYSBvIGluZGljZSBkYSBjb2x1bmEgQgogICAgICB0aGlzLm1vdmUoZnJvbSwgdG8pOwogICAgICAvLyBtb3ZlIGEgY29sdW5hQSBwYXJhIG8gaW5kaWNlIGRhIGNvbHVuYSBCCiAgICAgIC8vZnJvbSA9IHRoaXMuZmllbGRzLmZpbmRJbmRleCgoZikgPT4gKGYua2V5IHx8IGYpID09IENvbHVtbkIpOwogICAgICAvL3RvID0gc3RhcnQ7CiAgICAgIC8vdGhpcy5tb3ZlKGZyb20sIHRvKTsKICAgIH0sCgogICAgbW92ZShmcm9tLCB0bykgewogICAgICB0aGlzLmZpZWxkcy5zcGxpY2UodG8sIDAsIHRoaXMuZmllbGRzLnNwbGljZShmcm9tLCAxKVswXSk7CiAgICB9LAogICAgY2FsY3VsYUF0cmFzbyhkYXRhMSwgZGF0YTIpIHsKICAgICAgLy8gIGNvbnNvbGUuZXJyb3IoImRhdGExIiwgZGF0YTEpOwogICAgICAvLyAgY29uc29sZS5lcnJvcigiZGF0YTIiLCBkYXRhMik7CiAgICAgIHZhciBwcmV2aXNhbyA9IG5ldyBEYXRlKGRhdGExKTsKICAgICAgdmFyIGhvamUgPSBuZXcgRGF0ZSgpOwogICAgICB2YXIgZW50cmVnYSA9IG5ldyBEYXRlKGRhdGEyKTsKICAgICAgaWYgKGRhdGExID09IG51bGwpIHsKICAgICAgICByZXR1cm4gIiI7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgaWYgKGRhdGEyICE9ICIiKSB7CiAgICAgICAgICB2YXIgZGlmZkVudHJlZ2EgPSBNYXRoLmFicyhlbnRyZWdhIC0gcHJldmlzYW8pOwogICAgICAgICAgdmFyIGRpYXNEaWZmID0gZGlmZkVudHJlZ2EgLyAoMTAwMCAqIDM2MDAgKiAyNCk7CiAgICAgICAgICBpZiAocHJldmlzYW8gPiBlbnRyZWdhKSB7CiAgICAgICAgICAgIHJldHVybiAiLSIgKyBNYXRoLnJvdW5kKGRpYXNEaWZmKTsKICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgIHJldHVybiBNYXRoLnJvdW5kKGRpYXNEaWZmKTsKICAgICAgICAgIH0KICAgICAgICB9IGVsc2UgewogICAgICAgICAgdmFyIGRpZmYgPSBNYXRoLmFicyhob2plIC0gcHJldmlzYW8pOwogICAgICAgICAgdmFyIGRheXMgPSBkaWZmIC8gKDEwMDAgKiAzNjAwICogMjQpOwogICAgICAgICAgaWYgKHByZXZpc2FvID49IGhvamUpIHsKICAgICAgICAgICAgcmV0dXJuICItIiArIE1hdGgucm91bmQoZGF5cyk7CiAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICByZXR1cm4gTWF0aC5yb3VuZChkYXlzKTsKICAgICAgICAgIH0KICAgICAgICB9CiAgICAgIH0KICAgIH0sCiAgICBhc3luYyBnZXRBY29tcGFuaGFtZW50b1JlbGFjaW9uYW1lbnRvcyhpdGVtKSB7CiAgICAgIHZhciByZXMgPSBhd2FpdCBBcGlTZXJ2aWNlLnBvc3QoInYyL0Fjb21wYW5oYW1lbnRvcy9SZWxhY2lvbmFtZW50b3MvR2V0IiwgewogICAgICAgIENoYXZlOiBpdGVtLklkLAogICAgICAgIFRhYmVsYTogIlBlZGlkb3MiCiAgICAgIH0pOwogICAgICBpZiAocmVzLmRhdGEuU3VjY2VzcyAvKiB0cnVlICovKSB7CiAgICAgICAgdGhpcy5hY29tcGFuaGFtZW50b0lEID0gcmVzLmRhdGEuRGF0YVswXS5BY29tcGFuaGFtZW50b0lkOwogICAgICAgIHRoaXMuJHJlZnNbIkFjb21wYW5oYW1lbnRvc01vZGFsIl0uc2hvdygpOwogICAgICB9IGVsc2UgewogICAgICAgIC8qIGZhbHNlICovCiAgICAgICAgdmFyIHJlczEgPSBhd2FpdCBBcGlTZXJ2aWNlLnBvc3QoInYyL0Fjb21wYW5oYW1lbnRvcy9SZWxhY2lvbmFtZW50b3MvU2F2ZSIsIHsKICAgICAgICAgIENoYXZlOiBpdGVtLklkLAogICAgICAgICAgVGFiZWxhOiAiUGVkaWRvcyIsCiAgICAgICAgICBBY29tcGFuaGFtZW50b0lkOiBudWxsLAogICAgICAgICAgQWNvbXBhbmhhbWVudG9EZXNjcmljYW86ICJBY29tcGFuaGFtZW50b3MgUGVkaWRvICIgKyBpdGVtLk51bWVybwogICAgICAgIH0pOwogICAgICAgIHRoaXMuYWNvbXBhbmhhbWVudG9JRCA9IHJlczEuZGF0YS5EYXRhWzBdLkFjb21wYW5oYW1lbnRvSWQ7CiAgICAgICAgdGhpcy4kcmVmc1siQWNvbXBhbmhhbWVudG9zTW9kYWwiXS5zaG93KCk7CiAgICAgIH0KICAgIH0KICB9Cn07"},{"version":3,"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAyfA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;EACAA;EACAC;IACAC;IACAC;EACA;EACAC;IACA;MACAC;MAEAC;MACAC;MACAC;MACAC;MACAC;MACAC,WACA,SACA,mBACA,YACA,UACA,gBACA,YACA,UACA,WACA,OACA,UACA,eACA,eACA,eACA,kBACA,YACA,QACA,aACA;MACAC;MACAC;MACAC;MACAC;MACAC;MACAC;MACAC;MACAC;MACAC;MACAC;MACAC;MACAC;MACAC;MACAC;MACAC;MACAC;MACAC;MACAC,SACA;QACAC;QACAC;QACAC;QACAC;MACA,GACA;QACAH;QACAC;QACAC;QACAC;MACA,GACA;QACAH;QACAC;QACAG;QACAF;QACAC;MACA,GACA;QACAH;QACAC;QACAC;QACAC;QACAE;MACA,GACA;QACAL;QACAC;QACAG;QACAF;QACAC;MACA,GACA;QACAH;QACAC;QACAC;QACAC;MACA,GACA;QACAH;QACAC;QACAG;QACAF;QACAC;MACA,GACA;QACAH;QACAC;QACAG;QACAF;QACAC;MACA,GACA;QACAH;QACAC;QACAG;QACAD;MACA,GACA;QACAH;QACAC;QACAG;QACAF;QACAC;MACA,GACA;QACAH;QACAC;QACAG;QACAF;QACAC;MACA,GACA;QACAH;QACAC;QACAE;QACAD;MACA,GACA;QACAF;QACAC;QACAG;QACAD;MACA,GACA;QACAH;QACAC;QACAC;QACAE;QACAD;MACA,GACA;QACAH;QACAC;QACAG;QACAD;QACAE;MACA,GACA;QACAL;QACAC;QACAG;QACAD;MACA,GACA;QACAH;QACAC;QACAG;QACAF;QACAC;MACA,GACA;QACAH;QACAC;QACAG;QACAD;MACA,GACA;QACAH;QACAC;QACAG;QACAD;QACAD;MACA,GACA;QACAF;QACAC;QACAG;QACAD;MACA,GACA;QACAH;QACAC;QACAG;QACAF;QACAC;MACA,GACA;QACAH;QACAC;QACAG;QACAF;QACAC;MACA,GACA;QACAH;QACAC;QACAG;QACAF;QACAC;MACA,GACA;QACAH;QACAC;QACAG;QACAF;QACAC;MACA,GACA;QACAH;QACAC;QACAG;QACAF;QACAC;MACA,GACA;QACAH;QACAC;QACAG;QACAF;QACAC;MACA,GACA;QACAH;QACAI;QACAF;QACAC;MACA,GACA;QACAH;QACAI;QACAF;QACAC;MACA,EACA;MACAG;IACA;EACA;EACAC;IACA;IACA;MACA;MACA;IACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACAC;IACAC;MACA;QACAC,8BACAC,OACAC,KACAA,6BACA,qCACAA,kBACA,CACAC;QACAC,+BACAH,OACAC,KACAA,6BACA,qCACAA,kBACA,CACAG,OACA,mEACA;MAEA;IACA;IACAC;MACA;QACAN,8BACAC,OACAC,KACAA,mBACAA,mBACAA,mBACAA,gBACA,CACAC;QACAC,OACA,wBACAH,OACAC,KACAA,mBACAA,mBACAA,mBACAA,gBACA,CACAG,OACA,mEACA,EACA;MACA;IACA;IACAE;MACA;QACAP,8BACAC,6BACAE;QACAC,+BACAH,6BACAI,OACA,mEACA;MAEA;IACA;IACAG;MACA;QACAR,8BACAC,yDACAE;QACAC,+BACAH,yDACAI,OACA,mEACA;MAEA;IACA;IACAI;MACA;QACAT,8BACAC,yBACAE;QACAC,+BACAH,yBACAI,OACA,mEACA;MAEA;IACA;IACAK;MACA;IACA;IACAC;MACA;IACA;IACAC;MACA,yCACA,mEACA,EACA;MACA;IACA;IACAC;MACA,yCACA,gEACA,EACA;MACA;IACA;IACAC;MACA,mCACA,yBACAC,yDACA,CACA;IACA;IACAC;MACA;QACA;UACAC;YAAAC;YAAAC;UAAA;QACA;QACA;MACA;IACA;EACA;EACAC;IACA;IACAC;MACA;MACA;MACA;MACA;MACA,IACAC,uBACAA,uBACAA,uBACAA,qBAEA;MACA;MACA;IACA;IACAC;IACAC;MACA;MACA;IACA;IACAC;MACA;MACA;MACA;IACA;IACAC;MACA;MACA;IACA;IACAC;MACAC,kEACAC;QACA;MACA,EACA;MACAD,8DACAC;QACA;MACA,EACA;IACA;IACA;MACA;QACA;MACA;MACA,2BACA,sCACA,wCACA,MACA,yCACA,0CACA;MACA;MACA;QACA,uBACA,uFACA;MACA;QACA;QACA;QACAD;UACA7C;UACA+C;UACA9C;UACAC;QACA;UACA8C;UACA;YACA;YACA;YACA;UACA;UACA;UACA;QACA;MACA;IACA;IACA;MACA;QACAD;QACA/C;QACAC;QACAC;QACAZ;QACAgB;QACAjB;MACA;MACA,2BACA,kBACA4D,+BACA;IACA;IACA;MACA;MACA;QACA,wDACAA,8BACA;QACA,oEACAA,oCACA;QACA,sDACAA,mCACA;QACA,kDACAA,iCACA;QACA,kDACAA,iCACA;QACA;QACA,4CACAA,8BACA;QACA,4DACAA,sCACA;QACA;MACA;IACA;IACAC;MACA;IACA;IACAC;MACA;IACA;IACAC;MACA;MACA;QACA;QACA;QACA,gDACAC,8CACA;MACA;QACA;QACA;MACA;IACA;IACAC;MACA;MACA,uDACAA,oDACA;IACA;IACAC;MACA,IACAC,sCACAA,gCACA;QACA;UACA;QACA;UACA;QACA;QACAA;MACA;QACAA;QACA;QACA;MACA;IACA;IACAC;MACAZ,eACA,sDACA,IACA,MACA,MACA,CACAa;QACA;QACA;MACA,GACAC;QACA;MACA;IACA;IACAC;MACA;MACA;IACA;IACAC;MACA;IACA;IACAC;MACA;QACA;MACA;MACA;MACA;QACA;QACAd;QACA;UACAe;UACAC;QACA;QACAnB,sEACAa;UACAV;UACA;QACA,GACAW;UACA;QACA;QACA;MACA;IACA;IACA;IACAM;MACAjB;MACA;IACA;IACAkB;MACAlC;MACAA;IACA;IACAmC;MACAnC;MACAA;IACA;IACAoC;MACApC;IACA;IACAqC;MACArB;MACAhB;MACA;MACA;IACA;IACAsC;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;IACA;;IACAC;MACA;IACA;IACAC;MACA;MACA;MACA;MACA;MACA;MACA;QACA;MACA;QACA;UACA;UACA;UACA;YACA;UACA;YACA;UACA;QACA;UACA;UACA;UACA;YACA;UACA;YACA;UACA;QACA;MACA;IACA;IACA;MACA,gCACA,0CACA;QACAC;QACAC;MACA,EACA;MACA;QACA;QACA;MACA;QACA;QACA,iCACA,2CACA;UACAD;UACAC;UACAC;UACAC;QACA,EACA;QACA;QACA;MACA;IACA;EACA;AACA","names":["name","components","AcompanhamentosVue","Dashcard","data","acompanhamentoID","motivo","Devolucao","motivoState","visivel","filtro","filterOn","filtroEmpresas","porPagina","paginaAtiva","marketPlacesListSelected","statusListSelected","utilizouFiltro","filtrado","loading","somenteAtrasados","pedidosAtrasados","oc","status","dataInicial","dataFinal","marketPlacesList","statusList","pedidosList","fields","key","sortable","label","visible","tdClass","_showDetails","dragfieldstart","created","computed","nrowarnings","Qtde","filter","f","length","Valor","reduce","nrodark","nrosuccess","nrodangers","nroinfo","pedidosFields","pedidosTotaisCount","valor","valorFrete","pedidosListEmpresa","e","empresa","a","Empresa","NomeEmpresa","methods","rowClass","item","onRowSelected","emtransito","cancelados","entregue","buscar","ApiService","result","marketplaces","console","JSON","clearInicialDate","clearFinalDate","atrasados","atrasado","devolucao","detalhes","row","gerarRomaneios","then","catch","resetModal","handleOk","handleSubmit","OcId","Motivo","dragStart","dragEnter","dragOver","dragLeave","drop","changecolumns","move","calculaAtraso","Chave","Tabela","AcompanhamentoId","AcompanhamentoDescricao"],"sourceRoot":"src/pages/ecommerce/views","sources":["Pedidos.vue"],"sourcesContent":["<template>\r\n  <div id=\"divPrincipal\" class=\"text-center\">\r\n    <b-card class=\"m-2\">\r\n      <b-row>\r\n        <b-col>\r\n          <Dashcard\r\n            icon=\"truck\"\r\n            css=\"bg-dark-light card-body\"\r\n            textlink=\"Filtrar Pedidos em Trânsito\"\r\n            @evt_footerclick=\"emtransito\"\r\n            ><template>\r\n              <b-row>\r\n                <b-col cols=\"12\" sm=\"6\">\r\n                  <h2>{{ nrodark.Qtde }}</h2>\r\n                  <p>Em Trânsito</p>\r\n                  <div class=\"border-right\"></div>\r\n                </b-col>\r\n                <b-col cols=\"12\" sm=\"6\" class=\"teste\">\r\n                  <h6>{{ nrodark.Valor | R$ }}</h6>\r\n                  <p></p>\r\n                  <p>Valor</p>\r\n                </b-col>\r\n              </b-row>\r\n            </template></Dashcard\r\n          >\r\n        </b-col>\r\n        <b-col>\r\n          <Dashcard\r\n            icon=\"check2-all\"\r\n            css=\"bg-success-light card-body\"\r\n            textlink=\"Filtrar Pedidos Entregues\"\r\n            @evt_footerclick=\"entregue\"\r\n            ><template>\r\n              <b-row>\r\n                <b-col cols=\"12\" sm=\"6\">\r\n                  <h2>{{ nrosuccess.Qtde }}</h2>\r\n                  <p>Entregue</p>\r\n                  <div class=\"border-right\"></div>\r\n                </b-col>\r\n                <b-col cols=\"12\" sm=\"6\" class=\"teste\">\r\n                  <h6>{{ nrosuccess.Valor | R$ }}</h6>\r\n                  <p></p>\r\n                  <p>Valor</p>\r\n                </b-col>\r\n              </b-row>\r\n            </template></Dashcard\r\n          >\r\n        </b-col>\r\n        <b-col>\r\n          <Dashcard\r\n            icon=\"x\"\r\n            css=\"bg-danger-light\"\r\n            textlink=\"Filtrar Pedidos Cancelados\"\r\n            @evt_footerclick=\"cancelados\"\r\n            ><template>\r\n              <b-row>\r\n                <b-col cols=\"12\" sm=\"6\">\r\n                  <h2>{{ nrodangers.Qtde }}</h2>\r\n                  <p>Cancelados</p>\r\n                  <div class=\"border-right\"></div>\r\n                </b-col>\r\n                <b-col cols=\"12\" sm=\"6\" class=\"teste\">\r\n                  <h6>{{ nrodangers.Valor | R$ }}</h6>\r\n                  <p></p>\r\n                  <p>Valor</p>\r\n                </b-col>\r\n              </b-row>\r\n            </template></Dashcard\r\n          >\r\n        </b-col>\r\n        <b-col>\r\n          <Dashcard\r\n            icon=\"arrow-left-short\"\r\n            css=\"bg-info-light\"\r\n            textlink=\"Filtrar Devoluções\"\r\n            @evt_footerclick=\"devolucao\"\r\n            ><template>\r\n              <b-row>\r\n                <b-col cols=\"12\" sm=\"6\">\r\n                  <h2>{{ nroinfo.Qtde }}</h2>\r\n                  <p>Devoluções</p>\r\n                  <div class=\"border-right\"></div>\r\n                </b-col>\r\n                <b-col cols=\"12\" sm=\"6\" class=\"teste\">\r\n                  <h6>{{ nroinfo.Valor | R$ }}</h6>\r\n                  <p></p>\r\n                  <p>Valor</p>\r\n                </b-col>\r\n              </b-row>\r\n            </template></Dashcard\r\n          >\r\n        </b-col>\r\n        <b-col>\r\n          <Dashcard\r\n            icon=\"stopwatch\"\r\n            css=\"bg-warning-light\"\r\n            textlink=\"Filtrar Pedidos em Atraso\"\r\n            @evt_footerclick=\"atrasados\"\r\n            ><template>\r\n              <b-row>\r\n                <b-col cols=\"12\" sm=\"6\">\r\n                  <h2>{{ nrowarnings.Qtde }}</h2>\r\n                  <p>Em Atraso</p>\r\n                  <div class=\"border-right\"></div>\r\n                </b-col>\r\n                <b-col cols=\"12\" sm=\"6\" class=\"teste\">\r\n                  <h6>{{ nrowarnings.Valor | R$ }}</h6>\r\n                  <p></p>\r\n                  <p>Valor</p>\r\n                </b-col>\r\n              </b-row>\r\n            </template></Dashcard\r\n          >\r\n        </b-col>\r\n      </b-row>\r\n      <b-row id=\"row\" class=\"m-2\">\r\n        <div class=\"d-flex\">\r\n          <b-button\r\n            class=\"ml-1\"\r\n            :variant=\"somenteAtrasados ? 'danger' : ''\"\r\n            @click=\"atrasados\"\r\n          >\r\n            Somente em atraso\r\n          </b-button>\r\n          <div class=\"ml-2\">\r\n            <b-input-group prepend=\"Filtro\" size=\"sm\">\r\n              <b-form-input\r\n                id=\"input-filtro\"\r\n                type=\"search\"\r\n                v-model=\"filtro\"\r\n                :debounce=\"1000\"\r\n              ></b-form-input>\r\n            </b-input-group>\r\n          </div>\r\n        </div>\r\n        <div>\r\n          <b-row>\r\n            <b-col>\r\n              <b-input-group style=\"width: 250px\">\r\n                <b-form-datepicker\r\n                  size=\"sm\"\r\n                  v-model=\"dataInicial\"\r\n                  placeholder=\"Data Inicial\"\r\n                  locale=\"pt-br\"\r\n                  :date-format-options=\"{\r\n                    year: 'numeric',\r\n                    month: 'numeric',\r\n                    day: 'numeric',\r\n                  }\"\r\n                ></b-form-datepicker>\r\n                <b-input-group-append>\r\n                  <b-button variant=\"danger\" @click=\"clearInicialDate\">\r\n                    <b-icon-trash></b-icon-trash>\r\n                  </b-button>\r\n                </b-input-group-append>\r\n              </b-input-group>\r\n            </b-col>\r\n            <b-col>\r\n              <b-input-group style=\"width: 250px\">\r\n                <b-form-datepicker\r\n                  size=\"sm\"\r\n                  v-model=\"dataFinal\"\r\n                  placeholder=\"Data Final\"\r\n                  locale=\"pt-br\"\r\n                  :date-format-options=\"{\r\n                    year: 'numeric',\r\n                    month: 'numeric',\r\n                    day: 'numeric',\r\n                  }\"\r\n                ></b-form-datepicker>\r\n                <b-input-group-append>\r\n                  <b-button variant=\"danger\" @click=\"clearFinalDate\">\r\n                    <b-icon-trash></b-icon-trash>\r\n                  </b-button>\r\n                </b-input-group-append>\r\n              </b-input-group>\r\n            </b-col>\r\n            <b-dropdown class=\"mr-2\" right size=\"sm\" text=\"Marketplaces\">\r\n              <b-form-checkbox\r\n                style=\"width: 200px\"\r\n                class=\"mb-1 ml-1\"\r\n                v-for=\"market in marketPlacesList\"\r\n                :key=\"market.value\"\r\n                size=\"sm\"\r\n                :value=\"market.value\"\r\n                v-model=\"marketPlacesListSelected\"\r\n                name=\"check-button\"\r\n                switch\r\n                >{{ market.text }}</b-form-checkbox\r\n              >\r\n            </b-dropdown>\r\n            <b-dropdown class=\"mr-2\" right text=\"Status\" size=\"sm\">\r\n              <b-form-checkbox\r\n                style=\"width: 300px\"\r\n                class=\"mb-1 ml-1\"\r\n                v-for=\"status in statusList\"\r\n                :key=\"status.value\"\r\n                size=\"sm\"\r\n                :value=\"status.value\"\r\n                v-model=\"statusListSelected\"\r\n                name=\"check-button2\"\r\n                switch\r\n                >{{ status.text }}</b-form-checkbox\r\n              >\r\n            </b-dropdown>\r\n            <b-dropdown class=\"mr-2\" right size=\"sm\" text=\"Colunas Visiveis\">\r\n              <b-form-checkbox\r\n                style=\"width: 200px\"\r\n                class=\"mb-1 ml-1\"\r\n                v-for=\"market in fields\"\r\n                :key=\"market.key\"\r\n                size=\"sm\"\r\n                v-model=\"market.visible\"\r\n                name=\"check-button\"\r\n                switch\r\n              >\r\n                {{ market.label || market.key }}\r\n              </b-form-checkbox>\r\n            </b-dropdown>\r\n            <b-dropdown class=\"mr-2\" right size=\"sm\" text=\"Empresa\">\r\n              <b-form-checkbox\r\n                style=\"width: 300px\"\r\n                class=\"mb-1 ml-1\"\r\n                v-for=\"emp in empresa\"\r\n                :key=\"emp.Empresa\"\r\n                size=\"sm\"\r\n                v-model=\"filtroEmpresas\"\r\n                name=\"check-button\"\r\n                :value=\"emp.Empresa\"\r\n                switch\r\n                >{{ emp.NomeEmpresa }}</b-form-checkbox\r\n              >\r\n            </b-dropdown>\r\n            <b-dropdown class=\"mr-2\" right size=\"sm\" text=\"Ações\">\r\n              <b-button class=\"m-2\" @click=\"gerarRomaneios\"\r\n                >Gerar romaneios</b-button\r\n              >\r\n            </b-dropdown>\r\n          </b-row>\r\n        </div>\r\n        <div>\r\n          <b-button variant=\"danger\" class=\"mr-2\" @click=\"btnFiltros\">\r\n            <b-spinner small v-if=\"this.loading\"></b-spinner>\r\n            <span v-else>Filtrar</span>\r\n          </b-button>\r\n        </div>\r\n      </b-row>\r\n      <b-table\r\n        foot-clone\r\n        no-footer-sorting\r\n        id=\"my-table\"\r\n        :current-page=\"paginaAtiva\"\r\n        :per-page=\"porPagina\"\r\n        head-variant=\"dark\"\r\n        sort-by=\"DataCompra\"\r\n        sort-desc\r\n        selectable\r\n        striped\r\n        bordered\r\n        hovers\r\n        responsive\r\n        small\r\n        select-mode=\"simple\"\r\n        :filter=\"filtro\"\r\n        :filter-included-fields=\"filterOn\"\r\n        :items=\"pedidosListEmpresa\"\r\n        :fields=\"pedidosFields\"\r\n        :tbody-tr-class=\"rowClass\"\r\n        @row-selected=\"onRowSelected\"\r\n        @filtered=\"(filtro) => (pedidosListEmpresa = filtro)\"\r\n      >\r\n        <template #head()=\"data\">\r\n          <div\r\n            :id=\"data.field.key\"\r\n            draggable=\"true\"\r\n            @dragstart=\"dragStart\"\r\n            @dragenter=\"dragEnter\"\r\n            @dragover=\"dragOver\"\r\n            @dragleave=\"dragLeave\"\r\n            @drop=\"drop\"\r\n          >\r\n            {{ data.label }}\r\n          </div>\r\n        </template>\r\n        <template #cell(select)=\"row\">\r\n          <b-form-checkbox\r\n            v-model=\"selectedPedidos\"\r\n            :value=\"row.item.Numero\"\r\n          ></b-form-checkbox>\r\n        </template>\r\n        <template #cell(actions)=\"row\">\r\n          <a\r\n            target=\"_blank\"\r\n            id=\"linkTabela\"\r\n            v-if=\"row.item.UrlRastreio != null\"\r\n            :href=\"row.item.UrlRastreio\"\r\n          >\r\n            <b-icon-truck font-scale=\"1.5\"></b-icon-truck>\r\n          </a>\r\n          &nbsp; &nbsp;\r\n          <a\r\n            target=\"_blank\"\r\n            id=\"linkTabela\"\r\n            v-if=\"row.item.urlImpressao != null\"\r\n            :href=\"row.item.urlImpressao\"\r\n          >\r\n            <b-icon-printer font-scale=\"1.5\"></b-icon-printer>\r\n          </a>\r\n        </template>\r\n        <template #cell(Numero)=\"row\">\r\n          <span> {{ row.item.Numero }} </span>\r\n          <span @click=\"detalhes(row, 'oc')\">\r\n            {{ row.detailsShowing ? \"-\" : \"+\" }}\r\n          </span>\r\n        </template>\r\n        <template #cell(Status)=\"row\">\r\n          <span @click=\"detalhes(row, 'status')\">\r\n            {{ row.item.Rastreio[row.item.Rastreio.length - 1][\"Evento\"] }}\r\n            &nbsp; &nbsp; &nbsp;\r\n            {{ row.detailsShowing ? \"-\" : \"+\" }}\r\n          </span>\r\n        </template>\r\n        <template #cell(DataStatus)=\"row\">{{\r\n          row.item.Rastreio[row.item.Rastreio.length - 1][\"DataEvento\"]\r\n            | dateBRHora\r\n        }}</template>\r\n        <template #cell(Percentual)=\"row\">{{ row.item.Percentual }}%</template>\r\n        <template #cell(DataPrevisaoEntrega)=\"row\">{{\r\n          row.item.DataPrevisaoEntrega | dateBR\r\n        }}</template>\r\n        <template #cell(PedidoHubURL)=\"row\">\r\n          <a target=\"_blank\" :href=\"row.item.PedidoHubURL\" id=\"linkTabela\">{{\r\n            row.item.OrdemCompra\r\n          }}</a>\r\n        </template>\r\n        <template #cell(DataCompra)=\"row\">{{\r\n          new Date(row.item.DataCompra).toLocaleDateString()\r\n        }}</template>\r\n        <template #cell(ValorComFrete)=\"row\">{{\r\n          row.item.ValorComFrete | R$\r\n        }}</template>\r\n        <template #cell(ValorFrete)=\"row\">\r\n          <span>{{ row.item.ValorFrete | R$ }}</span>\r\n        </template>\r\n        <template #cell(ValorFreteDestacado)=\"row\">\r\n          <span style=\"color: red\">{{\r\n            row.item.ValorFreteDestacado | R$\r\n          }}</span>\r\n        </template>\r\n        <template #cell(Transportadora)=\"row\">{{\r\n          row.item.Transportadora.substr(0, 15)\r\n        }}</template>\r\n        <template #cell(Redespacho)=\"row\">{{\r\n          row.item.Redespacho != null ? row.item.Redespacho.substr(0, 15) : \"\"\r\n        }}</template>\r\n        <template #cell(DiasAtraso)=\"row\">\r\n          {{\r\n            calculaAtraso(\r\n              row.item.DataPrevisaoEntrega,\r\n              row.item.Eventos.filter(\r\n                (e) => e.Status == \"Entregue ao Destinatário\"\r\n              )\r\n                .map((e) => e.Data)\r\n                .toLocaleString()\r\n            )\r\n          }}\r\n        </template>\r\n        <template #cell(DataRealEntrega)=\"row\">\r\n          <span v-for=\"(item, index) in row.item.Eventos\" :key=\"index\">\r\n            <div v-if=\"item.Status == 'Entregue ao Destinatário'\">\r\n              {{ new Date(item.Data).toLocaleString() }}\r\n            </div>\r\n          </span>\r\n        </template>\r\n        <template #cell(Observacao)=\"row\">\r\n          <b-icon-pencil\r\n            scale=\"1.5\"\r\n            @click=\"getAcompanhamentoRelacionamentos(row.item)\"\r\n          ></b-icon-pencil>\r\n        </template>\r\n\r\n        <template #row-details=\"row\">\r\n          <b-card v-show=\"oc\">\r\n            <div>\r\n              <b-row>\r\n                <table border=\"1\">\r\n                  <tr>\r\n                    <th>Item</th>\r\n                    <th>Descrição</th>\r\n                    <th>Qtde_Faturada</th>\r\n                    <th>Qtde_Solicitada</th>\r\n                    <th>TotalComIPI</th>\r\n                    <th>TotalLiquido</th>\r\n                    <th>Valor_Unitario</th>\r\n                    <th>Valor_Unitario_Bruto</th>\r\n                  </tr>\r\n                  <tr v-for=\"item in row.item.Itens\" :key=\"item.StatusId\">\r\n                    <td>{{ item.Item }}</td>\r\n                    <td>{{ item.Descricao }}</td>\r\n                    <td>{{ item.Qtde_Faturada }}</td>\r\n                    <td>{{ item.Qtde_Solicitada }}</td>\r\n                    <td>R$ {{ item.TotalComIPI }}</td>\r\n                    <td>R$ {{ item.TotalLiquido }}</td>\r\n                    <td>R$ {{ item.Valor_Unitario }}</td>\r\n                    <td>R$ {{ item.Valor_Unitario_Bruto }}</td>\r\n                  </tr>\r\n                </table>\r\n                <b-button\r\n                  v-show=\"\r\n                    row.item.Status != 'Cancelado' &&\r\n                    row.item.Status != 'Finalizado'\r\n                  \"\r\n                  class=\"ml-2\"\r\n                  id=\"center\"\r\n                  variant=\"danger\"\r\n                  v-b-modal.modal-motivo-cancelamento\r\n                  >Cancelar OC</b-button\r\n                >\r\n                <b-modal\r\n                  id=\"modal-motivo-cancelamento\"\r\n                  ref=\"modal\"\r\n                  title=\"Descreva o motivo do cancelamento\"\r\n                  @hidden=\"resetModal\"\r\n                  @ok=\"handleOk(row)\"\r\n                >\r\n                  <form ref=\"form\" @submit.stop.prevent=\"handleSubmit\">\r\n                    <b-form-group\r\n                      label=\"Motivo\"\r\n                      label-for=\"name-input\"\r\n                      invalid-feedback=\"Motivo do cancelamento é obrigatório\"\r\n                      :state=\"motivoState\"\r\n                    >\r\n                      <b-form-input\r\n                        id=\"name-input\"\r\n                        v-model=\"motivo\"\r\n                        :state=\"motivoState\"\r\n                        required\r\n                      ></b-form-input>\r\n                    </b-form-group>\r\n                  </form>\r\n                </b-modal>\r\n              </b-row>\r\n            </div>\r\n          </b-card>\r\n          <b-card class=\"m-0\" v-show=\"status\">\r\n            <div>\r\n              <table border=\"1\">\r\n                <tr>\r\n                  <th>Status</th>\r\n                  <th>Data</th>\r\n                </tr>\r\n                <tr v-for=\"item in row.item.Rastreio\" :key=\"item.Id\">\r\n                  <td>{{ item.Evento }}</td>\r\n                  <td>{{ new Date(item.DataEvento).toLocaleString() }}</td>\r\n                </tr>\r\n              </table>\r\n              <br />\r\n            </div>\r\n          </b-card>\r\n        </template>\r\n        <!--\r\n          Footer personalizado para somar as colunas de valores\r\n        deixar o primeiro template em branco e preencher os outros com\r\n        as colunas que quero mostrar\r\n        -->\r\n        <template #foot()>\r\n          <div></div>\r\n        </template>\r\n        <template #foot(ValorComFrete)>\r\n          <div>{{ valor | R$ }}</div>\r\n        </template>\r\n        <template #foot(ValorFrete)>\r\n          <div>{{ valorFrete | R$ }}</div>\r\n        </template>\r\n      </b-table>\r\n      <b-row id=\"pagination\" class=\"m-2\">\r\n        <div>\r\n          <b-input style=\"width: 50px\" v-model=\"porPagina\"></b-input>\r\n        </div>\r\n        <b-pagination\r\n          id=\"pagination\"\r\n          :total-rows=\"pedidosTotaisCount\"\r\n          :per-page=\"porPagina\"\r\n          aria-controls=\"my-table\"\r\n          v-model=\"paginaAtiva\"\r\n        ></b-pagination>\r\n      </b-row>\r\n    </b-card>\r\n    <!-- Legenda -->\r\n    <!-- MODAL -->\r\n    <b-modal\r\n      size=\"lg\"\r\n      ref=\"AcompanhamentosModal\"\r\n      id=\"AcompanhamentosModal\"\r\n      centered\r\n      hide-footer\r\n      hide-header\r\n    >\r\n      <AcompanhamentosVue :headerId=\"this.acompanhamentoID\" />\r\n    </b-modal>\r\n    <!-- MODAL -->\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { mapActions, mapGetters } from \"vuex\";\r\nimport ApiService from \"../../../services/api.service\";\r\nimport AcompanhamentosVue from \"../../../components/Acompanhamentos.vue\";\r\nimport loading from \"../../../store/loading\";\r\nimport Dashcard from \"../../../components/Dashcard.vue\";\r\nimport { timeout } from \"q\";\r\nimport axios from \"axios\";\r\n\r\nexport default {\r\n  name: \"EcommercePedidos\",\r\n  components: {\r\n    AcompanhamentosVue,\r\n    Dashcard,\r\n  },\r\n  data() {\r\n    return {\r\n      acompanhamentoID: 0,\r\n\r\n      motivo: \"\",\r\n      Devolucao: false,\r\n      motivoState: null,\r\n      visivel: \"\",\r\n      filtro: \"\",\r\n      filterOn: [\r\n        \"Itens\",\r\n        \"EntregaEmAtraso\",\r\n        \"Fantasia\",\r\n        \"Numero\",\r\n        \"PedidoHubURL\",\r\n        \"OCKappes\",\r\n        \"Cidade\",\r\n        \"Cliente\",\r\n        \"CGC\",\r\n        \"Estado\",\r\n        \"MarketPlace\",\r\n        \"Numero_Nota\",\r\n        \"OrdemCompra\",\r\n        \"Transportadora\",\r\n        \"Romaneio\",\r\n        \"OcId\",\r\n        \"Redespacho\",\r\n      ],\r\n      filtroEmpresas: [\"8\", \"34\"],\r\n      porPagina: 20,\r\n      paginaAtiva: 1,\r\n      marketPlacesListSelected: [],\r\n      statusListSelected: [],\r\n      utilizouFiltro: \"\",\r\n      filtrado: [],\r\n      loading: false,\r\n      somenteAtrasados: \"\",\r\n      pedidosAtrasados: [],\r\n      oc: false,\r\n      status: false,\r\n      dataInicial: new Date(1609549200000),\r\n      dataFinal: \"\",\r\n      marketPlacesList: [],\r\n      statusList: [],\r\n      pedidosList: [],\r\n      fields: [\r\n        {\r\n          key: \"Empresa\",\r\n          sortable: true,\r\n          label: \"Empresa\",\r\n          visible: false,\r\n        },\r\n        {\r\n          key: \"OcId\",\r\n          sortable: true,\r\n          label: \"Id OC\",\r\n          visible: true,\r\n        },\r\n        {\r\n          key: \"OCKappes\",\r\n          sortable: true,\r\n          tdClass: \"text-nowrap\",\r\n          label: \"OC Kappes\",\r\n          visible: true,\r\n        },\r\n        {\r\n          key: \"Numero\",\r\n          sortable: true,\r\n          label: \"Pedido\",\r\n          visible: true,\r\n          _showDetails: false,\r\n        },\r\n        {\r\n          key: \"DataCompra\",\r\n          sortable: true,\r\n          tdClass: \"text-nowrap\",\r\n          label: \"Data\",\r\n          visible: true,\r\n        },\r\n        {\r\n          key: \"Percentual\",\r\n          sortable: false,\r\n          label: \"Perc Coleta\",\r\n          visible: true,\r\n        },\r\n        {\r\n          key: \"PedidoHubURL\",\r\n          sortable: true,\r\n          tdClass: \"text-nowrap\",\r\n          label: \"OC Parceiro\",\r\n          visible: true,\r\n        },\r\n        {\r\n          key: \"MarketPlace\",\r\n          sortable: true,\r\n          tdClass: \"text-nowrap\",\r\n          label: \"Marketplace\",\r\n          visible: true,\r\n        },\r\n        {\r\n          key: \"Transportadora\",\r\n          sortable: true,\r\n          tdClass: \"text-nowrap\",\r\n          visible: true,\r\n        },\r\n        {\r\n          key: \"Fantasia\",\r\n          sortable: true,\r\n          tdClass: \"text-nowrap\",\r\n          label: \"Cliente\",\r\n          visible: true,\r\n        },\r\n        {\r\n          key: \"CGC\",\r\n          sortable: true,\r\n          tdClass: \"text-nowrap\",\r\n          label: \"CPF/CNPJ\",\r\n          visible: true,\r\n        },\r\n        {\r\n          key: \"Telefone\",\r\n          sortable: true,\r\n          visible: true,\r\n          label: \"Fone\",\r\n        },\r\n        {\r\n          key: \"Cidade\",\r\n          sortable: true,\r\n          tdClass: \"text-nowrap\",\r\n          visible: true,\r\n        },\r\n        {\r\n          key: \"Estado\",\r\n          sortable: true,\r\n          label: \"UF\",\r\n          tdClass: \"text-nowrap\",\r\n          visible: true,\r\n        },\r\n        {\r\n          key: \"Status\",\r\n          sortable: true,\r\n          tdClass: \"text-nowrap\",\r\n          visible: true,\r\n          _showDetails: false,\r\n        },\r\n        {\r\n          key: \"DataStatus\",\r\n          sortable: true,\r\n          tdClass: \"text-nowrap\",\r\n          visible: true,\r\n        },\r\n        {\r\n          key: \"ValorComFrete\",\r\n          sortable: true,\r\n          tdClass: \"text-nowrap\",\r\n          label: \"Valor\",\r\n          visible: true,\r\n        },\r\n        {\r\n          key: \"ValorFrete\",\r\n          sortable: true,\r\n          tdClass: \"text-nowrap\",\r\n          visible: true,\r\n        },\r\n        {\r\n          key: \"ValorFreteDestacado\",\r\n          sortable: true,\r\n          tdClass: \"text-nowrap\",\r\n          visible: true,\r\n          label: \"Destacado\",\r\n        },\r\n        {\r\n          key: \"Romaneio\",\r\n          sortable: true,\r\n          tdClass: \"text-nowrap\",\r\n          visible: true,\r\n        },\r\n        {\r\n          key: \"Numero_Nota\",\r\n          sortable: true,\r\n          tdClass: \"text-nowrap\",\r\n          label: \"Nota\",\r\n          visible: true,\r\n        },\r\n        {\r\n          key: \"DataPrevisaoEntrega\",\r\n          sortable: true,\r\n          tdClass: \"text-nowrap\",\r\n          label: \"Previsao Entrega\",\r\n          visible: true,\r\n        },\r\n        {\r\n          key: \"Actions\",\r\n          sortable: false,\r\n          tdClass: \"text-nowrap\",\r\n          label: \"Ações\",\r\n          visible: true,\r\n        },\r\n        {\r\n          key: \"Redespacho\",\r\n          sortable: true,\r\n          tdClass: \"text-nowrap\",\r\n          label: \"Redespacho\",\r\n          visible: true,\r\n        },\r\n        {\r\n          key: \"DiasAtraso\",\r\n          sortable: true,\r\n          tdClass: \"text-nowrap\",\r\n          label: \"Dias Atraso\",\r\n          visible: true,\r\n        },\r\n        {\r\n          key: \"DataRealEntrega\",\r\n          sortable: true,\r\n          tdClass: \"text-nowrap\",\r\n          label: \"Data Entrega\",\r\n          visible: true,\r\n        },\r\n        {\r\n          key: \"Observacao\",\r\n          tdClass: \"text-nowrap\",\r\n          label: \"OBS\",\r\n          visible: true,\r\n        },\r\n        {\r\n          key: \"Rastreio\",\r\n          tdClass: \"text-nowrap\",\r\n          label: \"Rastreio\",\r\n          visible: false,\r\n        },\r\n      ],\r\n      dragfieldstart: \"\",\r\n    };\r\n  },\r\n  created() {\r\n    this.acthome(\"/ecommerce\");\r\n    this.buscarUltimaPesquisa().then(() => {\r\n      this.pedidosList = [];\r\n      this.buscar();\r\n    });\r\n  },\r\n  // async mounted() {\r\n  //   const pesquisa = await localStorage.getItem(\"ultimaPesquisa\");\r\n  //   this.fields.map(e => {\r\n  //     if (JSON.parse(pesquisa).fields.find(f => f.key == e.key)) {\r\n  //       e.visible = JSON.parse(pesquisa).fields.find(\r\n  //         f => f.key == e.key\r\n  //       ).visible;\r\n  //     } else {\r\n  //       e.visible = false;\r\n  //     }\r\n  //   });\r\n  // },\r\n  computed: {\r\n    nrowarnings() {\r\n      return {\r\n        Qtde: this.pedidosListEmpresa\r\n          .filter(\r\n            (f) =>\r\n              f.EntregaEmAtraso == true &&\r\n              [7, 6, 5, 4].includes(f.StatusId) &&\r\n              f.StatusId !== 10\r\n          )\r\n          .length.toString(),\r\n        Valor: this.pedidosListEmpresa\r\n          .filter(\r\n            (f) =>\r\n              f.EntregaEmAtraso == true &&\r\n              [7, 6, 5, 4].includes(f.StatusId) &&\r\n              f.StatusId !== 10\r\n          )\r\n          .reduce(\r\n            (acumulador, valorAtual) => acumulador + valorAtual.ValorComFrete,\r\n            0\r\n          ),\r\n      };\r\n    },\r\n    nrodark() {\r\n      return {\r\n        Qtde: this.pedidosListEmpresa\r\n          .filter(\r\n            (f) =>\r\n              f.StatusId == 7 ||\r\n              f.StatusId == 6 ||\r\n              f.StatusId == 5 ||\r\n              f.StatusId == 4\r\n          )\r\n          .length.toString(),\r\n        Valor:\r\n          this.pedidosListEmpresa\r\n            .filter(\r\n              (f) =>\r\n                f.StatusId == 7 ||\r\n                f.StatusId == 6 ||\r\n                f.StatusId == 5 ||\r\n                f.StatusId == 4\r\n            )\r\n            .reduce(\r\n              (acumulador, valorAtual) => acumulador + valorAtual.ValorComFrete,\r\n              0\r\n            ) || 0,\r\n      };\r\n    },\r\n    nrosuccess() {\r\n      return {\r\n        Qtde: this.pedidosListEmpresa\r\n          .filter((f) => f.StatusId == 9)\r\n          .length.toString(),\r\n        Valor: this.pedidosListEmpresa\r\n          .filter((f) => f.StatusId == 9)\r\n          .reduce(\r\n            (acumulador, valorAtual) => acumulador + valorAtual.ValorComFrete,\r\n            0\r\n          ),\r\n      };\r\n    },\r\n    nrodangers() {\r\n      return {\r\n        Qtde: this.pedidosListEmpresa\r\n          .filter((f) => f.StatusId == 10 && this.Devolucao == false)\r\n          .length.toString(),\r\n        Valor: this.pedidosListEmpresa\r\n          .filter((f) => f.StatusId == 10 && this.Devolucao == false)\r\n          .reduce(\r\n            (acumulador, valorAtual) => acumulador + valorAtual.ValorComFrete,\r\n            0\r\n          ),\r\n      };\r\n    },\r\n    nroinfo() {\r\n      return {\r\n        Qtde: this.pedidosListEmpresa\r\n          .filter((f) => f.Valor < 0)\r\n          .length.toString(),\r\n        Valor: this.pedidosListEmpresa\r\n          .filter((f) => f.Valor < 0)\r\n          .reduce(\r\n            (acumulador, valorAtual) => acumulador + valorAtual.ValorComFrete,\r\n            0\r\n          ),\r\n      };\r\n    },\r\n    pedidosFields() {\r\n      return this.fields.filter((f) => f.visible);\r\n    },\r\n    pedidosTotaisCount() {\r\n      return this.pedidosListEmpresa.length;\r\n    },\r\n    valor() {\r\n      var sum = this.pedidosListEmpresa.reduce(\r\n        (acumulador, valorAtual) => acumulador + valorAtual.ValorComFrete,\r\n        0\r\n      );\r\n      return Math.round(sum * 100) / 100;\r\n    },\r\n    valorFrete() {\r\n      var sum = this.pedidosListEmpresa.reduce(\r\n        (acumulador, valorAtual) => acumulador + valorAtual.ValorFrete,\r\n        0\r\n      );\r\n      return Math.round(sum * 100) / 100;\r\n    },\r\n    pedidosListEmpresa() {\r\n      return this.filtrado.filter((res) =>\r\n        this.filtroEmpresas.find(\r\n          (e) => e == res.Empresa && res.Devolucao == this.Devolucao\r\n        )\r\n      );\r\n    },\r\n    empresa() {\r\n      return this.pedidosList.reduce((a, b) => {\r\n        if (!a.find((f) => f.Empresa == b.Empresa)) {\r\n          a.push({ Empresa: b.Empresa, NomeEmpresa: b.Nome_Empresa });\r\n        }\r\n        return a;\r\n      }, []);\r\n    },\r\n  },\r\n  methods: {\r\n    ...mapActions([\"acthome\"]),\r\n    rowClass(item, type) {\r\n      if (!item || type !== \"row\") return;\r\n      if (this.somenteAtrasados) return \"table-warning\";\r\n      if (item.Valor < 0) return \"table-primary\";\r\n      if (item.StatusId === 10) return \"table-danger\";\r\n      if (\r\n        item.StatusId === 7 ||\r\n        item.StatusId === 6 ||\r\n        item.StatusId === 5 ||\r\n        item.StatusId === 4\r\n      )\r\n        return \"table-dark\";\r\n      if (item.StatusId === 8 || item.StatusId == 9) return \"table-success\";\r\n      if (item.EntregaEmAtraso == true) return \"table-warning\";\r\n    },\r\n    onRowSelected(items) {},\r\n    emtransito() {\r\n      this.statusListSelected = [7, 6, 5, 4];\r\n      this.btnFiltros();\r\n    },\r\n    cancelados() {\r\n      this.Devolucao = false;\r\n      this.statusListSelected = [10];\r\n      this.btnFiltros();\r\n    },\r\n    entregue() {\r\n      this.statusListSelected = [8, 9];\r\n      this.btnFiltros();\r\n    },\r\n    buscar() {\r\n      ApiService.get(\"v2/IntranetEcommerceB2C/Marketplaces/Combo\").then(\r\n        (result) => {\r\n          this.marketPlacesList = result.data.Data;\r\n        }\r\n      );\r\n      ApiService.get(\"v2/IntranetEcommerceB2C/Pedidos/Status\").then(\r\n        (result) => {\r\n          this.statusList = result.data.Data;\r\n        }\r\n      );\r\n    },\r\n    async btnFiltros() {\r\n      if (this.dataFinal == null || this.dataFinal == \"\") {\r\n        this.dataFinal = new Date();\r\n      }\r\n      const diffMeses = Math.abs(\r\n        new Date(this.dataFinal).getMonth() -\r\n          new Date(this.dataInicial).getMonth() +\r\n          12 *\r\n            (new Date(this.dataFinal).getFullYear() -\r\n              new Date(this.dataInicial).getFullYear())\r\n      );\r\n      //Verificando se a diferença é maior que 3 meses\r\n      if (diffMeses > 3) {\r\n        this.$root.toastdanger(\r\n          \"A diferença entre as datas é maior que 3 meses. Favor Alterar data Inicial ou Final.\"\r\n        );\r\n      } else {\r\n        await this.salvarPesquisas();\r\n        this.loading = true;\r\n        ApiService.post(\"v2/IntranetEcommerceB2C/Pedidos/Get\", {\r\n          status: this.statusListSelected,\r\n          marketplaces: this.marketPlacesListSelected,\r\n          dataInicial: this.dataInicial,\r\n          dataFinal: this.dataFinal,\r\n        }).then((result) => {\r\n          console.log(\"result\", result.data);\r\n          if (result.data.Success) {\r\n            this.pedidosList = result.data.Data;\r\n            this.filtrado = result.data.Data;\r\n            this.utilizouFiltro = new Date();\r\n          }\r\n          this.loading = false;\r\n          this.empresas;\r\n        });\r\n      }\r\n    },\r\n    async salvarPesquisas() {\r\n      const ultimaPesquisa = {\r\n        marketplaces: this.marketPlacesListSelected,\r\n        status: this.statusListSelected,\r\n        dataInicial: this.dataInicial,\r\n        dataFinal: this.dataFinal,\r\n        porPagina: this.porPagina,\r\n        fields: this.fields,\r\n        filtroEmpresas: this.filtroEmpresas,\r\n      };\r\n      await localStorage.setItem(\r\n        \"ultimaPesquisa\",\r\n        JSON.stringify(ultimaPesquisa)\r\n      );\r\n    },\r\n    async buscarUltimaPesquisa() {\r\n      const pesquisa = await localStorage.getItem(\"ultimaPesquisa\");\r\n      if (pesquisa) {\r\n        this.statusListSelected = JSON.parse(pesquisa).status\r\n          ? JSON.parse(pesquisa).status\r\n          : this.status;\r\n        this.marketPlacesListSelected = JSON.parse(pesquisa).marketplaces\r\n          ? JSON.parse(pesquisa).marketplaces\r\n          : this.marketplaces;\r\n        this.dataInicial = JSON.parse(pesquisa).dataInicial\r\n          ? JSON.parse(pesquisa).dataInicial\r\n          : this.dataInicial;\r\n        this.dataFinal = JSON.parse(pesquisa).dataFinal\r\n          ? JSON.parse(pesquisa).dataFinal\r\n          : this.dataFinal;\r\n        this.porPagina = JSON.parse(pesquisa).porPagina\r\n          ? JSON.parse(pesquisa).porPagina\r\n          : this.porPagina;\r\n        // adicionar as fields para as colunas\r\n        this.fields = JSON.parse(pesquisa).fields\r\n          ? JSON.parse(pesquisa).fields\r\n          : this.fields;\r\n        this.filtroEmpresas = JSON.parse(pesquisa).filtroEmpresas\r\n          ? JSON.parse(pesquisa).filtroEmpresas\r\n          : this.filtroEmpresas;\r\n        this.btnFiltros();\r\n      }\r\n    },\r\n    clearInicialDate() {\r\n      this.dataInicial = \"\";\r\n    },\r\n    clearFinalDate() {\r\n      this.dataFinal = \"\";\r\n    },\r\n    atrasados() {\r\n      this.pedidosAtrasados = [];\r\n      if (this.filtro == \"\") {\r\n        this.filtro = \"true\";\r\n        this.somenteAtrasados = true;\r\n        this.pedidosAtrasados = this.pedidosList.filter(\r\n          (atrasado) => atrasado.EntregaEmAtraso === true\r\n        );\r\n      } else {\r\n        this.filtro = \"\";\r\n        this.somenteAtrasados = false;\r\n      }\r\n    },\r\n    devolucao() {\r\n      this.Devolucao = !this.Devolucao;\r\n      this.pedidosAtrasados = this.pedidosListEmpresa.filter(\r\n        (devolucao) => devolucao.Devolucao === this.Devolucao\r\n      );\r\n    },\r\n    detalhes(row, text) {\r\n      if (\r\n        row.item._showDetails == undefined ||\r\n        row.item._showDetails == false\r\n      ) {\r\n        if (text == \"status\") {\r\n          this.status = true;\r\n        } else if (text == \"oc\") {\r\n          this.oc = true;\r\n        }\r\n        row.item._showDetails = true;\r\n      } else {\r\n        row.item._showDetails = false;\r\n        this.status = false;\r\n        this.oc = false;\r\n      }\r\n    },\r\n    gerarRomaneios() {\r\n      ApiService.get(\r\n        \"v2/IntranetEcommerceB2C/Pedidos/GeraRomaneioFatura\",\r\n        {},\r\n        true,\r\n        45000\r\n      )\r\n        .then((res) => {\r\n          this.$root.toastsuccess(res);\r\n          this.btnFiltros();\r\n        })\r\n        .catch((e) => {\r\n          this.$root.toastdanger(\"Erro ao gerar romaneios! \" + e);\r\n        });\r\n    },\r\n    resetModal() {\r\n      this.motivo = \"\";\r\n      this.motivoState = null;\r\n    },\r\n    handleOk(row) {\r\n      this.handleSubmit(row);\r\n    },\r\n    handleSubmit(row) {\r\n      if (this.motivo == \"\") {\r\n        return;\r\n      }\r\n      // Hide the modal manually\r\n      this.$nextTick(() => {\r\n        // envia via api o processo de cancelamento\r\n        console.log(\"OcId: \" + row.item.OcId + \" || Motivo: \" + this.motivo);\r\n        var data = {\r\n          OcId: row.item.OcId,\r\n          Motivo: this.motivo,\r\n        };\r\n        ApiService.post(\"v2/IntranetEcommerceB2C/OrdemCompra/Cancelar\", data)\r\n          .then((data) => {\r\n            console.log(data);\r\n            this.$root.toastsuccess(\"OC cancelado com sucesso!\");\r\n          })\r\n          .catch((e) => {\r\n            this.$root.toastdanger(\"Erro ao cancelar a OC!\");\r\n          });\r\n        this.$bvModal.hide(\"modal-motivo-cancelamento\");\r\n      });\r\n    },\r\n    /* DRAG COLUMNS */\r\n    dragStart(e) {\r\n      console.log(\"dragStart in :\", e.target.id);\r\n      this.dragfieldstart = e.target.id;\r\n    },\r\n    dragEnter(e) {\r\n      e.preventDefault();\r\n      e.target.classList.add(\"drag-over\");\r\n    },\r\n    dragOver(e) {\r\n      e.preventDefault();\r\n      e.target.classList.add(\"drag-over\");\r\n    },\r\n    dragLeave(e) {\r\n      e.target.classList.remove(\"drag-over\");\r\n    },\r\n    drop(e) {\r\n      console.log(\"drop in :\", e.target.id);\r\n      e.target.classList.remove(\"drag-over\");\r\n      // move o from para o to\r\n      this.changecolumns(this.dragfieldstart, e.target.id);\r\n    },\r\n    changecolumns(ColumnA, ColumnB) {\r\n      const start = this.fields.findIndex((f) => (f.key || f) == ColumnA);\r\n      let from = start;\r\n      let to = this.fields.findIndex((f) => (f.key || f) == ColumnB);\r\n      // move a colunaA para o indice da coluna B\r\n      this.move(from, to);\r\n      // move a colunaA para o indice da coluna B\r\n      //from = this.fields.findIndex((f) => (f.key || f) == ColumnB);\r\n      //to = start;\r\n      //this.move(from, to);\r\n    },\r\n    move(from, to) {\r\n      this.fields.splice(to, 0, this.fields.splice(from, 1)[0]);\r\n    },\r\n    calculaAtraso(data1, data2) {\r\n      //  console.error(\"data1\", data1);\r\n      //  console.error(\"data2\", data2);\r\n      var previsao = new Date(data1);\r\n      var hoje = new Date();\r\n      var entrega = new Date(data2);\r\n      if (data1 == null) {\r\n        return \"\";\r\n      } else {\r\n        if (data2 != \"\") {\r\n          var diffEntrega = Math.abs(entrega - previsao);\r\n          var diasDiff = diffEntrega / (1000 * 3600 * 24);\r\n          if (previsao > entrega) {\r\n            return \"-\" + Math.round(diasDiff);\r\n          } else {\r\n            return Math.round(diasDiff);\r\n          }\r\n        } else {\r\n          var diff = Math.abs(hoje - previsao);\r\n          var days = diff / (1000 * 3600 * 24);\r\n          if (previsao >= hoje) {\r\n            return \"-\" + Math.round(days);\r\n          } else {\r\n            return Math.round(days);\r\n          }\r\n        }\r\n      }\r\n    },\r\n    async getAcompanhamentoRelacionamentos(item) {\r\n      var res = await ApiService.post(\r\n        \"v2/Acompanhamentos/Relacionamentos/Get\",\r\n        {\r\n          Chave: item.Id,\r\n          Tabela: \"Pedidos\",\r\n        }\r\n      );\r\n      if (res.data.Success /* true */) {\r\n        this.acompanhamentoID = res.data.Data[0].AcompanhamentoId;\r\n        this.$refs[\"AcompanhamentosModal\"].show();\r\n      } else {\r\n        /* false */\r\n        var res1 = await ApiService.post(\r\n          \"v2/Acompanhamentos/Relacionamentos/Save\",\r\n          {\r\n            Chave: item.Id,\r\n            Tabela: \"Pedidos\",\r\n            AcompanhamentoId: null,\r\n            AcompanhamentoDescricao: \"Acompanhamentos Pedido \" + item.Numero,\r\n          }\r\n        );\r\n        this.acompanhamentoID = res1.data.Data[0].AcompanhamentoId;\r\n        this.$refs[\"AcompanhamentosModal\"].show();\r\n      }\r\n    },\r\n  },\r\n};\r\n</script>\r\n\r\n<style>\r\n#divPrincipal {\r\n  font-size: 12px;\r\n}\r\n\r\n#center {\r\n  display: block;\r\n}\r\n\r\n#row {\r\n  justify-content: space-between;\r\n  margin: 1px, 1px, 1px, 1px;\r\n}\r\n\r\n#linkTabela {\r\n  color: blue;\r\n}\r\n\r\n#botoes {\r\n  width: min-content;\r\n  white-space: nowrap;\r\n  margin: 2px;\r\n}\r\n\r\n#inputDate {\r\n  width: 350px;\r\n}\r\n\r\n#pagination {\r\n  display: flex;\r\n  justify-content: flex-end;\r\n}\r\n\r\n.drag-over {\r\n  background-color: silver;\r\n  border-right: 5px solid lightgreen;\r\n  border-left: 5px solid lightgreen;\r\n}\r\n.table-dark th,\r\n.table-dark td,\r\n.table-dark thead th {\r\n  background-color: lightgray;\r\n  color: black;\r\n}\r\n.card-body {\r\n  min-height: 107px;\r\n}\r\n.border-right {\r\n  border-right: 2px solid black !important;\r\n  height: 100%;\r\n  position: absolute;\r\n  top: 0;\r\n  right: 0;\r\n}\r\nh2 {\r\n  font-weight: bold;\r\n}\r\nh6 {\r\n  font-weight: bold;\r\n  font-size: 16px;\r\n}\r\n.teste {\r\n  margin: auto;\r\n  margin-top: 10px;\r\n  white-space: nowrap;\r\n}\r\n.table-selected-row {\r\n  background-color: green;\r\n}\r\n@media screen and (max-width: 600px) {\r\n  .border-right {\r\n    display: none;\r\n  }\r\n}\r\n</style>\r\n"]}]}