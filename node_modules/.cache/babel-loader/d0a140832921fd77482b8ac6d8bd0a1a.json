{"remainingRequest":"C:\\k1-services\\node_modules\\babel-loader\\lib\\index.js!C:\\k1-services\\node_modules\\cache-loader\\dist\\cjs.js??ref--1-0!C:\\k1-services\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\k1-services\\src\\pages\\om\\views\\Qr_codes_imob.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\k1-services\\src\\pages\\om\\views\\Qr_codes_imob.vue","mtime":1670977910653},{"path":"C:\\k1-services\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1670977934221},{"path":"C:\\k1-services\\node_modules\\babel-loader\\lib\\index.js","mtime":1670977935138},{"path":"C:\\k1-services\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1670977934221},{"path":"C:\\k1-services\\node_modules\\vue-loader\\lib\\index.js","mtime":1670977935327}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KZXhwb3J0IGRlZmF1bHQgewogIG5hbWU6ICJRUkNvZGVzIiwKCiAgZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIGZvcm1wcmludDogewogICAgICAgIGNvZGlnb3M6ICIiLAogICAgICAgIGVtcHJlc2E6ICIiLAogICAgICAgIG1hcmdlbTogMAogICAgICB9LAogICAgICBlbXByZXNhOiAiIiwKICAgICAgY29kaWdvczogIiIsCiAgICAgIGNvZGlnb3MyOiBbXSwKICAgICAgbWVzc2FnZV90b2FzdDogIiIsCiAgICAgIGNhblByaW50OiBmYWxzZQogICAgfTsKICB9LAoKICBtZXRob2RzOiB7CiAgICBnZXRRckNvZGUoKSB7CiAgICAgIC8vIHZvbHRhIGEgc29saWNpdGFyIGEgY29uZmlybWHDp8OjbyBkYSBpbXByZXNzw6NvLi4uCiAgICAgIHRoaXMuY2FuUHJpbnQgPSBmYWxzZTsgLy8ganVudGEgYXMgdGFncyBkZSBjw7NkaWdvcyBpbmZvcm1hZGFzIC4uLgoKICAgICAgdGhpcy5mb3JtcHJpbnQuY29kaWdvcyA9IHRoaXMuY29kaWdvczIuam9pbigiOyIpOwogICAgICB0aGlzLmZvcm1wcmludC5lbXByZXNhID0gdGhpcy5lbXByZXNhOwogICAgICB0aGlzLiRidk1vZGFsLnNob3coIm1vZGFsLWltcHJpbWlyIik7CiAgICB9LAoKICAgIHJlbmRlclFyY29kZShpLCBlKSB7CiAgICAgIHZhciBvYmplY3QgPSBgeydJbW9iaWxpemFkbyc6ICcke2l9JywgJ2VtcHJlc2EnOiAnJHtlfSd9YDsKICAgICAgcmV0dXJuIGBodHRwOi8vY2hhcnQuYXBpcy5nb29nbGUuY29tL2NoYXJ0P2NodD1xciZjaHM9MjAweDIwMCZjaGw9JHtvYmplY3R9JmNob2U9VVRGLTgmY2hsZD11bmRlZmluZWRgOwogICAgfSwKCiAgICBpbXByaW1pcih0YWdpZCkgewogICAgICBjb25zdCBlbCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKHRhZ2lkKS5pbm5lckhUTUw7CiAgICAgIHRoaXMucHJpbnRFbGVtZW50Q29udGVudChlbCk7CiAgICB9LAoKICAgIHByaW50RWxlbWVudENvbnRlbnQoZWwpIHsKICAgICAgdmFyIHByaW50V2luZG93ID0gd2luZG93Lm9wZW4oIiIsICJJbXByZXNzw6NvIGRlIFFSQ29kZXMiLCAicmVzaXphYmxlLHNjcm9sbGJhcnMsc3RhdHVzIik7CiAgICAgIHByaW50V2luZG93LmRvY3VtZW50LndyaXRlKCI8aHRtbD48aGVhZD48dGl0bGU+IiArIGRvY3VtZW50LnRpdGxlICsgIjwvdGl0bGU+Iik7CiAgICAgIHByaW50V2luZG93LmRvY3VtZW50LndyaXRlKCc8bGluayB0eXBlPSJ0ZXh0L2NzcyIgcmVsPSJzdHlsZXNoZWV0IiBocmVmPSIvL3VucGtnLmNvbS9ib290c3RyYXAvZGlzdC9jc3MvYm9vdHN0cmFwLm1pbi5jc3MiLz4nKTsKICAgICAgcHJpbnRXaW5kb3cuZG9jdW1lbnQud3JpdGUoIjwvaGVhZD48Ym9keT4iKTsKICAgICAgcHJpbnRXaW5kb3cuZG9jdW1lbnQud3JpdGUoZWwpOwogICAgICBwcmludFdpbmRvdy5kb2N1bWVudC53cml0ZSgiPC9ib2R5PjwvaHRtbD4iKTsgLy9wcmludFdpbmRvdy5kb2N1bWVudC5jbG9zZSgpOyAvLyBuZWNlc3NhcnkgZm9yIElFID49IDEwCgogICAgICBwcmludFdpbmRvdy5mb2N1cygpOyAvLyBuZWNlc3NhcnkgZm9yIElFID49IDEwKi8KCiAgICAgIHNldFRpbWVvdXQoKCkgPT4gewogICAgICAgIHByaW50V2luZG93LnByaW50KCk7CiAgICAgICAgcHJpbnRXaW5kb3cuY2xvc2UoKTsKICAgICAgICB0aGlzLiRidk1vZGFsLmhpZGUoIm1vZGFsLWltcHJpbWlyIik7CiAgICAgIH0sIDIwMDApOwogICAgICByZXR1cm4gdHJ1ZTsKICAgIH0gLy8gcHJpbnRFbGVtZW50Q29udGVudChlbCkKCgogIH0gLy8gbWV0aG9kcwoKfTs="},{"version":3,"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAqGA;EACAA,eADA;;EAGAC;IACA;MACAC;QACAC,WADA;QAEAC,WAFA;QAGAC;MAHA,CADA;MAMAD,WANA;MAOAD,WAPA;MAQAG,YARA;MASAC,iBATA;MAUAC;IAVA;EAYA,CAhBA;;EAkBAC;IACAC;MACA;MACA,sBAFA,CAIA;;MACA;MACA;MAEA;IACA,CAVA;;IAYAC;MACA;MACA;IACA,CAfA;;IAiBAC;MACA;MACA;IACA,CApBA;;IAsBAC;MACA,8BACA,EADA,EAEA,sBAFA,EAGA,6BAHA;MAMAC,2BACA,mDADA;MAIAA,2BACA,kGADA;MAIAA;MACAA;MACAA,6CAjBA,CAmBA;;MACAA,oBApBA,CAoBA;;MAEAC;QACAD;QACAA;QACA;MACA,CAJA,EAIA,IAJA;MAMA;IACA,CAnDA,CAmDA;;;EAnDA,CAlBA,CAsEA;;AAtEA","names":["name","data","formprint","codigos","empresa","margem","codigos2","message_toast","canPrint","methods","getQrCode","renderQrcode","imprimir","printElementContent","printWindow","setTimeout"],"sourceRoot":"src/pages/om/views","sources":["Qr_codes_imob.vue"],"sourcesContent":["<template>\r\n  <div id=\"appprint\" class=\"m-2\">\r\n    <b-toast id=\"success-toast\" title=\"Sucesso\" variant=\"success\" solid>{{\r\n      message_toast\r\n    }}</b-toast>\r\n\r\n    <b-toast\r\n      id=\"danger-toast\"\r\n      title=\"Ops, falha na execução\"\r\n      variant=\"danger\"\r\n      solid\r\n      >{{ message_toast }}</b-toast\r\n    >\r\n\r\n    <b-card>\r\n      <template #header>\r\n        <h3 class=\"mb-0\">Impressão de QR Codes</h3>\r\n      </template>\r\n      <b-row>\r\n        <b-col>\r\n          <b-form-group\r\n            id=\"input-group-empresa\"\r\n            label-for=\"input-empresa\"\r\n            label=\"Empresa\"\r\n          >\r\n            <b-form-input\r\n              input-id=\"input-codigos\"\r\n              v-model=\"empresa\"\r\n              placeholder=\"Informe a empresa do Imobilizado. Ex: 8, 15\"\r\n            ></b-form-input>\r\n          </b-form-group>\r\n        </b-col>\r\n      </b-row>\r\n      <b-row>\r\n        <b-col>\r\n          <b-form-group\r\n            id=\"input-group-codigos\"\r\n            label-for=\"input-codigos\"\r\n            label=\"Códigos dos Imobilizados\"\r\n          >\r\n            <b-form-tags\r\n              input-id=\"input-codigos\"\r\n              v-model=\"codigos2\"\r\n              separator=\";\"\r\n              remove-on-delete\r\n              placeholder=\"Informe os Códigos do Imobilizado.\"\r\n            ></b-form-tags>\r\n          </b-form-group>\r\n        </b-col>\r\n      </b-row>\r\n\r\n      <b-row>\r\n        <b-col style=\"text-align: right\">\r\n          <b-form-group>\r\n            <b-button type=\"button\" variant=\"success\" @click=\"getQrCode\">\r\n              <b-icon icon=\"search\" class=\"mr-2\"></b-icon>Gerar\r\n            </b-button>\r\n          </b-form-group>\r\n        </b-col>\r\n      </b-row>\r\n\r\n      <b-modal\r\n        id=\"modal-imprimir\"\r\n        title=\"Impressão QRCodes\"\r\n        size=\"xl\"\r\n        scrollable\r\n      >\r\n        <div id=\"printarea\">\r\n          <b-container fluid style=\"display: flex;flex-flow: wrap;\">\r\n            <div\r\n              v-for=\"(imob, i) of codigos2\"\r\n              :key=\"i\"\r\n              style=\"margin: 5px;width: 200px; text-align: center;\"\r\n            >\r\n              <img :src=\"renderQrcode(imob, empresa)\" />\r\n              <h5>{{ imob }}</h5>\r\n            </div>\r\n          </b-container>\r\n        </div>\r\n        <b-alert variant=\"warning\" show>\r\n          <b-form-checkbox id=\"canPrint\" v-model=\"canPrint\" name=\"canPrint\">\r\n            Confirme se todos os QRCodes foram carregados antes de imprimir.\r\n          </b-form-checkbox>\r\n        </b-alert>\r\n        <template #modal-footer=\"{ ok, cancel }\">\r\n          <b-button\r\n            type=\"button\"\r\n            variant=\"primary\"\r\n            @click=\"imprimir('printarea')\"\r\n            :disabled=\"!canPrint\"\r\n            >Imprimir</b-button\r\n          >\r\n          <b-button type=\"button\" variant=\"secondary\" @click=\"cancel\"\r\n            >Cancelar</b-button\r\n          >\r\n        </template>\r\n      </b-modal>\r\n    </b-card>\r\n  </div>\r\n</template>\r\n<script>\r\nexport default {\r\n  name: \"QRCodes\",\r\n\r\n  data() {\r\n    return {\r\n      formprint: {\r\n        codigos: \"\",\r\n        empresa: \"\",\r\n        margem: 0,\r\n      },\r\n      empresa: \"\",\r\n      codigos: \"\",\r\n      codigos2: [],\r\n      message_toast: \"\",\r\n      canPrint: false,\r\n    };\r\n  },\r\n\r\n  methods: {\r\n    getQrCode() {\r\n      // volta a solicitar a confirmação da impressão...\r\n      this.canPrint = false;\r\n\r\n      // junta as tags de códigos informadas ...\r\n      this.formprint.codigos = this.codigos2.join(\";\");\r\n      this.formprint.empresa = this.empresa;\r\n\r\n      this.$bvModal.show(\"modal-imprimir\");\r\n    },\r\n\r\n    renderQrcode(i, e) {\r\n      var object = `{'Imobilizado': '${i}', 'empresa': '${e}'}`;\r\n      return `http://chart.apis.google.com/chart?cht=qr&chs=200x200&chl=${object}&choe=UTF-8&chld=undefined`;\r\n    },\r\n\r\n    imprimir(tagid) {\r\n      const el = document.getElementById(tagid).innerHTML;\r\n      this.printElementContent(el);\r\n    },\r\n\r\n    printElementContent(el) {\r\n      var printWindow = window.open(\r\n        \"\",\r\n        \"Impressão de QRCodes\",\r\n        \"resizable,scrollbars,status\"\r\n      );\r\n\r\n      printWindow.document.write(\r\n        \"<html><head><title>\" + document.title + \"</title>\"\r\n      );\r\n\r\n      printWindow.document.write(\r\n        '<link type=\"text/css\" rel=\"stylesheet\" href=\"//unpkg.com/bootstrap/dist/css/bootstrap.min.css\"/>'\r\n      );\r\n\r\n      printWindow.document.write(\"</head><body>\");\r\n      printWindow.document.write(el);\r\n      printWindow.document.write(\"</body></html>\");\r\n\r\n      //printWindow.document.close(); // necessary for IE >= 10\r\n      printWindow.focus(); // necessary for IE >= 10*/\r\n\r\n      setTimeout(() => {\r\n        printWindow.print();\r\n        printWindow.close();\r\n        this.$bvModal.hide(\"modal-imprimir\");\r\n      }, 2000);\r\n\r\n      return true;\r\n    }, // printElementContent(el)\r\n  }, // methods\r\n};\r\n</script>\r\n"]}]}