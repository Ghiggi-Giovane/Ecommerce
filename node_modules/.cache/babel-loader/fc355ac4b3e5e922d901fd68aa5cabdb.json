{"remainingRequest":"C:\\k1-services\\node_modules\\babel-loader\\lib\\index.js!C:\\k1-services\\node_modules\\cache-loader\\dist\\cjs.js??ref--1-0!C:\\k1-services\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\k1-services\\src\\pages\\ecommerce\\views\\Docas.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\k1-services\\src\\pages\\ecommerce\\views\\Docas.vue","mtime":1670977910622},{"path":"C:\\k1-services\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1670977934221},{"path":"C:\\k1-services\\node_modules\\babel-loader\\lib\\index.js","mtime":1670977935138},{"path":"C:\\k1-services\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1670977934221},{"path":"C:\\k1-services\\node_modules\\vue-loader\\lib\\index.js","mtime":1670977935327}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KaW1wb3J0IEFwaVNlcnZpY2UgZnJvbSAiLi4vLi4vLi4vc2VydmljZXMvYXBpLnNlcnZpY2UiOwpleHBvcnQgZGVmYXVsdCB7CiAgbmFtZTogIkRvY2FzIiwKICBjb21wb25lbnRzOiB7fSwKCiAgZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIHRyYW5zcG9ydGFkb3JhczogW10sCiAgICAgIGRvY2FzOiBbXSwKICAgICAgZGVwb3NpdG9zOiBbXSwKICAgICAgZGVwb3NpdG9zSXRlbnM6IFtdLAogICAgICBzZWxlY3RlZERlcG9zaXRvOiBudWxsLAogICAgICBzZWxlY3RlZERvY2E6IG51bGwsCiAgICAgIGFsdGVyYUVzdG9xdWU6IGZhbHNlLAogICAgICBmaWx0cm9JdGVuczogIiIsCiAgICAgIGZpbHRlck9uOiBbIkl0ZW0iXSwKICAgICAgcmVmZXJlbmNpYTogW10sCiAgICAgIGRvY2FzRmllbGRzOiBbewogICAgICAgIGtleTogIkRlc2NyaWNhbyIsCiAgICAgICAgc29ydGFibGU6IHRydWUsCiAgICAgICAgbGFiZWw6ICJEZXNjcmnDp8OjbyIsCiAgICAgICAgdmlzaWJsZTogdHJ1ZQogICAgICB9LCB7CiAgICAgICAga2V5OiAiUHJhem9EaWFzIiwKICAgICAgICBzb3J0YWJsZTogdHJ1ZSwKICAgICAgICBsYWJlbDogIlByYXpvIGVtIGRpYXMiLAogICAgICAgIHZpc2libGU6IHRydWUKICAgICAgfSwgewogICAgICAgIGtleTogIlBhckVtcERlcG9zaXRvSWQiLAogICAgICAgIHNvcnRhYmxlOiB0cnVlLAogICAgICAgIGxhYmVsOiAiSUQgZGVwb3NpdG8gSW50ZXJubyIsCiAgICAgICAgdmlzaWJsZTogdHJ1ZQogICAgICB9LCB7CiAgICAgICAga2V5OiAiVHJhbnNwb3J0YWRvcmFzIiwKICAgICAgICBzb3J0YWJsZTogdHJ1ZSwKICAgICAgICBsYWJlbDogIlRyYW5zcG9ydGFkb3JhcyAvIFJlZGVzcGFjaG8iLAogICAgICAgIHZpc2libGU6IHRydWUKICAgICAgfV0sCiAgICAgIGRlcG9zaXRvc0ZpZWxkczogW3sKICAgICAgICBrZXk6ICJEZXNjcmljYW8iLAogICAgICAgIHNvcnRhYmxlOiB0cnVlLAogICAgICAgIGxhYmVsOiAiRGVzY3Jpw6fDo28iLAogICAgICAgIHZpc2libGU6IHRydWUKICAgICAgfSwgewogICAgICAgIGtleTogIlBhckVtcERlcG9zaXRvSWQiLAogICAgICAgIHNvcnRhYmxlOiB0cnVlLAogICAgICAgIGxhYmVsOiAiSUQgZGVwb3NpdG8gSW50ZXJubyIsCiAgICAgICAgdmlzaWJsZTogdHJ1ZQogICAgICB9LCB7CiAgICAgICAga2V5OiAiUHJhem9EaWFzIiwKICAgICAgICBzb3J0YWJsZTogdHJ1ZSwKICAgICAgICBsYWJlbDogIlByYXpvIGVtIGRpYXMiLAogICAgICAgIHZpc2libGU6IHRydWUKICAgICAgfV0sCiAgICAgIGl0ZW5zRmllbGRzOiBbewogICAgICAgIGtleTogIkl0ZW0iLAogICAgICAgIHNvcnRhYmxlOiB0cnVlLAogICAgICAgIHZpc2libGU6IHRydWUKICAgICAgfSwgewogICAgICAgIGtleTogIkVzdG9xdWUiLAogICAgICAgIHNvcnRhYmxlOiB0cnVlLAogICAgICAgIHZpc2libGU6IHRydWUKICAgICAgfV0KICAgIH07CiAgfSwKCiAgY3JlYXRlZCgpIHsKICAgIHRoaXMubG9hZERvY2FzKCk7CiAgfSwKCiAgbWV0aG9kczogewogICAgc2VsZWNpb25hZG8oSWQpIHsKICAgICAgdGhpcy5zZWxlY3RlZE9wdGlvbiA9IElkOwoKICAgICAgaWYgKElkID09IDIpIHsKICAgICAgICB0aGlzLml0ZW5zTG9hZCgpOwogICAgICB9CiAgICB9LAoKICAgIGFzeW5jIHNhdmVJdGVucyhpdGVtKSB7CiAgICAgIGF3YWl0IEFwaVNlcnZpY2UucG9zdCgidjIvSW50cmFuZXRFY29tbWVyY2VCMkMvRGVwb3NpdG9zSXRlbnMvU2F2ZSIsIHsKICAgICAgICBpdGVtCiAgICAgIH0pLnRoZW4ocmVzID0+IHsKICAgICAgICB0aGlzLiRyb290LnRvYXN0c3VjY2VzcygiU2Fsdm8gY29tIFN1Y2Vzc28hIik7CiAgICAgIH0pLmNhdGNoKGUgPT4gewogICAgICAgIHRoaXMuJHJvb3QudG9hc3RkYW5nZXIoIkVycm8hICIgKyBlKTsKICAgICAgfSk7CiAgICAgIHRoaXMuZGVwb3NpdG9zSXRlbnNMb2FkKHRoaXMuc2VsZWN0ZWREZXBvc2l0by5JZCk7CiAgICB9LAoKICAgIGFzeW5jIGxvYWREb2NhcygpIHsKICAgICAgYXdhaXQgQXBpU2VydmljZS5nZXQoInYyL0ludHJhbmV0RWNvbW1lcmNlQjJDL0RvY2FzL0dldCIpLnRoZW4ocmVzdWx0ID0+IHsKICAgICAgICBpZiAocmVzdWx0LmRhdGEuU3VjY2VzcyA9PSB0cnVlKSB7CiAgICAgICAgICB0aGlzLmRvY2FzID0gcmVzdWx0LmRhdGEuRGF0YTsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgcmV0dXJuOwogICAgICAgIH0KICAgICAgfSk7CiAgICB9LAoKICAgIG9uUm93U2VsZWN0ZWREb2NhcyhpdGVtcykgewogICAgICAvLyBjb25zb2xlLmxvZyhpdGVtc1swXS5JZCk7CiAgICAgIHRoaXMuc2VsZWN0ZWREb2NhID0gaXRlbXNbMF0uSWQ7CiAgICAgIHRoaXMuZGVwb3NpdG9zID0gW107CiAgICAgIHRoaXMuZGVwb3NpdG9zSXRlbnMgPSBbXTsKICAgICAgdGhpcy5zZWxlY3RlZERlcG9zaXRvID0gbnVsbDsKICAgICAgdGhpcy5kZXBvc2l0b3NMb2FkKGl0ZW1zWzBdLklkKTsKICAgIH0sCgogICAgb25Sb3dTZWxlY3RlZERlcG9zaXRvcyhpdGVtcykgewogICAgICAvLyBjb25zb2xlLmxvZyhpdGVtc1swXS5JZCk7CiAgICAgIHRoaXMuZGVwb3NpdG9zSXRlbnMgPSBbXTsgLy90aGlzLnNlbGVjdGVkRGVwb3NpdG8uUGFyRW1wRGVwb3NpdG9JZCA9IGl0ZW1zWzBdLlBhckVtcERlcG9zaXRvSWQgIT0gbnVsbDsKCiAgICAgIHRoaXMuc2VsZWN0ZWREZXBvc2l0byA9IGl0ZW1zWzBdOwogICAgICB0aGlzLmRlcG9zaXRvc0l0ZW5zTG9hZCh0aGlzLnNlbGVjdGVkRGVwb3NpdG8uSWQpOwogICAgfSwKCiAgICBhc3luYyBkZXBvc2l0b3NMb2FkKElkKSB7CiAgICAgIGF3YWl0IEFwaVNlcnZpY2UucG9zdCgidjIvSW50cmFuZXRFY29tbWVyY2VCMkMvRGVwb3NpdG9zL0dldCIsIHsKICAgICAgICBpZDogSWQKICAgICAgfSkudGhlbihyZXN1bHQgPT4gewogICAgICAgIGlmIChyZXN1bHQuZGF0YS5TdWNjZXNzID09IHRydWUpIHsKICAgICAgICAgIHRoaXMuZGVwb3NpdG9zID0gcmVzdWx0LmRhdGEuRGF0YTsKICAgICAgICB9CiAgICAgIH0pOwogICAgfSwKCiAgICBkZXBvc2l0b3NJdGVuc0xvYWQoSWQpIHsKICAgICAgQXBpU2VydmljZS5wb3N0KCJ2Mi9JbnRyYW5ldEVjb21tZXJjZUIyQy9EZXBvc2l0b3NJdGVucy9HZXQiLCB7CiAgICAgICAgaWQ6IElkCiAgICAgIH0pLnRoZW4ocmVzdWx0ID0+IHsKICAgICAgICBpZiAocmVzdWx0LmRhdGEuU3VjY2VzcyA9PSB0cnVlKSB7CiAgICAgICAgICB0aGlzLmRlcG9zaXRvc0l0ZW5zID0gcmVzdWx0LmRhdGEuRGF0YTsKICAgICAgICB9CiAgICAgIH0pOwogICAgfSwKCiAgICAvKiBNb2RhaXMgKi8KICAgIHNob3dNb2RhbEl0ZW5zKCkgewogICAgICB0aGlzLiRyb290LiRlbWl0KCJidjo6c2hvdzo6bW9kYWwiLCAibW9kYWwtaXRlbnMiLCAiI2J0blNob3ciKTsKICAgIH0sCgogICAgcmVzZXRNb2RhbCgpIHsKICAgICAgdGhpcy5yZWZlcmVuY2lhID0gW107CiAgICB9LAoKICAgIGhhbmRsZU9rKGJ2TW9kYWxFdmVudCkgewogICAgICAvLyBQcmV2ZW50IG1vZGFsIGZyb20gY2xvc2luZwogICAgICBidk1vZGFsRXZlbnQucHJldmVudERlZmF1bHQoKTsgLy8gVHJpZ2dlciBzdWJtaXQgaGFuZGxlcgoKICAgICAgdGhpcy5oYW5kbGVTdWJtaXQoKTsKICAgIH0sCgogICAgYXN5bmMgaGFuZGxlU3VibWl0KCkgewogICAgICB2YXIgaXRlbSA9IFtdOyAvLyBFeGl0IHdoZW4gdGhlIGZvcm0gaXNuJ3QgdmFsaWQKCiAgICAgIGlmICh0aGlzLnJlZmVyZW5jaWEubGVuZ3RoID4gMCkgewogICAgICAgIHRoaXMucmVmZXJlbmNpYS5mb3JFYWNoKHJlZiA9PiB7CiAgICAgICAgICBpdGVtLnB1c2goewogICAgICAgICAgICBEZXBvc2l0b0lkOiB0aGlzLnNlbGVjdGVkRGVwb3NpdG8uSWQsCiAgICAgICAgICAgIEl0ZW06IHJlZiwKICAgICAgICAgICAgRXN0b3F1ZTogMAogICAgICAgICAgfSk7CiAgICAgICAgfSk7CiAgICAgICAgdGhpcy5zYXZlSXRlbnMoaXRlbSk7CiAgICAgIH0KCiAgICAgIHRoaXMuJG5leHRUaWNrKCgpID0+IHsKICAgICAgICB0aGlzLiRidk1vZGFsLmhpZGUoIm1vZGFsLWl0ZW5zIik7CiAgICAgIH0pOwogICAgfSwKCiAgICBzaG93TW9kYWxUcmFuc3BvcnRhZG9yYXMoaXRlbnMpIHsKICAgICAgY29uc29sZS5sb2coaXRlbnMpOwogICAgICB0aGlzLnRyYW5zcG9ydGFkb3JhcyA9IFtdOwogICAgICB0aGlzLnRyYW5zcG9ydGFkb3JhcyA9IGl0ZW5zLlRyYW5zcG9ydGFkb3JhczsKICAgICAgdGhpcy4kcm9vdC4kZW1pdCgiYnY6OnNob3c6Om1vZGFsIiwgIlRyYW5zcG9ydGFkb3JhcyIsICIjYnRuU2hvdyIsIGl0ZW5zLklkKTsKICAgIH0sCgogICAgaGFuZGxlT2tUcigpIHsKICAgICAgaWYgKHRoaXMudHJhbnNwb3J0YWRvcmFzID09IG51bGwpIHsKICAgICAgICByZXR1cm47CiAgICAgIH0gZWxzZSBpZiAodGhpcy50cmFuc3BvcnRhZG9yYXNbdGhpcy50cmFuc3BvcnRhZG9yYXMubGVuZ3RoIC0gMV0uVHJhbnNwUGVkaWRvLmxlbmd0aCA9PSAwIHx8IHRoaXMudHJhbnNwb3J0YWRvcmFzW3RoaXMudHJhbnNwb3J0YWRvcmFzLmxlbmd0aCAtIDFdLlRyYW5zcG9ydGFkb3JhLmxlbmd0aCA9PSAwKSB7CiAgICAgICAgcmV0dXJuOwogICAgICB9IGVsc2UgewogICAgICAgIHRoaXMuaGFuZGxlU3VibWl0VHIoKTsKICAgICAgfQogICAgfSwKCiAgICBhc3luYyBoYW5kbGVTdWJtaXRUcigpIHsKICAgICAgY29uc29sZS5sb2codGhpcy50cmFuc3BvcnRhZG9yYXMpOyAvLyBlbnZpYSBwYXJhIHNhbHZhcgoKICAgICAgQXBpU2VydmljZS5wb3N0KCJ2Mi9JbnRyYW5ldEVjb21tZXJjZUIyQy9Eb2Nhc1RyYW5zcFJlZGVzcGFjaG8vU2F2ZSIsIHsKICAgICAgICBSZWRlc3BhY2hvczogdGhpcy50cmFuc3BvcnRhZG9yYXMsCiAgICAgICAgRG9jYUlkOiB0aGlzLnNlbGVjdGVkRG9jYQogICAgICB9KS50aGVuKHJlcyA9PiB7CiAgICAgICAgdGhpcy5kb2Nhcy5maW5kKGlkID0+IGlkLklkID09IHRoaXMuc2VsZWN0ZWREb2NhKS5UcmFuc3BvcnRhZG9yYXMgPSByZXMuZGF0YS5EYXRhOwogICAgICB9KTsKICAgICAgdGhpcy4kbmV4dFRpY2soKCkgPT4gewogICAgICAgIHRoaXMuJGJ2TW9kYWwuaGlkZSgiVHJhbnNwb3J0YWRvcmFzIik7CiAgICAgIH0pOwogICAgfSwKCiAgICBuZXdJbnB1dCgpIHsKICAgICAgaWYgKHRoaXMudHJhbnNwb3J0YWRvcmFzID09IG51bGwpIHRoaXMudHJhbnNwb3J0YWRvcmFzID0gW107CiAgICAgIHRoaXMudHJhbnNwb3J0YWRvcmFzLnB1c2goewogICAgICAgIElkOiAiIiwKICAgICAgICBEb2NhSWQ6IHRoaXMuc2VsZWN0ZWREb2NhLAogICAgICAgIFRyYW5zcG9ydGFkb3JhOiAiIiwKICAgICAgICBUcmFuc3BQZWRpZG86ICIiLAogICAgICAgIFRyYW5zcFJlZGVzcGFjaG86ICIiCiAgICAgIH0pOwogICAgfQoKICB9Cn07"},{"version":3,"mappings":"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","names":["name","components","data","transportadoras","docas","depositos","depositosItens","selectedDeposito","selectedDoca","alteraEstoque","filtroItens","filterOn","referencia","docasFields","key","sortable","label","visible","depositosFields","itensFields","created","methods","selecionado","item","then","res","catch","e","result","onRowSelectedDocas","onRowSelectedDepositos","id","depositosItensLoad","ApiService","showModalItens","resetModal","handleOk","bvModalEvent","DepositoId","Item","Estoque","showModalTransportadoras","console","itens","handleOkTr","length","Redespachos","DocaId","Transportadoras","newInput","Id","Transportadora","TranspPedido","TranspRedespacho"],"sourceRoot":"src/pages/ecommerce/views","sources":["Docas.vue"],"sourcesContent":["<template>\r\n  <div>\r\n    <section id=\"docasDepositos\">\r\n      <b-card class=\"ml-4 mr-4 mt-4\">\r\n        <div class=\"doc\">\r\n          <h3>Docas</h3>\r\n          <!-- <div>\r\n            <h4 class=\"iconbutton\" @click=\"showModalDocas\">\r\n              <b-icon-plus-square></b-icon-plus-square>\r\n            </h4>\r\n          </div>-->\r\n        </div>\r\n\r\n        <b-table\r\n          no-footer-sorting\r\n          id=\"table-docas\"\r\n          head-variant=\"dark\"\r\n          sort-desc\r\n          selectable\r\n          striped\r\n          bordered\r\n          hovers\r\n          responsive=\"sm\"\r\n          small\r\n          select-mode=\"single\"\r\n          :items=\"docas\"\r\n          :fields=\"docasFields\"\r\n          @row-selected=\"onRowSelectedDocas\"\r\n        >\r\n          <template #cell(Transportadoras)=\"row\">\r\n            <div class=\"text-center\">\r\n              <b-icon-pencil\r\n                scale=\"1.5\"\r\n                @click=\"showModalTransportadoras(row.item)\"\r\n              ></b-icon-pencil>\r\n            </div>\r\n          </template>\r\n        </b-table>\r\n      </b-card>\r\n\r\n      <hr />\r\n\r\n      <b-card class=\"ml-4 mr-4 mt-4\" v-if=\"depositos.length > 0\">\r\n        <div class=\"doc\">\r\n          <h3>Depósitos</h3>\r\n        </div>\r\n        <b-table\r\n          no-footer-sorting\r\n          id=\"table-depositos\"\r\n          head-variant=\"dark\"\r\n          sort-desc\r\n          selectable\r\n          striped\r\n          bordered\r\n          hovers\r\n          responsive\r\n          small\r\n          select-mode=\"single\"\r\n          :items=\"depositos\"\r\n          :fields=\"depositosFields\"\r\n          @row-selected=\"onRowSelectedDepositos\"\r\n        ></b-table>\r\n      </b-card>\r\n      <hr />\r\n      <b-card class=\"ml-4 mr-4 mt-4\" v-if=\"selectedDeposito != null\">\r\n        <div class=\"doc\">\r\n          <h3>Itens por depósito</h3>\r\n\r\n          <div>\r\n            <b-row style=\"align-items: baseline\">\r\n              <span class=\"mr-4\">\r\n                Qtde de itens no depósito:\r\n                <strong>{{ depositosItens.length }}</strong>\r\n              </span>\r\n              <b-form-input\r\n                style=\"width: 200px\"\r\n                v-model=\"filtroItens\"\r\n                placeholder=\"Item\"\r\n              ></b-form-input>\r\n              <h4 class=\"iconbutton mr-2\" @click=\"saveItens(depositosItens)\">\r\n                <b-icon-check2-square variant=\"success\"></b-icon-check2-square>\r\n              </h4>\r\n\r\n              <h4 class=\"iconbutton mr-2\" @click=\"showModalItens\">\r\n                <b-icon-plus-square variant=\"success\"></b-icon-plus-square>\r\n              </h4>\r\n            </b-row>\r\n          </div>\r\n        </div>\r\n        <b-table\r\n          no-footer-sorting\r\n          id=\"table-depositos-itens\"\r\n          head-variant=\"dark\"\r\n          sort-desc\r\n          selectable\r\n          striped\r\n          bordered\r\n          hovers\r\n          responsive\r\n          small\r\n          select-mode=\"single\"\r\n          :items=\"depositosItens\"\r\n          :fields=\"itensFields\"\r\n          :filter=\"filtroItens\"\r\n          :filter-included-fields=\"filterOn\"\r\n        >\r\n          <template #cell(Estoque)=\"row\">\r\n            <div>\r\n              <b-form-input\r\n                id=\"descricao-input\"\r\n                v-model=\"row.item.Estoque\"\r\n                required\r\n                :disabled=\"\r\n                  selectedDeposito == null ||\r\n                    selectedDeposito.ParEmpDepositoId != null\r\n                \"\r\n              ></b-form-input>\r\n            </div>\r\n          </template>\r\n          <template #cell(UltimaAtualizacao)=\"row\">{{\r\n            new Date(row.item.UltimaAtualizacao).toLocaleDateString()\r\n          }}</template>\r\n\r\n          <template #cell(actions)=\"row\" class=\"text-center\">\r\n            <a class=\"text-center\">\r\n              <b-icon-pencil\r\n                font-scale=\"1.5\"\r\n                @click=\"saveNewStoque(row.item)\"\r\n              ></b-icon-pencil>\r\n            </a>\r\n          </template>\r\n        </b-table>\r\n      </b-card>\r\n    </section>\r\n\r\n    <!--  MODAIS -->\r\n    <b-modal\r\n      centered\r\n      id=\"modal-itens\"\r\n      ref=\"modal\"\r\n      title=\"Adicionar nova Referência\"\r\n      @show=\"resetModal\"\r\n      @hidden=\"resetModal\"\r\n      @ok=\"handleOk\"\r\n    >\r\n      <form ref=\"form\" @submit.stop.prevent=\"handleSubmit\">\r\n        <b-form-tags\r\n          input-id=\"tags-pills\"\r\n          v-model=\"referencia\"\r\n          tag-variant=\"primary\"\r\n          tag-pills\r\n          size=\"sm\"\r\n          separator=\",  \"\r\n          placeholder=\"Separe as referências com espaço ou vírgula.\"\r\n          required\r\n        ></b-form-tags>\r\n      </form>\r\n    </b-modal>\r\n\r\n    <b-modal\r\n      centered\r\n      id=\"Transportadoras\"\r\n      ref=\"modal2\"\r\n      title=\"Cadastro de Transportadoras / Redespacho\"\r\n      size=\"xl\"\r\n      @ok=\"handleOkTr\"\r\n    >\r\n      <b-row>\r\n        <b-col><span>Transportadora</span></b-col>\r\n        <b-col><span>Transportadora do Pedido</span></b-col>\r\n        <b-col><span>Transportadora de Redespacho</span></b-col>\r\n      </b-row>\r\n      <b-row\r\n        v-for=\"(input, index) in this.transportadoras\"\r\n        :key=\"index\"\r\n        class=\"mb-1\"\r\n      >\r\n        <b-col>\r\n          <b-form-input\r\n            placeholder=\"Transportadora\"\r\n            id=\"Transportadora\"\r\n            v-model=\"input.Transportadora\"\r\n            required\r\n          ></b-form-input>\r\n        </b-col>\r\n        <b-col>\r\n          <b-form-input\r\n            placeholder=\"Transportadora Pedido\"\r\n            id=\"TranspPedido\"\r\n            v-model=\"input.TranspPedido\"\r\n            required\r\n          ></b-form-input>\r\n        </b-col>\r\n        <b-col>\r\n          <b-form-input\r\n            placeholder=\"Transportadora Redespacho\"\r\n            id=\"TranspRedespacho\"\r\n            v-model=\"input.TranspRedespacho\"\r\n            required\r\n          ></b-form-input>\r\n        </b-col>\r\n      </b-row>\r\n\r\n      <div class=\"text-center\">\r\n        <b-button @click=\"newInput\">Novo</b-button>\r\n      </div>\r\n    </b-modal>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport ApiService from \"../../../services/api.service\";\r\n\r\nexport default {\r\n  name: \"Docas\",\r\n  components: {},\r\n  data() {\r\n    return {\r\n      transportadoras: [],\r\n\r\n      docas: [],\r\n      depositos: [],\r\n      depositosItens: [],\r\n      selectedDeposito: null,\r\n      selectedDoca: null,\r\n      alteraEstoque: false,\r\n      filtroItens: \"\",\r\n      filterOn: [\"Item\"],\r\n\r\n      referencia: [],\r\n\r\n      docasFields: [\r\n        { key: \"Descricao\", sortable: true, label: \"Descrição\", visible: true },\r\n        {\r\n          key: \"PrazoDias\",\r\n          sortable: true,\r\n          label: \"Prazo em dias\",\r\n          visible: true,\r\n        },\r\n        {\r\n          key: \"ParEmpDepositoId\",\r\n          sortable: true,\r\n          label: \"ID deposito Interno\",\r\n          visible: true,\r\n        },\r\n        {\r\n          key: \"Transportadoras\",\r\n          sortable: true,\r\n          label: \"Transportadoras / Redespacho\",\r\n          visible: true,\r\n        },\r\n      ],\r\n      depositosFields: [\r\n        { key: \"Descricao\", sortable: true, label: \"Descrição\", visible: true },\r\n        {\r\n          key: \"ParEmpDepositoId\",\r\n          sortable: true,\r\n          label: \"ID deposito Interno\",\r\n          visible: true,\r\n        },\r\n        {\r\n          key: \"PrazoDias\",\r\n          sortable: true,\r\n          label: \"Prazo em dias\",\r\n          visible: true,\r\n        },\r\n      ],\r\n      itensFields: [\r\n        { key: \"Item\", sortable: true, visible: true },\r\n        {\r\n          key: \"Estoque\",\r\n          sortable: true,\r\n          visible: true,\r\n        },\r\n      ],\r\n    };\r\n  },\r\n\r\n  created() {\r\n    this.loadDocas();\r\n  },\r\n\r\n  methods: {\r\n    selecionado(Id) {\r\n      this.selectedOption = Id;\r\n\r\n      if (Id == 2) {\r\n        this.itensLoad();\r\n      }\r\n    },\r\n\r\n    async saveItens(item) {\r\n      await ApiService.post(\"v2/IntranetEcommerceB2C/DepositosItens/Save\", {\r\n        item,\r\n      })\r\n        .then((res) => {\r\n          this.$root.toastsuccess(\"Salvo com Sucesso!\");\r\n        })\r\n        .catch((e) => {\r\n          this.$root.toastdanger(\"Erro! \" + e);\r\n        });\r\n\r\n      this.depositosItensLoad(this.selectedDeposito.Id);\r\n    },\r\n\r\n    async loadDocas() {\r\n      await ApiService.get(\"v2/IntranetEcommerceB2C/Docas/Get\").then(\r\n        (result) => {\r\n          if (result.data.Success == true) {\r\n            this.docas = result.data.Data;\r\n          } else {\r\n            return;\r\n          }\r\n        }\r\n      );\r\n    },\r\n\r\n    onRowSelectedDocas(items) {\r\n      // console.log(items[0].Id);\r\n      this.selectedDoca = items[0].Id;\r\n\r\n      this.depositos = [];\r\n      this.depositosItens = [];\r\n      this.selectedDeposito = null;\r\n\r\n      this.depositosLoad(items[0].Id);\r\n    },\r\n    onRowSelectedDepositos(items) {\r\n      // console.log(items[0].Id);\r\n      this.depositosItens = [];\r\n      //this.selectedDeposito.ParEmpDepositoId = items[0].ParEmpDepositoId != null;\r\n      this.selectedDeposito = items[0];\r\n      this.depositosItensLoad(this.selectedDeposito.Id);\r\n    },\r\n\r\n    async depositosLoad(Id) {\r\n      await ApiService.post(\"v2/IntranetEcommerceB2C/Depositos/Get\", {\r\n        id: Id,\r\n      }).then((result) => {\r\n        if (result.data.Success == true) {\r\n          this.depositos = result.data.Data;\r\n        }\r\n      });\r\n    },\r\n\r\n    depositosItensLoad(Id) {\r\n      ApiService.post(\"v2/IntranetEcommerceB2C/DepositosItens/Get\", {\r\n        id: Id,\r\n      }).then((result) => {\r\n        if (result.data.Success == true) {\r\n          this.depositosItens = result.data.Data;\r\n        }\r\n      });\r\n    },\r\n\r\n    /* Modais */\r\n    showModalItens() {\r\n      this.$root.$emit(\"bv::show::modal\", \"modal-itens\", \"#btnShow\");\r\n    },\r\n    resetModal() {\r\n      this.referencia = [];\r\n    },\r\n    handleOk(bvModalEvent) {\r\n      // Prevent modal from closing\r\n      bvModalEvent.preventDefault();\r\n      // Trigger submit handler\r\n      this.handleSubmit();\r\n    },\r\n    async handleSubmit() {\r\n      var item = [];\r\n      // Exit when the form isn't valid\r\n      if (this.referencia.length > 0) {\r\n        this.referencia.forEach((ref) => {\r\n          item.push({\r\n            DepositoId: this.selectedDeposito.Id,\r\n            Item: ref,\r\n            Estoque: 0,\r\n          });\r\n        });\r\n        this.saveItens(item);\r\n      }\r\n\r\n      this.$nextTick(() => {\r\n        this.$bvModal.hide(\"modal-itens\");\r\n      });\r\n    },\r\n    showModalTransportadoras(itens) {\r\n      console.log(itens);\r\n      this.transportadoras = [];\r\n      this.transportadoras = itens.Transportadoras;\r\n\r\n      this.$root.$emit(\r\n        \"bv::show::modal\",\r\n        \"Transportadoras\",\r\n        \"#btnShow\",\r\n        itens.Id\r\n      );\r\n    },\r\n\r\n    handleOkTr() {\r\n      if (this.transportadoras == null) {\r\n        return;\r\n      } else if (\r\n        this.transportadoras[this.transportadoras.length - 1].TranspPedido\r\n          .length == 0 ||\r\n        this.transportadoras[this.transportadoras.length - 1].Transportadora\r\n          .length == 0\r\n      ) {\r\n        return;\r\n      } else {\r\n        this.handleSubmitTr();\r\n      }\r\n    },\r\n\r\n    async handleSubmitTr() {\r\n      console.log(this.transportadoras);\r\n\r\n      // envia para salvar\r\n      ApiService.post(\"v2/IntranetEcommerceB2C/DocasTranspRedespacho/Save\", {\r\n        Redespachos: this.transportadoras,\r\n        DocaId: this.selectedDoca,\r\n      }).then((res) => {\r\n        this.docas.find(\r\n          (id) => id.Id == this.selectedDoca\r\n        ).Transportadoras = res.data.Data;\r\n      });\r\n\r\n      this.$nextTick(() => {\r\n        this.$bvModal.hide(\"Transportadoras\");\r\n      });\r\n    },\r\n\r\n    newInput() {\r\n      if (this.transportadoras == null) this.transportadoras = [];\r\n      this.transportadoras.push({\r\n        Id: \"\",\r\n        DocaId: this.selectedDoca,\r\n        Transportadora: \"\",\r\n        TranspPedido: \"\",\r\n        TranspRedespacho: \"\",\r\n      });\r\n    },\r\n  },\r\n};\r\n</script>\r\n\r\n<style scoped>\r\n.doc {\r\n  display: flex;\r\n  align-items: center;\r\n  flex-wrap: nowrap;\r\n  justify-content: space-between;\r\n}\r\n\r\n.gallerypanel {\r\n  min-width: 250px;\r\n  min-height: 220px;\r\n  margin-left: 0 !important;\r\n}\r\n.lock {\r\n  position: relative;\r\n  top: -28px;\r\n  float: right;\r\n}\r\n.hand {\r\n  cursor: pointer;\r\n}\r\n.counter {\r\n  /* background-color: darkred; */\r\n  -webkit-transition: -webkit-transform 0.5s ease-in-out;\r\n  -ms-transition: -ms-transform 0.5s ease-in-out;\r\n  transition: background-color 0.5s ease-in-out;\r\n  /* color: whitesmoke; */\r\n  padding: 20px 0;\r\n  border-radius: 5px;\r\n  opacity: 0.85;\r\n  /* border: 2px solid firebrick; */\r\n}\r\n</style>\r\n"]}]}