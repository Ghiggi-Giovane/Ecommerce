{"remainingRequest":"C:\\k1-services\\node_modules\\babel-loader\\lib\\index.js!C:\\k1-services\\node_modules\\cache-loader\\dist\\cjs.js??ref--1-0!C:\\k1-services\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\k1-services\\src\\pages\\gestores\\views\\Dashboard.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\k1-services\\src\\pages\\gestores\\views\\Dashboard.vue","mtime":1670977910629},{"path":"C:\\k1-services\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1670977934221},{"path":"C:\\k1-services\\node_modules\\babel-loader\\lib\\index.js","mtime":1670977935138},{"path":"C:\\k1-services\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1670977934221},{"path":"C:\\k1-services\\node_modules\\vue-loader\\lib\\index.js","mtime":1670977935327}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkucmVkdWNlLmpzIjsKLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KaW1wb3J0IHsgbWFwR2V0dGVycywgbWFwQWN0aW9ucyB9IGZyb20gInZ1ZXgiOwppbXBvcnQgRGFzaGNhcmQgZnJvbSAiLi4vLi4vLi4vY29tcG9uZW50cy9EYXNoY2FyZCI7CmltcG9ydCBTaW11bGFkb3JMaW1pdGUgZnJvbSAiLi4vY29tcG9uZW50cy9TaW11bGFkb3JMaW1pdGUiOwpleHBvcnQgZGVmYXVsdCB7CiAgbmFtZTogIkdlc3RvckRhc2hib2FyZCIsCiAgY29tcG9uZW50czogewogICAgRGFzaGNhcmQsCiAgICBTaW11bGFkb3JMaW1pdGUKICB9LAoKICBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgYW5vOiAyMDIyLAogICAgICBjb2RpZ29fZ2VzdG9yOiA2MywKICAgICAgaWRtYXJjYTogNSwKICAgICAgaWRyZWdpYW86IDEsCiAgICAgIGluYWRpbXBsZW5jaWE6IDAuMjE2MSwKICAgICAgdGJwZWRpZG9zZmllbGRzOiBbewogICAgICAgIGtleTogInBlZGlkbyIsCiAgICAgICAgc29ydGFibGU6IHRydWUKICAgICAgfSwgewogICAgICAgIGtleTogInRwIiwKICAgICAgICBzb3J0YWJsZTogdHJ1ZQogICAgICB9LCB7CiAgICAgICAga2V5OiAiY2xpZW50ZSIsCiAgICAgICAgc29ydGFibGU6IHRydWUKICAgICAgfSwgewogICAgICAgIGtleTogInZhbG9ydG90YWxwZWRpZG8iLAogICAgICAgIGxhYmVsOiAiVmFsb3IgVG90YWwiLAogICAgICAgIHNvcnRhYmxlOiB0cnVlCiAgICAgIH0sIHsKICAgICAgICBrZXk6ICJsaW1pdGVmaW5hbmNlaXJvIiwKICAgICAgICBsYWJlbDogIkZpbmFuY2Vpcm8iLAogICAgICAgIHNvcnRhYmxlOiB0cnVlCiAgICAgIH0sIHsKICAgICAgICBrZXk6ICJsaW1pdGVnZXN0b3IiLAogICAgICAgIGxhYmVsOiAiR2VzdG9yIiwKICAgICAgICBzb3J0YWJsZTogdHJ1ZQogICAgICB9LCB7CiAgICAgICAga2V5OiAic2FsZG9wZWRpZG8iLAogICAgICAgIGxhYmVsOiAiU2FsZG8iLAogICAgICAgIHNvcnRhYmxlOiB0cnVlCiAgICAgIH0sICJhY3Rpb25zIl0KICAgIH07CiAgfSwKCiAgY29tcHV0ZWQ6IHsgLi4ubWFwR2V0dGVycyhbImd0eGdlc3RvckRhdGEiXSksCgogICAgb3Bjb2VzKCkgewogICAgICBpZiAodGhpcy5yZWdpb2VzLmZpbmQociA9PiByLnZhbHVlID09IHRoaXMuaWRyZWdpYW8pKSByZXR1cm4gdGhpcy5hbm8gKyAiIC8gIiArIHRoaXMucmVnaW9lcy5maW5kKHIgPT4gci52YWx1ZSA9PSB0aGlzLmlkcmVnaWFvKS50ZXh0O2Vsc2UgcmV0dXJuICJPcMOnw7VlcyI7CiAgICB9LAoKICAgIGFwaWdlc3RvcigpIHsKICAgICAgcmV0dXJuIHRoaXMuZ3R4Z2VzdG9yRGF0YVswXSB8fCBbewogICAgICAgIG1ldGFzOiBbXSwKICAgICAgICBwZWRpZG9zOiBbXQogICAgICB9XTsKICAgIH0sCgogICAgbm9tZWdlc3RvcigpIHsKICAgICAgcmV0dXJuIHRoaXMuYXBpZ2VzdG9yLm5vbWVnZXN0b3I7CiAgICB9LAoKICAgIGFub3MoKSB7CiAgICAgIC8vIGluaWNpYW1vcyBlbSAyMDIxIC4uLgogICAgICBjb25zdCBhbm8gPSBuZXcgRGF0ZSgpLmdldEZ1bGxZZWFyKCk7CiAgICAgIHJldHVybiBbLi4uQXJyYXkoYW5vIC0gMjAyMCkua2V5cygpXS5tYXAoYSA9PiBhbm8gLSBhKTsKICAgIH0sCgogICAgcGFyYW1idXNjYSgpIHsKICAgICAgcmV0dXJuIHsKICAgICAgICBhbm86IHRoaXMuYW5vLAogICAgICAgIGdlc3RvcjogdGhpcy5jb2RpZ29fZ2VzdG9yLAogICAgICAgIGlkbWFyY2E6IHRoaXMuaWRtYXJjYQogICAgICB9OwogICAgfSwKCiAgICBtZXRhcygpIHsKICAgICAgcmV0dXJuIHRoaXMuYXBpZ2VzdG9yLm1ldGFzLmZpbmQociA9PiByLmlkcmVnaWFvID09IHRoaXMuaWRyZWdpYW8pIHx8IFtdOwogICAgfSwKCiAgICByZWdpb2Vzc2ltdWxhY2FvKCkgewogICAgICByZXR1cm47CiAgICB9LAoKICAgIHJlZ2lvZXMoKSB7CiAgICAgIHJldHVybiAodGhpcy5hcGlnZXN0b3IubWV0YXMgfHwgW10pLm1hcChyID0+IHsKICAgICAgICByZXR1cm4gewogICAgICAgICAgdmFsdWU6IHIuaWRyZWdpYW8sCiAgICAgICAgICB0ZXh0OiByLnJlZ2lhbwogICAgICAgIH07CiAgICAgIH0pOwogICAgfSwKCiAgICBwZWRpZG9zKCkgewogICAgICByZXR1cm4gdGhpcy5hcGlnZXN0b3IucGVkaWRvcy5maWx0ZXIociA9PiByLmlkcmVnaWFvID09IHRoaXMuaWRyZWdpYW8pIHx8IFtdOwogICAgfSwKCiAgICByZXN1bW9wZWRpZG9zKCkgewogICAgICByZXR1cm4gewogICAgICAgIG5yb3BlZGlkb3M6IHRoaXMucGVkaWRvcy5sZW5ndGggfHwgMCwKICAgICAgICBucm9saWJlcmFkb3M6IHRoaXMucGVkaWRvcy5maWx0ZXIobCA9PiBsLmxpbWl0ZWdlc3RvciA+IDApLmxlbmd0aCwKICAgICAgICBsaW1pdGVmaW5hbmNlaXJvOiB0aGlzLnBlZGlkb3MucmVkdWNlKChhLCBiKSA9PiBwYXJzZUZsb2F0KGEpICsgcGFyc2VGbG9hdChiLmxpbWl0ZWZpbmFuY2Vpcm8pLCAwKSwKICAgICAgICBsaW1pdGVnZXN0b3I6IHRoaXMucGVkaWRvcy5yZWR1Y2UoKGEsIGIpID0+IHBhcnNlRmxvYXQoYSkgKyBwYXJzZUZsb2F0KGIubGltaXRlZ2VzdG9yKSwgMCksCiAgICAgICAgdmFsb3J0b3RhbHBlZGlkbzogdGhpcy5wZWRpZG9zLnJlZHVjZSgoYSwgYikgPT4gcGFyc2VGbG9hdChhKSArIHBhcnNlRmxvYXQoYi52YWxvcnRvdGFscGVkaWRvKSwgMCksCiAgICAgICAgc2FsZG9wZWRpZG86IHRoaXMucGVkaWRvcy5yZWR1Y2UoKGEsIGIpID0+IHBhcnNlRmxvYXQoYSkgKyBwYXJzZUZsb2F0KGIuc2FsZG9wZWRpZG8pLCAwKQogICAgICB9OwogICAgfSwKCiAgICBwZWRpZG9zbGliZXJhZG9zKCkgewogICAgICByZXR1cm4gKHRoaXMucGVkaWRvcyB8fCBbXSkuZmlsdGVyKGYgPT4gZi5saW1pdGVnZXN0b3IgPiAwKS5sZW5ndGgudG9TdHJpbmcoKTsKICAgIH0sCgogICAgcmVzdW1vKCkgewogICAgICByZXR1cm4gdGhpcy5hcGlnZXN0b3IucmVzdW1vIHx8IFtdOwogICAgfQoKICB9LAoKICBiZWZvcmVNb3VudCgpIHsKICAgIHRoaXMuYnVzY2FnZXN0b3IoKTsKICB9LAoKICBtZXRob2RzOiB7IC4uLm1hcEFjdGlvbnMoWyJhY3RnZXN0b3JidXNjYXIiXSksCgogICAgYnVzY2FnZXN0b3IoKSB7CiAgICAgIGNvbnNvbGUubG9nKCJidXNjYWdlc3RvciIsICJpbml0aWFsIik7CiAgICAgIHRoaXMuYWN0Z2VzdG9yYnVzY2FyKHRoaXMucGFyYW1idXNjYSkudGhlbihkYXRhID0+IHsKICAgICAgICBjb25zb2xlLmxvZygiYnVzY2FnZXN0b3I6IiwgZGF0YSk7CiAgICAgIH0pOwogICAgICBjb25zb2xlLmxvZygiYnVzY2FnZXN0b3IiLCAiZmluYWwiKTsKICAgIH0sCgogICAgb25EYXNrRm9vdENsaWNrKGRhdGEpIHsKICAgICAgY29uc29sZS5sb2coIm9uRGFza0Zvb3RDbGljazoiLCBkYXRhKTsKICAgIH0sCgogICAgb25Ecm9wZG93bkNoYW5nZSgpIHsKICAgICAgdGhpcy4kcmVmcy5kcm9wZG93bm9wdGlvbnMuaGlkZSh0cnVlKTsKICAgIH0KCiAgfSwKICB3YXRjaDogewogICAgZ3R4Z2VzdG9yRGF0YSgpIHsKICAgICAgdGhpcy5pZHJlZ2lhbyA9IHRoaXMucmVnaW9lc1swXS52YWx1ZSB8fCAwOwogICAgfQoKICB9Cn07"},{"version":3,"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAmPA;AACA;AACA;AACA;EACAA,uBADA;EAGAC;IACAC,QADA;IAEAC;EAFA,CAHA;;EAQAC;IACA;MACAC,SADA;MAEAC,iBAFA;MAGAC,UAHA;MAIAC,WAJA;MAKAC,qBALA;MAMAC,kBACA;QAAAC;QAAAC;MAAA,CADA,EAEA;QAAAD;QAAAC;MAAA,CAFA,EAGA;QAAAD;QAAAC;MAAA,CAHA,EAIA;QAAAD;QAAAE;QAAAD;MAAA,CAJA,EAKA;QAAAD;QAAAE;QAAAD;MAAA,CALA,EAMA;QAAAD;QAAAE;QAAAD;MAAA,CANA,EAOA;QAAAD;QAAAE;QAAAD;MAAA,CAPA,EAQA,SARA;IANA;EAiBA,CA1BA;;EA4BAE,YACA,gCADA;;IAEAC;MACA,sDACA,OACA,WACA,KADA,GAEA,qDAHA,CADA,KAMA;IACA,CAVA;;IAWAC;MACA;QAAAC;QAAAC;MAAA;IACA,CAbA;;IAcAC;MACA;IACA,CAhBA;;IAiBAC;MACA;MACA;MACA;IACA,CArBA;;IAsBAC;MACA;QACAhB,aADA;QAEAiB,0BAFA;QAGAf;MAHA;IAKA,CA5BA;;IA6BAU;MACA,OACA,iEADA;IAGA,CAjCA;;IAkCAM;MACA;IACA,CApCA;;IAqCAC;MACA;QACA;UAAAC;UAAAC;QAAA;MACA,CAFA;IAGA,CAzCA;;IA0CAR;MACA,OACA,qEADA;IAGA,CA9CA;;IA+CAS;MACA;QACAC,oCADA;QAEAC,iEAFA;QAGAC,sCACA,wDADA,EAEA,CAFA,CAHA;QAOAC,kCACA,oDADA,EAEA,CAFA,CAPA;QAWAC,sCACA,wDADA,EAEA,CAFA,CAXA;QAeAC,iCACA,mDADA,EAEA,CAFA;MAfA;IAoBA,CApEA;;IAqEAC;MACA,4BACAC,MADA,CACAC,uBADA,EAEAC,MAFA,CAEAC,QAFA;IAGA,CAzEA;;IA0EAC;MACA;IACA;;EA5EA,CA5BA;;EA2GAC;IACA;EACA,CA7GA;;EA+GAC,WACA,kCADA;;IAEAC;MACAC;MACA;QACAA;MACA,CAFA;MAGAA;IACA,CARA;;IASAC;MACAD;IACA,CAXA;;IAYAE;MACA;IACA;;EAdA,CA/GA;EAgIAC;IACAC;MACA;IACA;;EAHA;AAhIA","names":["name","components","Dashcard","SimuladorLimite","data","ano","codigo_gestor","idmarca","idregiao","inadimplencia","tbpedidosfields","key","sortable","label","computed","opcoes","apigestor","metas","pedidos","nomegestor","anos","parambusca","gestor","regioessimulacao","regioes","value","text","resumopedidos","nropedidos","nroliberados","limitefinanceiro","limitegestor","valortotalpedido","saldopedido","pedidosliberados","filter","f","length","toString","resumo","beforeMount","methods","buscagestor","console","onDaskFootClick","onDropdownChange","watch","gtxgestorData"],"sourceRoot":"src/pages/gestores/views","sources":["Dashboard.vue"],"sourcesContent":["<template>\r\n  <div class=\"p-2\">\r\n    <b-card class=\"mt-2\">\r\n      <b-dropdown\r\n        id=\"dropdown-form\"\r\n        :text=\"opcoes\"\r\n        ref=\"dropdownoptions\"\r\n        class=\"mx-1 my-1\"\r\n      >\r\n        <b-dropdown-form style=\"width: 240px;\">\r\n          <b-form-group label=\"Ano\" label-for=\"input-ano\">\r\n            <b-form-select\r\n              id=\"input-ano\"\r\n              v-model=\"ano\"\r\n              :options=\"anos\"\r\n              @change=\"onDropdownChange\"\r\n            ></b-form-select>\r\n          </b-form-group>\r\n          <b-dropdown-divider></b-dropdown-divider>\r\n          <b-form-group label=\"RegiÃ£o\" label-for=\"input-regiao\">\r\n            <b-form-select\r\n              id=\"input-regiao\"\r\n              v-model=\"idregiao\"\r\n              :options=\"regioes\"\r\n              @change=\"onDropdownChange\"\r\n            ></b-form-select>\r\n          </b-form-group>\r\n        </b-dropdown-form>\r\n      </b-dropdown>\r\n      <b-button\r\n        variant=\"primary\"\r\n        title=\"Simulador de Limite\"\r\n        class=\"mx-1 my-1\"\r\n        v-b-modal.modal-gestorsimulador\r\n      >\r\n        <b-icon-check />\r\n        Simulador de Limite\r\n      </b-button>\r\n      <!--<span class=\"font-weight-bolder\">{{ nomegestor }}</span>-->\r\n    </b-card>\r\n\r\n    <b-row>\r\n      <b-col>\r\n        <Dashcard\r\n          :value=\"metas.meta | moeda\"\r\n          details=\"Limite RegiÃ£o\"\r\n          icon=\"cash\"\r\n          css=\"bg-success-light\"\r\n        />\r\n      </b-col>\r\n      <b-col>\r\n        <Dashcard\r\n          :value=\"resumo.limitegestor | moeda\"\r\n          details=\"Limite utilizado\"\r\n          icon=\"cash\"\r\n          css=\"bg-primary-light\"\r\n          @evt_footerclick=\"onDaskFootClick\"\r\n        />\r\n      </b-col>\r\n      <b-col>\r\n        <Dashcard\r\n          :value=\"resumo.percmarca | percent(4)\"\r\n          details=\"InadimplÃªncia Marca\"\r\n          icon=\"percent\"\r\n          css=\"bg-danger-light\"\r\n        />\r\n      </b-col>\r\n      <b-col>\r\n        <Dashcard\r\n          :value=\"metas.inadimplencia | percent(4)\"\r\n          details=\"InadimplÃªncia RegiÃ£o\"\r\n          icon=\"percent\"\r\n          css=\"bg-dark-light\"\r\n        />\r\n      </b-col>\r\n      <b-col>\r\n        <Dashcard\r\n          :value=\"resumo.perclimite | percent(4)\"\r\n          details=\"Limite gestor\"\r\n          icon=\"percent\"\r\n          css=\"bg-success-light\"\r\n        />\r\n      </b-col>\r\n    </b-row>\r\n\r\n    <b-row>\r\n      <b-col>\r\n        <b-card class=\"bg-info text-light mb-2\">\r\n          <b-row>\r\n            <b-col class=\"text-center\" cols=\"12\" md=\"4\">\r\n              <h5>\r\n                Pedidos solicitados\r\n              </h5>\r\n              <h1>\r\n                {{ resumo.nropedidos }}\r\n              </h1>\r\n              <h3>\r\n                {{ resumo.limitefinanceiro | moeda }}\r\n              </h3>\r\n              <hr class=\"bg-light mobile\" />\r\n            </b-col>\r\n            <b-col class=\"text-center\" cols=\"12\" md=\"4\">\r\n              <h5>\r\n                Pedidos liberados\r\n              </h5>\r\n              <h1>\r\n                {{ resumo.nropedidosliberados }}\r\n              </h1>\r\n              <h3>\r\n                {{ resumo.limitegestor | moeda }}\r\n              </h3>\r\n              <hr class=\"bg-light mobile\" />\r\n            </b-col>\r\n            <b-col class=\"text-center\" cols=\"12\" md=\"4\">\r\n              <h5>\r\n                Pedidos Ã  liberar\r\n              </h5>\r\n              <h1>\r\n                {{ resumo.nropedidos - resumo.nropedidosliberados }}\r\n              </h1>\r\n              <h3>\r\n                {{ resumo.saldopedidos | moeda }}\r\n              </h3>\r\n            </b-col>\r\n          </b-row>\r\n        </b-card>\r\n      </b-col>\r\n    </b-row>\r\n\r\n    <b-row>\r\n      <b-col>\r\n        <b-card class=\"bg-primary text-light mb-2\">\r\n          <b-row>\r\n            <b-col class=\"text-center\" cols=\"12\" md=\"4\">\r\n              <h5>\r\n                Pedidos solicitados\r\n              </h5>\r\n              <h1>\r\n                {{ resumopedidos.nropedidos }}\r\n              </h1>\r\n              <h3>\r\n                {{ resumopedidos.limitefinanceiro | moeda }}\r\n              </h3>\r\n              <hr class=\"bg-light mobile\" />\r\n            </b-col>\r\n            <b-col class=\"text-center\" cols=\"12\" md=\"4\">\r\n              <h5>\r\n                Pedidos liberados\r\n              </h5>\r\n              <h1>\r\n                {{ resumopedidos.nroliberados }}\r\n              </h1>\r\n              <h3>\r\n                {{ resumopedidos.limitegestor | moeda }}\r\n              </h3>\r\n              <hr class=\"bg-light mobile\" />\r\n            </b-col>\r\n            <b-col class=\"text-center\" cols=\"12\" md=\"4\">\r\n              <h5>\r\n                Pedidos Ã  liberar\r\n              </h5>\r\n              <h1>\r\n                {{ resumopedidos.nropedidos - resumopedidos.nroliberados }}\r\n              </h1>\r\n              <h3>\r\n                {{\r\n                  (resumopedidos.limitegestor + resumopedidos.saldopedido)\r\n                    | moeda\r\n                }}\r\n              </h3>\r\n            </b-col>\r\n          </b-row>\r\n        </b-card>\r\n      </b-col>\r\n    </b-row>\r\n\r\n    <b-card>\r\n      <b-table\r\n        striped\r\n        hover\r\n        small\r\n        :fields=\"tbpedidosfields\"\r\n        :items=\"pedidos\"\r\n        caption-top\r\n      >\r\n        <template #table-caption><h4>RelaÃ§Ã£o de pedidos</h4></template>\r\n        <template #cell(limitefinanceiro)=\"data\">\r\n          <span class=\"float-right\">{{\r\n            data.item.limitefinanceiro | moeda\r\n          }}</span>\r\n        </template>\r\n        <template #cell(limitegestor)=\"data\">\r\n          <span class=\"float-right\">{{ data.item.limitegestor | moeda }}</span>\r\n        </template>\r\n        <template #cell(saldopedido)=\"data\">\r\n          <span class=\"float-right\">{{ data.item.saldopedido | moeda }}</span>\r\n        </template>\r\n        <template #cell(valortotalpedido)=\"data\">\r\n          <span class=\"float-right\">{{\r\n            data.item.valortotalpedido | moeda\r\n          }}</span>\r\n        </template>\r\n        <template #cell(actions)=\"data\">\r\n          <span v-if=\"data.item.limitegestor == 0\">\r\n            <b-button\r\n              variant=\"outline-primary\"\r\n              title=\"Liberar\"\r\n              class=\"mx-1 my-1\"\r\n            >\r\n              <b-icon-check />\r\n            </b-button>\r\n          </span>\r\n        </template>\r\n      </b-table>\r\n    </b-card>\r\n\r\n    <b-modal\r\n      id=\"modal-gestorsimulador\"\r\n      title=\"Simulador de Limite\"\r\n      size=\"xl\"\r\n      scrollable\r\n      hide-footer\r\n    >\r\n      <SimuladorLimite :inadimplencia=\"inadimplencia\" :regioes=\"metas\" />\r\n    </b-modal>\r\n\r\n    <!--\r\n    idregiao:\r\n    <pre>{{ idregiao }}</pre>\r\n    resumopedidos:\r\n    <pre>{{ resumopedidos }}</pre>\r\n    metas:\r\n    <pre>{{ metas }}</pre>\r\n    pedidos:\r\n    <pre>{{ pedidos }}</pre>\r\n    apigestor:\r\n    <pre>{{ apigestor }}</pre>\r\n    gtxgestorData:\r\n    <pre>{{ gtxgestorData }}</pre>\r\n-->\r\n  </div>\r\n</template>\r\n<script>\r\nimport { mapGetters, mapActions } from \"vuex\";\r\nimport Dashcard from \"../../../components/Dashcard\";\r\nimport SimuladorLimite from \"../components/SimuladorLimite\";\r\nexport default {\r\n  name: \"GestorDashboard\",\r\n\r\n  components: {\r\n    Dashcard,\r\n    SimuladorLimite,\r\n  },\r\n\r\n  data() {\r\n    return {\r\n      ano: 2022,\r\n      codigo_gestor: 63,\r\n      idmarca: 5,\r\n      idregiao: 1,\r\n      inadimplencia: 0.2161,\r\n      tbpedidosfields: [\r\n        { key: \"pedido\", sortable: true },\r\n        { key: \"tp\", sortable: true },\r\n        { key: \"cliente\", sortable: true },\r\n        { key: \"valortotalpedido\", label: \"Valor Total\", sortable: true },\r\n        { key: \"limitefinanceiro\", label: \"Financeiro\", sortable: true },\r\n        { key: \"limitegestor\", label: \"Gestor\", sortable: true },\r\n        { key: \"saldopedido\", label: \"Saldo\", sortable: true },\r\n        \"actions\",\r\n      ],\r\n    };\r\n  },\r\n\r\n  computed: {\r\n    ...mapGetters([\"gtxgestorData\"]),\r\n    opcoes() {\r\n      if (this.regioes.find((r) => r.value == this.idregiao))\r\n        return (\r\n          this.ano +\r\n          \" / \" +\r\n          this.regioes.find((r) => r.value == this.idregiao).text\r\n        );\r\n      else return \"OpÃ§Ãµes\";\r\n    },\r\n    apigestor() {\r\n      return this.gtxgestorData[0] || [{ metas: [], pedidos: [] }];\r\n    },\r\n    nomegestor() {\r\n      return this.apigestor.nomegestor;\r\n    },\r\n    anos() {\r\n      // iniciamos em 2021 ...\r\n      const ano = new Date().getFullYear();\r\n      return [...Array(ano - 2020).keys()].map((a) => ano - a);\r\n    },\r\n    parambusca() {\r\n      return {\r\n        ano: this.ano,\r\n        gestor: this.codigo_gestor,\r\n        idmarca: this.idmarca,\r\n      };\r\n    },\r\n    metas() {\r\n      return (\r\n        this.apigestor.metas.find((r) => r.idregiao == this.idregiao) || []\r\n      );\r\n    },\r\n    regioessimulacao() {\r\n      return;\r\n    },\r\n    regioes() {\r\n      return (this.apigestor.metas || []).map((r) => {\r\n        return { value: r.idregiao, text: r.regiao };\r\n      });\r\n    },\r\n    pedidos() {\r\n      return (\r\n        this.apigestor.pedidos.filter((r) => r.idregiao == this.idregiao) || []\r\n      );\r\n    },\r\n    resumopedidos() {\r\n      return {\r\n        nropedidos: this.pedidos.length || 0,\r\n        nroliberados: this.pedidos.filter((l) => l.limitegestor > 0).length,\r\n        limitefinanceiro: this.pedidos.reduce(\r\n          (a, b) => parseFloat(a) + parseFloat(b.limitefinanceiro),\r\n          0\r\n        ),\r\n        limitegestor: this.pedidos.reduce(\r\n          (a, b) => parseFloat(a) + parseFloat(b.limitegestor),\r\n          0\r\n        ),\r\n        valortotalpedido: this.pedidos.reduce(\r\n          (a, b) => parseFloat(a) + parseFloat(b.valortotalpedido),\r\n          0\r\n        ),\r\n        saldopedido: this.pedidos.reduce(\r\n          (a, b) => parseFloat(a) + parseFloat(b.saldopedido),\r\n          0\r\n        ),\r\n      };\r\n    },\r\n    pedidosliberados() {\r\n      return (this.pedidos || [])\r\n        .filter((f) => f.limitegestor > 0)\r\n        .length.toString();\r\n    },\r\n    resumo() {\r\n      return this.apigestor.resumo || [];\r\n    },\r\n  },\r\n\r\n  beforeMount() {\r\n    this.buscagestor();\r\n  },\r\n\r\n  methods: {\r\n    ...mapActions([\"actgestorbuscar\"]),\r\n    buscagestor() {\r\n      console.log(\"buscagestor\", \"initial\");\r\n      this.actgestorbuscar(this.parambusca).then((data) => {\r\n        console.log(\"buscagestor:\", data);\r\n      });\r\n      console.log(\"buscagestor\", \"final\");\r\n    },\r\n    onDaskFootClick(data) {\r\n      console.log(\"onDaskFootClick:\", data);\r\n    },\r\n    onDropdownChange() {\r\n      this.$refs.dropdownoptions.hide(true);\r\n    },\r\n  },\r\n\r\n  watch: {\r\n    gtxgestorData() {\r\n      this.idregiao = this.regioes[0].value || 0;\r\n    },\r\n  },\r\n};\r\n</script>\r\n\r\n<style>\r\n.mobile {\r\n  display: none;\r\n}\r\n@media screen and (max-width: 767px) {\r\n  .mobile {\r\n    display: block;\r\n  }\r\n}\r\n</style>\r\n"]}]}