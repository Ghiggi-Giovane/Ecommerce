{"remainingRequest":"C:\\ecomercek1\\node_modules\\babel-loader\\lib\\index.js!C:\\ecomercek1\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!C:\\ecomercek1\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\ecomercek1\\src\\components\\ProdutoAdicionar.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\ecomercek1\\src\\components\\ProdutoAdicionar.vue","mtime":1553017500000},{"path":"C:\\ecomercek1\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1703812716881},{"path":"C:\\ecomercek1\\node_modules\\babel-loader\\lib\\index.js","mtime":1703812723848},{"path":"C:\\ecomercek1\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1703812716881},{"path":"C:\\ecomercek1\\node_modules\\vue-loader\\lib\\index.js","mtime":1703812722982}],"contextDependencies":[],"result":["import \"regenerator-runtime/runtime\";\nimport _asyncToGenerator from \"C:\\\\ecomercek1\\\\node_modules\\\\@babel\\\\runtime-corejs2/helpers/esm/asyncToGenerator\";\nimport \"core-js/modules/es6.function.name\";\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\nimport { api } from \"@/services.js\";\nexport default {\n  name: \"ProdutoAdicionar\",\n  data: function data() {\n    return {\n      produto: {\n        nome: \"\",\n        preco: \"\",\n        descricao: \"\",\n        fotos: null,\n        vendido: \"false\"\n      }\n    };\n  },\n  methods: {\n    formatarProduto: function formatarProduto() {\n      var form = new FormData();\n      var files = this.$refs.fotos.files;\n\n      for (var i = 0; i < files.length; i++) {\n        form.append(files[i].name, files[i]);\n      }\n\n      form.append(\"nome\", this.produto.nome);\n      form.append(\"preco\", this.produto.preco);\n      form.append(\"descricao\", this.produto.descricao);\n      form.append(\"vendido\", this.produto.vendido);\n      form.append(\"usuario_id\", this.$store.state.usuario.id);\n      return form;\n    },\n    adicionarProduto: function () {\n      var _adicionarProduto = _asyncToGenerator(\n      /*#__PURE__*/\n      regeneratorRuntime.mark(function _callee(event) {\n        var produto, button;\n        return regeneratorRuntime.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                produto = this.formatarProduto();\n                button = event.currentTarget;\n                button.value = \"Adicionando...\";\n                button.setAttribute(\"disabled\", \"\");\n                _context.next = 6;\n                return api.post(\"/produto\", produto);\n\n              case 6:\n                _context.next = 8;\n                return this.$store.dispatch(\"getUsuarioProdutos\");\n\n              case 8:\n                button.removeAttribute(\"disabled\");\n                button.value = \"Adicionar Produto\";\n\n              case 10:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee, this);\n      }));\n\n      function adicionarProduto(_x) {\n        return _adicionarProduto.apply(this, arguments);\n      }\n\n      return adicionarProduto;\n    }()\n  }\n};",{"version":3,"sources":["ProdutoAdicionar.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;AAeA,SAAA,GAAA,QAAA,eAAA;AAEA,eAAA;AACA,EAAA,IAAA,EAAA,kBADA;AAEA,EAAA,IAFA,kBAEA;AACA,WAAA;AACA,MAAA,OAAA,EAAA;AACA,QAAA,IAAA,EAAA,EADA;AAEA,QAAA,KAAA,EAAA,EAFA;AAGA,QAAA,SAAA,EAAA,EAHA;AAIA,QAAA,KAAA,EAAA,IAJA;AAKA,QAAA,OAAA,EAAA;AALA;AADA,KAAA;AASA,GAZA;AAaA,EAAA,OAAA,EAAA;AACA,IAAA,eADA,6BACA;AACA,UAAA,IAAA,GAAA,IAAA,QAAA,EAAA;AAEA,UAAA,KAAA,GAAA,KAAA,KAAA,CAAA,KAAA,CAAA,KAAA;;AACA,WAAA,IAAA,CAAA,GAAA,CAAA,EAAA,CAAA,GAAA,KAAA,CAAA,MAAA,EAAA,CAAA,EAAA,EAAA;AACA,QAAA,IAAA,CAAA,MAAA,CAAA,KAAA,CAAA,CAAA,CAAA,CAAA,IAAA,EAAA,KAAA,CAAA,CAAA,CAAA;AACA;;AAEA,MAAA,IAAA,CAAA,MAAA,CAAA,MAAA,EAAA,KAAA,OAAA,CAAA,IAAA;AACA,MAAA,IAAA,CAAA,MAAA,CAAA,OAAA,EAAA,KAAA,OAAA,CAAA,KAAA;AACA,MAAA,IAAA,CAAA,MAAA,CAAA,WAAA,EAAA,KAAA,OAAA,CAAA,SAAA;AACA,MAAA,IAAA,CAAA,MAAA,CAAA,SAAA,EAAA,KAAA,OAAA,CAAA,OAAA;AACA,MAAA,IAAA,CAAA,MAAA,CAAA,YAAA,EAAA,KAAA,MAAA,CAAA,KAAA,CAAA,OAAA,CAAA,EAAA;AAEA,aAAA,IAAA;AACA,KAhBA;AAiBA,IAAA,gBAjBA;AAAA;AAAA;AAAA,+CAiBA,KAjBA;AAAA;AAAA;AAAA;AAAA;AAAA;AAkBA,gBAAA,OAlBA,GAkBA,KAAA,eAAA,EAlBA;AAoBA,gBAAA,MApBA,GAoBA,KAAA,CAAA,aApBA;AAqBA,gBAAA,MAAA,CAAA,KAAA,GAAA,gBAAA;AACA,gBAAA,MAAA,CAAA,YAAA,CAAA,UAAA,EAAA,EAAA;AAtBA;AAAA,uBAwBA,GAAA,CAAA,IAAA,CAAA,UAAA,EAAA,OAAA,CAxBA;;AAAA;AAAA;AAAA,uBAyBA,KAAA,MAAA,CAAA,QAAA,CAAA,oBAAA,CAzBA;;AAAA;AA2BA,gBAAA,MAAA,CAAA,eAAA,CAAA,UAAA;AACA,gBAAA,MAAA,CAAA,KAAA,GAAA,mBAAA;;AA5BA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;AAAA;AAAA;AAAA;;AAAA;AAAA;AAAA;AAbA,CAAA","sourcesContent":["<template>\n  <form class=\"adicionar-produto\">\n    <label for=\"nome\">Nome</label>\n    <input id=\"nome\" name=\"nome\" type=\"text\" v-model=\"produto.nome\">\n    <label for=\"preco\">Preço (R$)</label>\n    <input id=\"preco\" name=\"preco\" type=\"number\" v-model=\"produto.preco\">\n    <label for=\"fotos\">Fotos</label>\n    <input id=\"fotos\" name=\"fotos\" type=\"file\" multiple ref=\"fotos\">\n    <label for=\"preco\">Descrição</label>\n    <textarea id=\"preco\" name=\"preco\" v-model=\"produto.descricao\"></textarea>\n    <input class=\"btn\" type=\"button\" value=\"Adicionar Produto\" @click.prevent=\"adicionarProduto\">\n  </form>\n</template>\n\n<script>\nimport { api } from \"@/services.js\";\n\nexport default {\n  name: \"ProdutoAdicionar\",\n  data() {\n    return {\n      produto: {\n        nome: \"\",\n        preco: \"\",\n        descricao: \"\",\n        fotos: null,\n        vendido: \"false\"\n      }\n    };\n  },\n  methods: {\n    formatarProduto() {\n      const form = new FormData();\n\n      const files = this.$refs.fotos.files;\n      for (let i = 0; i < files.length; i++) {\n        form.append(files[i].name, files[i]);\n      }\n\n      form.append(\"nome\", this.produto.nome);\n      form.append(\"preco\", this.produto.preco);\n      form.append(\"descricao\", this.produto.descricao);\n      form.append(\"vendido\", this.produto.vendido);\n      form.append(\"usuario_id\", this.$store.state.usuario.id);\n\n      return form;\n    },\n    async adicionarProduto(event) {\n      const produto = this.formatarProduto();\n\n      const button = event.currentTarget;\n      button.value = \"Adicionando...\";\n      button.setAttribute(\"disabled\", \"\");\n\n      await api.post(\"/produto\", produto);\n      await this.$store.dispatch(\"getUsuarioProdutos\");\n\n      button.removeAttribute(\"disabled\");\n      button.value = \"Adicionar Produto\";\n    }\n  }\n};\n</script>\n\n<style scoped>\n.adicionar-produto {\n  display: grid;\n  grid-template-columns: 100px 1fr;\n  align-items: center;\n  margin-bottom: 60px;\n}\n\n.btn {\n  grid-column: 2;\n}\n</style>\n"],"sourceRoot":"src/components"}]}