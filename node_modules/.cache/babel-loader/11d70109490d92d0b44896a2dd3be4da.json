{"remainingRequest":"C:\\k1-services\\node_modules\\babel-loader\\lib\\index.js!C:\\k1-services\\node_modules\\cache-loader\\dist\\cjs.js??ref--1-0!C:\\k1-services\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\k1-services\\src\\pages\\almoxarifado\\views\\lotes2.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\k1-services\\src\\pages\\almoxarifado\\views\\lotes2.vue","mtime":1701906516432},{"path":"C:\\k1-services\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1670977934221},{"path":"C:\\k1-services\\node_modules\\babel-loader\\lib\\index.js","mtime":1670977935138},{"path":"C:\\k1-services\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1670977934221},{"path":"C:\\k1-services\\node_modules\\vue-loader\\lib\\index.js","mtime":1674603023821}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCB7IG1hcEdldHRlcnMsIG1hcEFjdGlvbnMgfSBmcm9tICJ2dWV4IjsKaW1wb3J0IExvdGVzUHJvZHVjYW8gZnJvbSAiLi4vY29tcG9uZW50cy9Mb3Rlc1Byb2R1Y2FvIjsKaW1wb3J0IEdhaW9sYXNJdGVuc0J1c2NhIGZyb20gIi4uL2NvbXBvbmVudHMvR2Fpb2xhc0l0ZW5zQnVzY2EiOwppbXBvcnQgQWxtb3hhcmlmYWRvTW92aW1lbnRhY29lcyBmcm9tICIuLi8uLi9hbG1veGFyaWZhZG8vdmlld3MvQWxtb3hhcmlmYWRvTW92aW1lbnRhY29lcyI7CmltcG9ydCB2aWV3c3RvcmUgZnJvbSAiLi4vLi4vLi4vc2VydmljZXMvdmlld3N0b3JlLmpzIjsKaW1wb3J0IEFQSSBmcm9tICIuLi8uLi8uLi9zZXJ2aWNlcy9hcGkuc2VydmljZS5qcyI7CmV4cG9ydCBkZWZhdWx0IHsKICBuYW1lOiAiTG90ZXMyIiwKICBjb21wb25lbnRzOiB7CiAgICBMb3Rlc1Byb2R1Y2FvLAogICAgR2Fpb2xhc0l0ZW5zQnVzY2EsCiAgICBBbG1veGFyaWZhZG9Nb3ZpbWVudGFjb2VzCiAgfSwKICBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgdGFiSW5kZXg6IDEsCiAgICAgIGRhZG9zOiBbXSwKICAgICAgdGlwb3NlcGFyYWNhb2FsbW94OiAwLAogICAgICBlbXByZXNhOiA4LAogICAgICBkZXBvc2l0bzogMzcsCiAgICAgIGxvdGVzOiBbXSwKICAgICAgaXRlbWJ1c2NhOiB7CiAgICAgICAgY29kaWdvOiAwLAogICAgICAgIGVuZGVyZWNvOiAwLAogICAgICAgIGVtcDogcGFyc2VJbnQodGhpcy5lbXByZXNhKSwKICAgICAgICBkZXA6IHBhcnNlSW50KHRoaXMuZGVwb3NpdG8pLAogICAgICAgIGl0ZW06IFtdLAogICAgICAgIHF1YW50OiAwLAogICAgICAgIGRlbGV0YTogMCwKICAgICAgICBuaXZlbDogMQogICAgICB9LAogICAgICBpdGVuc2FsbW94OiB7fSwKICAgICAgbWF0ZXJpYWlzOiB7CiAgICAgICAgYnVzeTogZmFsc2UsCiAgICAgICAgcnVuOiAwLAogICAgICAgIGZpZWxkczogW3sKICAgICAgICAgIGtleTogIkl0ZW0iLAogICAgICAgICAgbGFiZWw6ICJJdGVtIiwKICAgICAgICAgIHNvcnRhYmxlOiB0cnVlLAogICAgICAgICAgdmlzaWJsZTogdHJ1ZQogICAgICAgIH0sIHsKICAgICAgICAgIGtleTogIkRlc2NyaWNhbyIsCiAgICAgICAgICBsYWJlbDogIkRlc2NyacOnw6NvIiwKICAgICAgICAgIHNvcnRhYmxlOiB0cnVlLAogICAgICAgICAgdmlzaWJsZTogdHJ1ZQogICAgICAgIH0sIHsKICAgICAgICAgIGtleTogIlVOIiwKICAgICAgICAgIGxhYmVsOiAiVU4iLAogICAgICAgICAgc29ydGFibGU6IHRydWUsCiAgICAgICAgICB2aXNpYmxlOiB0cnVlCiAgICAgICAgfSwgewogICAgICAgICAga2V5OiAiTG90ZXMiLAogICAgICAgICAgbGFiZWw6ICJMb3RlcyIsCiAgICAgICAgICBzb3J0YWJsZTogdHJ1ZSwKICAgICAgICAgIHZpc2libGU6IHRydWUKICAgICAgICB9LCB7CiAgICAgICAgICBrZXk6ICJRdGRlSXRlbSIsCiAgICAgICAgICBsYWJlbDogIlF0ZGUiLAogICAgICAgICAgc29ydGFibGU6IHRydWUsCiAgICAgICAgICB2aXNpYmxlOiB0cnVlCiAgICAgICAgfSwgewogICAgICAgICAga2V5OiAiUXRkZVNlcGFyYWRhIiwKICAgICAgICAgIGxhYmVsOiAiUXRkZSBTZXBhcmFkYSIsCiAgICAgICAgICBzb3J0YWJsZTogdHJ1ZSwKICAgICAgICAgIHZpc2libGU6IHRydWUKICAgICAgICB9LCB7CiAgICAgICAgICBrZXk6ICJBY3Rpb25zIiwKICAgICAgICAgIGxhYmVsOiAiQWN0aW9ucyIsCiAgICAgICAgICBzb3J0YWJsZTogZmFsc2UsCiAgICAgICAgICB2aXNpYmxlOiB0cnVlCiAgICAgICAgfV0sCiAgICAgICAgbG90ZXM6IFt7CiAgICAgICAgICBrZXk6ICJJdGVtIiwKICAgICAgICAgIGxhYmVsOiAiSXRlbSIsCiAgICAgICAgICBzb3J0YWJsZTogdHJ1ZSwKICAgICAgICAgIHZpc2libGU6IHRydWUKICAgICAgICB9LCB7CiAgICAgICAgICBrZXk6ICJsb3RlIiwKICAgICAgICAgIGxhYmVsOiAiTG90ZSIsCiAgICAgICAgICBzb3J0YWJsZTogdHJ1ZSwKICAgICAgICAgIHZpc2libGU6IHRydWUKICAgICAgICB9LCB7CiAgICAgICAgICBrZXk6ICJRdGRlSXRlbSIsCiAgICAgICAgICBsYWJlbDogIlF0ZGUiLAogICAgICAgICAgc29ydGFibGU6IHRydWUsCiAgICAgICAgICB2aXNpYmxlOiB0cnVlCiAgICAgICAgfSwgewogICAgICAgICAga2V5OiAiUXRkZVNlcGFyYWRhIiwKICAgICAgICAgIGxhYmVsOiAiUXRkZSBTZXBhcmFkYSIsCiAgICAgICAgICBzb3J0YWJsZTogdHJ1ZSwKICAgICAgICAgIHZpc2libGU6IHRydWUKICAgICAgICB9LCB7CiAgICAgICAgICBrZXk6ICJBY3Rpb25zIiwKICAgICAgICAgIGxhYmVsOiAiQWN0aW9ucyIsCiAgICAgICAgICBzb3J0YWJsZTogZmFsc2UsCiAgICAgICAgICB2aXNpYmxlOiB0cnVlCiAgICAgICAgfV0sCiAgICAgICAgYnV0dG9uczogW3sKICAgICAgICAgIGtleTogImVuZGUiLAogICAgICAgICAgaWNvbjogInNpZ25wb3N0LXNwbGl0IiwKICAgICAgICAgIHZhcmlhbnQ6ICJ3YXJuaW5nIiwKICAgICAgICAgIHNpemU6ICJzbSIsCiAgICAgICAgICB0b29sdGlwOiAiRW5kZXJlw6dvcyIKICAgICAgICB9XSwKICAgICAgICByb3V0ZTogIlByb2R1Y2FvL0xvdGVTZXRvcmVzL01hdGVyaWFpcyIsCiAgICAgICAgcGFyYW1zOiB7CiAgICAgICAgICBlbXByZXNhOiAiOCIsCiAgICAgICAgICBkZXBvc2l0bzogIjM3IiwKICAgICAgICAgIGxvdGVzOiB0aGlzLmxvdGVzcGxpdCwKICAgICAgICAgIFJlZnM6ICIiLAogICAgICAgICAgaWRUaXBvU2VwYXJhY2FvQWxtb3g6IG51bGwKICAgICAgICB9LAogICAgICAgIGRhdGE6IFtdLAogICAgICAgIHNlbGVjdGVkOiB7fSwKICAgICAgICByb3dzZWxlY3RlZDogW10KICAgICAgfQogICAgfTsKICB9LAogIGNvbXB1dGVkOiB7CiAgICAuLi5tYXBHZXR0ZXJzKFsic3lzZGV2bW9kZSIsICJndHhQYXJlbXBEYXRhIiwgImd0eFBhcmVtcERhdGFBbG1veGFyaWZhZG9zIiwgImd0eFRpcG9zZXBhcmFjYW9hbG1veERhdGFCeUVtcHJlc2FEZXBvc2l0byIsICJndHhQYXJlbXBEYXRhQWxtb3hhcmlmYWRvc1RpcG9zc2VwYXJhY2FvIl0pLAogICAgZGVwb3NpdG9zTGlzdCgpIHsKICAgICAgcmV0dXJuIHRoaXMuZ3R4UGFyZW1wRGF0YUFsbW94YXJpZmFkb3ModGhpcy5lbXByZXNhKTsKICAgIH0sCiAgICBzZXBhcmFjYW9MaXN0KCkgewogICAgICByZXR1cm4gdGhpcy5ndHhQYXJlbXBEYXRhQWxtb3hhcmlmYWRvc1RpcG9zc2VwYXJhY2FvKHRoaXMuZW1wcmVzYSwgdGhpcy5kZXBvc2l0bykuc29ydCgpOwogICAgfSwKICAgIHBhcmFtTWF0ZXJpYWlzKCkgewogICAgICByZXR1cm4gewogICAgICAgIEVtcHJlc2E6IHRoaXMuZW1wcmVzYSwKICAgICAgICBEZXBvc2l0bzogdGhpcy5kZXBvc2l0bywKICAgICAgICBMb3RlczogdGhpcy5sb3Rlcy5qb2luKCI7IiksCiAgICAgICAgaWRUaXBvU2VwYXJhY2FvQWxtb3g6IHRoaXMudGlwb3NlcGFyYWNhb2FsbW94CiAgICAgIH07CiAgICB9LAogICAgZW52aW9NYXRlcmlhaXMoKSB7CiAgICAgIGlmICh0aGlzLm1hdGVyaWFpcy5kYXRhLmxlbmd0aCA+IDApIHsKICAgICAgICByZXR1cm4gdGhpcy5tYXRlcmlhaXMuZGF0YS5maWx0ZXIobCA9PiBsLkxvdGVzLmZpbmQoZiA9PiBmLlF0ZGVTZXBhcmFkYSAhPT0gZi5RdGRlU2VwYXJhZGFPcmlnaW5hbCkgPyB0cnVlIDogZmFsc2UpLm1hcChkID0+IHsKICAgICAgICAgIHJldHVybiB7CiAgICAgICAgICAgIEl0ZW06IGQuSXRlbSwKICAgICAgICAgICAgRGVzY3JpY2FvOiBkLkRlc2NyaWNhbywKICAgICAgICAgICAgUXRkZUl0ZW06IGQuUXRkZUl0ZW0sCiAgICAgICAgICAgIGlkVGlwb1NlcGFyYWNhb0FsbW94OiBkLmlkVGlwb1NlcGFyYWNhb0FsbW94LAogICAgICAgICAgICBpZFRpcG9TZXBhcmFjYW86IGQuaWRUaXBvU2VwYXJhY2FvLAogICAgICAgICAgICBRdGRlU2VwYXJhZGE6IGQuUXRkZVNlcGFyYWRhLAogICAgICAgICAgICBMb3RlczogZC5Mb3Rlcy5maWx0ZXIobCA9PiBsLlF0ZGVTZXBhcmFkYSAhPT0gbC5RdGRlU2VwYXJhZGFPcmlnaW5hbCkKICAgICAgICAgIH07CiAgICAgICAgfSk7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgcmV0dXJuIHsKICAgICAgICAgIGl0ZW1zOiAiIgogICAgICAgIH07CiAgICAgIH0KICAgIH0sCiAgICBlbnZpb01hdGVyaWFpc1hNTCgpIHsKICAgICAgcmV0dXJuICI8cm9vdD4iICsgdGhpcy4kcm9vdC5nZXRYTUwoewogICAgICAgIGl0ZW1zOiB0aGlzLmVudmlvTWF0ZXJpYWlzCiAgICAgIH0pICsgIjwvcm9vdD4iOwogICAgfSwKICAgIG1hdGVyaWFpc0J1c2NhKCkgewogICAgICByZXR1cm4gewogICAgICAgIGZpZWxkczogWyJJdGVtIiwgIkRlc2NyaWNhbyIsICJVTiIsIHsKICAgICAgICAgIGtleTogIlF0ZGVJdGVtIiwKICAgICAgICAgIGxhYmVsOiAiUXRkZSIKICAgICAgICB9LCB7CiAgICAgICAgICBrZXk6ICJRdGRlU2VwYXJhZGEiLAogICAgICAgICAgbGFiZWw6ICJTZXBhcmHDp8OjbyIKICAgICAgICB9LCB7CiAgICAgICAgICBrZXk6ICJTYWxkb0l0ZW0iLAogICAgICAgICAgbGFiZWw6ICJTYWxkbyIKICAgICAgICB9LCAiTG90ZXMiLCAiYWN0aW9ucyJdLAogICAgICAgIGRhdGE6IHRoaXMubWF0ZXJpYWlzLmRhdGEubWFwKG0gPT4gewogICAgICAgICAgcmV0dXJuIHsKICAgICAgICAgICAgRW1wcmVzYTogbS5FbXByZXNhLAogICAgICAgICAgICBEZXBvc2l0bzogbS5EZXBvc2l0bywKICAgICAgICAgICAgSXRlbTogbS5JdGVtLAogICAgICAgICAgICBEZXNjcmljYW86IG0uRGVzY3JpY2FvLAogICAgICAgICAgICBRdGRlSXRlbTogbS5RdGRlSXRlbSwKICAgICAgICAgICAgUXRkZVNlcGFyYWRhOiBtLlF0ZGVTZXBhcmFkYSwKICAgICAgICAgICAgU2FsZG9JdGVtOiBtLlF0ZGVJdGVtIC0gbS5RdGRlU2VwYXJhZGEsCiAgICAgICAgICAgIExvdGVzOiBtLkxvdGVzCiAgICAgICAgICB9OwogICAgICAgIH0pCiAgICAgIH07CiAgICB9LAogICAgLy8gdmFsaWRhw6fDtWVzIC4uLgogICAgdk1hdGVyaWFpc1BhcmFtKCkgewogICAgICByZXR1cm4gdGhpcy5wYXJhbU1hdGVyaWFpcy5FbXByZXNhID09IDAgfHwgdGhpcy5wYXJhbU1hdGVyaWFpcy5EZXBvc2l0byA9PSAwIHx8IHRoaXMucGFyYW1NYXRlcmlhaXMuTG90ZXMgPT0gIiIgfHwgdGhpcy5wYXJhbU1hdGVyaWFpcy5pZFRpcG9TZXBhcmFjYW9BbG1veCA9PSBudWxsOwogICAgfSwKICAgIHZNYXRlcmlhaXNFbnZpbygpIHsKICAgICAgcmV0dXJuIHRoaXMuZW52aW9NYXRlcmlhaXMubGVuZ3RoID09IDA7CiAgICB9CiAgfSwKICBtZXRob2RzOiB7CiAgICAuLi5tYXBBY3Rpb25zKFsiYWN0UGFyZW1wIl0pLAogICAgYWRkbG90ZWJ1c2NhKGxvdGVzKSB7CiAgICAgIGNvbnNvbGUubG9nKCJhZGRsb3RlYnVzY2E6IiwgbG90ZXMpOwogICAgfSwKICAgIGJ1c2NhTWF0ZXJpYWlzKCkgewogICAgICBBUEkuZ2V0KCJQcm9kdWNhby9Mb3RlU2V0b3Jlcy9NYXRlcmlhaXMiLCB0aGlzLnBhcmFtTWF0ZXJpYWlzKS50aGVuKGFwaWRhdGEgPT4gewogICAgICAgIC8vIGNvbnNvbGUubG9nKCJidXNjYU1hdGVyaWFpcy5hcGlkYXRhOiIsIGFwaWRhdGEpOwogICAgICAgIGlmIChhcGlkYXRhLmRhdGEuU3VjY2VzcyA9PSAiVHJ1ZSIpIHsKICAgICAgICAgIGNvbnN0IHJlcyA9IEFQSS5wcmVwYXJlRGF0YShhcGlkYXRhLmRhdGEpOwogICAgICAgICAgY29uc29sZS5sb2coImJ1c2NhTWF0ZXJpYWlzLnJlczoiLCByZXMpOwogICAgICAgICAgaWYgKHJlcykgewogICAgICAgICAgICB0aGlzLm1hdGVyaWFpcy5kYXRhID0gcmVzLmFwaXJlc3BvbnNlLkRhdGE7CiAgICAgICAgICAgIHRoaXMuc2FsdmFEYXRhKCk7CiAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICB0aGlzLm1hdGVyaWFpcy5kYXRhID0gW107CiAgICAgICAgICB9CiAgICAgICAgfQogICAgICB9KTsKICAgIH0sCiAgICBvbk1hdGVyaWFpc0FkZENsaWNrKGl0ZW0pIHsKICAgICAgaWYgKEFycmF5LmlzQXJyYXkoaXRlbSkpIHsKICAgICAgICBpdGVtLm1hcChpdGVtID0+IGl0ZW0uUXRkZVNlcGFyYWRhID0gaXRlbS5RdGRlSXRlbSk7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgaXRlbS5RdGRlU2VwYXJhZGEgPSBpdGVtLlF0ZGVJdGVtOwogICAgICB9CiAgICB9LAogICAgZW52aWFNYXRlcmlhaXMoKSB7CiAgICAgIC8vIGNvbnNvbGUubG9nKCJlbnZpb01hdGVyaWFpcy5qc29uOiIsIHRoaXMuZW52aW9NYXRlcmlhaXMpOwogICAgICAvLyBjb25zb2xlLmxvZygiZW52aW9NYXRlcmlhaXMueG1sOiIsIHRoaXMuZW52aW9NYXRlcmlhaXNYTUwpOwoKICAgICAgQVBJLnBvc3QoIlByb2R1Y2FvL0xvdGVTZXRvcmVzL01hdGVyaWFpc1VwZGF0ZSIsIHsKICAgICAgICBpdGVtczogdGhpcy5lbnZpb01hdGVyaWFpc1hNTAogICAgICB9KS50aGVuKGFwaWRhdGEgPT4gewogICAgICAgIGNvbnN0IHJlcyA9IEFQSS5wcmVwYXJlRGF0YShhcGlkYXRhLmRhdGEpOwogICAgICAgIGlmIChyZXMpIHsKICAgICAgICAgIGNvbnNvbGUubG9nKCJlbnZpYU1hdGVyaWFpcy5NZW5zYWdlbToiLCByZXMpOwogICAgICAgICAgaWYgKHJlcy5kYXRhLk1lbnNhZ2VtLnN1YnN0cmluZygwLCAxKSA9PSAiMCIpIHsKICAgICAgICAgICAgdGhpcy4kcm9vdC50b2FzdHdhcm5pbmcocmVzLmRhdGEuTWVuc2FnZW0pOwogICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgdGhpcy4kcm9vdC50b2FzdHN1Y2Nlc3MocmVzLmRhdGEuTWVuc2FnZW0pOwogICAgICAgICAgfQogICAgICAgICAgLy8gYXR1YWxpemEgYXMgcXVhbnRpZGFkZXMKICAgICAgICAgIHRoaXMubWF0ZXJpYWlzLmRhdGEubWFwKG0gPT4gbS5Mb3Rlcy5tYXAobCA9PiBsLlF0ZGVTZXBhcmFkYU9yaWdpbmFsID0gbC5RdGRlU2VwYXJhZGEpKTsKICAgICAgICB9CiAgICAgIH0pLmNhdGNoKGUgPT4gewogICAgICAgIGNvbnNvbGUubG9nKCJlbnZpYU1hdGVyaWFpcy5FcnJvOiIsIGUpOwogICAgICB9KTsKICAgIH0sCiAgICBzYWx2YURhdGEoKSB7CiAgICAgIHZpZXdzdG9yZS5zZXREYXRhKHRoaXMuJGRhdGEpOwogICAgfSwKICAgIG9uU3RvY2tDbGljayhpdGVtKSB7CiAgICAgIHRoaXMuaXRlbnNhbG1veCA9IGl0ZW07CiAgICAgIHRoaXMuJHJlZnNbIm1vZGFsLW1hdGVyaWFpc1N0b2NrIl0uc2hvdygpOwogICAgfSwKICAgIGNhcnJlZ2FEYWRvcyhkYXRhKSB7CiAgICAgIHRoaXMuZGFkb3MgPSBkYXRhOwogICAgICB0aGlzLiRidk1vZGFsLnNob3coIm1vZGFsLWFycmF5Iik7CiAgICB9LAogICAgQWxtb3hhcmlmYWRvTW92aW1lbnRhY29lc3Nob3duKCkgewogICAgICBjb25zb2xlLmxvZygiQWxtb3hhcmlmYWRvTW92aW1lbnRhY29lc3Nob3duIiwgdGhpcy5pdGVuc2FsbW94KTsKICAgICAgdGhpcy4kcmVmcy5BbG1veGFyaWZhZG9Nb3ZpbWVudGFjb2VzLmVtcHJlc2EgPSB0aGlzLml0ZW5zYWxtb3guRW1wcmVzYTsKICAgICAgdGhpcy4kcmVmcy5BbG1veGFyaWZhZG9Nb3ZpbWVudGFjb2VzLmRlcG9zaXRvID0gdGhpcy5pdGVuc2FsbW94LkRlcG9zaXRvOwogICAgICB0aGlzLiRyZWZzLkFsbW94YXJpZmFkb01vdmltZW50YWNvZXMuYm94ID0gMDsKICAgICAgdGhpcy4kcmVmcy5BbG1veGFyaWZhZG9Nb3ZpbWVudGFjb2VzLm5pdmVsID0gMDsKICAgICAgLy8gdGhpcy4kcmVmcy5BbG1veGFyaWZhZG9Nb3ZpbWVudGFjb2VzLml0ZW5zID0gdGhpcy5pdGVtYnVzY2EuaXRlbTsKICAgICAgdGhpcy4kcmVmcy5BbG1veGFyaWZhZG9Nb3ZpbWVudGFjb2VzLml0ZW5zID0gW3RoaXMuaXRlbnNhbG1veC5JdGVtXTsKICAgICAgdGhpcy4kcmVmcy5BbG1veGFyaWZhZG9Nb3ZpbWVudGFjb2VzLml0ZW5zcmVxID0gW3sKICAgICAgICBpdGVtOiB0aGlzLml0ZW5zYWxtb3guSXRlbSwKICAgICAgICBxdGRlOiB0aGlzLml0ZW5zYWxtb3guUXRkZUl0ZW0sCiAgICAgICAgbG90ZTogdGhpcy5pdGVuc2FsbW94LkxvdGUKICAgICAgfV07CiAgICAgIHRoaXMuJHJlZnMuQWxtb3hhcmlmYWRvTW92aW1lbnRhY29lcy5idXNjYSgpOwogICAgfSwKICAgIEFsbW94YXJpZmFkb01vdmltZW50YWNvZXNoaWRkZW4oKSB7CiAgICAgIHRoaXMuYnVzY2FNYXRlcmlhaXMoKTsKICAgIH0KICB9LAogIGJlZm9yZU1vdW50KCkgewogICAgdGhpcy5hY3RQYXJlbXAoKTsKICAgIHZpZXdzdG9yZS5zeW5jRGF0YSh0aGlzLiRkYXRhKTsKICAgIC8vIGNvbnNvbGUubG9nKCJiZWZvcmVNb3VudC52aWV3c3RvcmU6IiwgT2JqZWN0LmtleXModmlld3N0b3JlKSk7CiAgICAvLyBjb25zb2xlLmxvZygiYmVmb3JlTW91bnQudmlld3N0b3JlLnVzZXJuYW1lOiIsIHZpZXdzdG9yZS51c2VybmFtZSk7CiAgfQp9Ow=="},{"version":3,"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAsWA;AACA;AACA;AACA;AACA;AACA;AAEA;EACAA;EAEAC;IACAC;IACAC;IACAC;EACA;EAEAC;IACA;MACAC;MACAC;MACAC;MACAC;MACAC;MACAC;MACAC;QACAC;QACAC;QACAC;QACAC;QACAC;QACAC;QACAC;QACAC;MACA;MACAC;MACAC;QACAC;QACAC;QACAC,SACA;UAAAC;UAAAC;UAAAC;UAAAC;QAAA,GACA;UACAH;UACAC;UACAC;UACAC;QACA,GACA;UAAAH;UAAAC;UAAAC;UAAAC;QAAA,GACA;UAAAH;UAAAC;UAAAC;UAAAC;QAAA,GACA;UAAAH;UAAAC;UAAAC;UAAAC;QAAA,GACA;UACAH;UACAC;UACAC;UACAC;QACA,GACA;UAAAH;UAAAC;UAAAC;UAAAC;QAAA,EACA;QACAlB,QACA;UAAAe;UAAAC;UAAAC;UAAAC;QAAA,GACA;UAAAH;UAAAC;UAAAC;UAAAC;QAAA,GACA;UAAAH;UAAAC;UAAAC;UAAAC;QAAA,GACA;UACAH;UACAC;UACAC;UACAC;QACA,GACA;UAAAH;UAAAC;UAAAC;UAAAC;QAAA,EACA;QACAC,UACA;UACAJ;UACAK;UACAC;UACAC;UACAC;QACA,EACA;QACAC;QACAC;UACA3B;UACAC;UACAC;UACA0B;UACAC;QACA;QACAjC;QACAkC;QACAC;MACA;IACA;EACA;EAEAC;IACA,eACA,cACA,iBACA,8BACA,8CACA,2CACA;IACAC;MACA;IACA;IACAC;MACA,qDACA,cACA,cACA;IACA;IACAC;MACA;QACAC;QACAC;QACAC;QACAT;MACA;IACA;IACAU;MACA;QACA,2BACAC,YACAC,+DACA,OACA,MACA,CACAC;UACA;YACAC;YACAC;YACAC;YACAhB;YACAiB;YACAC;YACAT,sBACAG;UAEA;QACA;MACA;QACA;UAAAO;QAAA;MACA;IACA;IACAC;MACA,OACA;QAAAD;MAAA;IAEA;IAEAE;MACA;QACAlC,SACA,QACA,aACA,MACA;UAAAC;UAAAC;QAAA,GACA;UAAAD;UAAAC;QAAA,GACA;UAAAD;UAAAC;QAAA,GACA,SACA,UACA;QACAtB;UACA;YACAwC;YACAC;YACAM;YACAC;YACAC;YACAE;YACAI;YACAb;UACA;QACA;MACA;IACA;IAEA;IACAc;MACA,OACA,oCACA,qCACA,mCACA;IAEA;IACAC;MACA;IACA;EACA;EAEAC;IACA;IACAC;MACAC;IACA;IACAC;MACAC,oEACAC;QACA;QACA;UACA;UACAH;UACA;YACA;YACA;UACA;YACA;UACA;QACA;MACA,EACA;IACA;IACAI;MACA;QACApD;MACA;QACAA;MACA;IACA;IACAqD;MACA;MACA;;MAEAH;QACAV;MACA,GACAc;QACA;QACA;UACAN;UACA;YACA;UACA;YACA;UACA;UACA;UACA,6BACAO,0DACA;QACA;MACA,GACAC;QACAR;MACA;IACA;IACAS;MACAC;IACA;IACAC;MACA;MAEA;IACA;IACAC;MACA;MACA;IACA;IACAC;MACAb;MACA;MACA;MACA;MACA;MACA;MACA;MACA,iDACA;QACAhD;QACA8D;QACAC;MACA,EACA;MAEA;IACA;IACAC;MACA;IACA;EACA;EAEAC;IACA;IACAP;IACA;IACA;EACA;AACA","names":["name","components","LotesProducao","GaiolasItensBusca","AlmoxarifadoMovimentacoes","data","tabIndex","dados","tiposeparacaoalmox","empresa","deposito","lotes","itembusca","codigo","endereco","emp","dep","item","quant","deleta","nivel","itensalmox","materiais","busy","run","fields","key","label","sortable","visible","buttons","icon","variant","size","tooltip","route","params","Refs","idTipoSeparacaoAlmox","selected","rowselected","computed","depositosList","separacaoList","paramMateriais","Empresa","Deposito","Lotes","envioMateriais","filter","l","map","Item","Descricao","QtdeItem","idTipoSeparacao","QtdeSeparada","items","envioMateriaisXML","materiaisBusca","SaldoItem","vMateriaisParam","vMateriaisEnvio","methods","addlotebusca","console","buscaMateriais","API","apidata","onMateriaisAddClick","enviaMateriais","then","m","catch","salvaData","viewstore","onStockClick","carregaDados","AlmoxarifadoMovimentacoesshown","qtde","lote","AlmoxarifadoMovimentacoeshidden","beforeMount"],"sourceRoot":"src/pages/almoxarifado/views","sources":["lotes2.vue"],"sourcesContent":["<template>\r\n  <div>\r\n    <b-card class=\"m-2\">\r\n      <b-row>\r\n        <b-col cols=\"12\" sm=\"4\">\r\n          <b-form-group label=\"Empresa\" label-for=\"select-empresa\">\r\n            <b-form-select\r\n              id=\"select-empresa\"\r\n              v-model=\"empresa\"\r\n              :options=\"gtxParempData\"\r\n            >\r\n            </b-form-select>\r\n          </b-form-group>\r\n        </b-col>\r\n\r\n        <b-col cols=\"12\" sm=\"4\">\r\n          <b-form-group label=\"Depósito\" label-for=\"select-deposito\">\r\n            <b-form-select\r\n              id=\"select-deposito\"\r\n              v-model=\"deposito\"\r\n              :options=\"depositosList\"\r\n            >\r\n            </b-form-select>\r\n          </b-form-group>\r\n        </b-col>\r\n\r\n        <b-col cols=\"12\" sm=\"4\">\r\n          <b-form-group label=\"Tipo Separação\" label-for=\"select-separacao\">\r\n            <b-form-select\r\n              id=\"select-separacao\"\r\n              v-model=\"tiposeparacaoalmox\"\r\n              :options=\"separacaoList\"\r\n            >\r\n            </b-form-select>\r\n          </b-form-group>\r\n        </b-col>\r\n      </b-row>\r\n\r\n      <b-form-group label=\"Lotes\" label-for=\"input-lotes\">\r\n        <b-input-group>\r\n          <b-form-tags\r\n            id=\"input-lotes\"\r\n            separator=\" ,;\"\r\n            placeholder=\"Informe os lotes\"\r\n            input-id=\"tags-basic\"\r\n            add-button-text=\"Adicionar\"\r\n            v-model=\"lotes\"\r\n          >\r\n          </b-form-tags>\r\n          <template #append>\r\n            <b-button v-b-modal.modal-lotes variant=\"success\">\r\n              <b-icon-search />\r\n            </b-button>\r\n          </template>\r\n        </b-input-group>\r\n      </b-form-group>\r\n\r\n      <div>\r\n        <b-button\r\n          variant=\"primary\"\r\n          class=\"mx-1 my-1\"\r\n          :disabled=\"vMateriaisParam\"\r\n          @click=\"buscaMateriais\"\r\n        >\r\n          Pesquisar\r\n        </b-button>\r\n      </div>\r\n\r\n      <!--\r\n      <hr />\r\n\r\n      <b-card no-body class=\"mt-2\">\r\n        <b-tabs content-class=\"mt-3\" v-model=\"tabIndex\" justified card>\r\n          <b-tab title=\"Busca Materiais Estoque\">\r\n            <b-table\r\n              small\r\n              striped\r\n              hover\r\n              foot-clone\r\n              no-footer-sorting\r\n              :fields=\"materiaisBusca.fields\"\r\n              :items=\"materiaisBusca.data\"\r\n            >\r\n              <template #cell(Lotes)=\"data\">\r\n                <span v-if=\"data.item.Lotes.length == 1\">\r\n                  {{ data.item.Lotes[0].lote }}\r\n                </span>\r\n                <span class=\"iconbutton\" v-else @click=\"data.toggleDetails\"\r\n                  >{{ data.item.Lotes.length }} Lotes\r\n                </span>\r\n              </template>\r\n\r\n              <template #cell(actions)=\"data\" class=\"float-right\">\r\n                <span\r\n                  title=\"Movimentação de estoque\"\r\n                  class=\"iconbutton\"\r\n                  @click=\"onMateriaisClick(data.item)\"\r\n                >\r\n                  <b-icon-cart-plus variant=\"primary\" />\r\n                </span>\r\n                <span\r\n                  title=\"Extrato de estoque\"\r\n                  class=\"iconbutton\"\r\n                  @click=\"onStockClick(data.item)\"\r\n                >\r\n                  <b-icon-archive variant=\"success\" />\r\n                </span>\r\n                <span\r\n                  title=\"Dados\"\r\n                  class=\"iconbutton\"\r\n                  @click=\"carregaDados(data.item)\"\r\n                >\r\n                  <b-icon-card-checklist variant=\"info\" />\r\n                </span>\r\n              </template>\r\n\r\n              <template #foot()=\"data\">\r\n                <span></span>\r\n              </template>\r\n              <template #foot(item)=\"data\">\r\n                <span>{{ materiais.data.length }} Registro(s)</span>\r\n              </template>\r\n            </b-table>\r\n          </b-tab>\r\n          <b-tab title=\"Separação de Materiais\">\r\n            <div class=\"text-right\">\r\n              <b-button\r\n                variant=\"success\"\r\n                class=\"mx-1 my-1 mb-3\"\r\n                :disabled=\"vMateriaisEnvio\"\r\n                @click=\"enviaMateriais\"\r\n              >\r\n                Salvar\r\n              </b-button>\r\n            </div>\r\n-->\r\n      <b-table\r\n        small\r\n        striped\r\n        hover\r\n        foot-clone\r\n        no-footer-sorting\r\n        :fields=\"materiais.fields\"\r\n        :items=\"materiais.data\"\r\n      >\r\n        <template #cell(actions)=\"data\" class=\"float-right\">\r\n          <!--\r\n                <span\r\n                  title=\"Adicionar quantidade\"\r\n                  class=\"iconbutton\"\r\n                  @click=\"onMateriaisAddClick(data.item.Lotes)\"\r\n                >\r\n                  <b-icon-plus variant=\"success\" />\r\n                </span>\r\n              -->\r\n          <span\r\n            title=\"Ver lotes\"\r\n            v-if=\"data.item.Lotes.length > 1\"\r\n            class=\"iconbutton\"\r\n            @click=\"data.toggleDetails\"\r\n          >\r\n            <b-icon-caret-up variant=\"danger\" v-if=\"data.detailsShowing\" />\r\n            <b-icon-caret-down variant=\"danger\" v-else />\r\n          </span>\r\n          <!--\r\n                <span\r\n                  v-if=\"sysdevmode\"\r\n                  title=\"Movimentação de estoque\"\r\n                  class=\"iconbutton\"\r\n                  @click=\"onMateriaisClick(data.item)\"\r\n                >\r\n                  <b-icon-cart-plus variant=\"primary\" />\r\n                </span>\r\n                -->\r\n          <span\r\n            v-if=\"data.item.Lotes.length == 1\"\r\n            title=\"Movimentar estoque\"\r\n            class=\"iconbutton\"\r\n            @click=\"onStockClick(data.item)\"\r\n          >\r\n            <b-icon-archive variant=\"success\" />\r\n          </span>\r\n          <!--\r\n                <span\r\n                  v-if=\"sysdevmode\"\r\n                  title=\"Dados\"\r\n                  class=\"iconbutton\"\r\n                  @click=\"carregaDados(data.item)\"\r\n                >\r\n                  <b-icon-card-checklist variant=\"info\" />\r\n                </span>\r\n                -->\r\n        </template>\r\n        <template #cell(Lotes)=\"data\">\r\n          <span v-if=\"data.item.Lotes.length == 1\">\r\n            {{ data.item.Lotes[0].lote }}\r\n          </span>\r\n          <span class=\"iconbutton\" v-else @click=\"data.toggleDetails\"\r\n            >{{ data.item.Lotes.length }} Lotes\r\n          </span>\r\n        </template>\r\n\r\n        <template #cell(QtdeSeparada)=\"data\">\r\n          <b-form-input\r\n            type=\"number\"\r\n            v-model=\"data.item.Lotes[0].QtdeSeparada\"\r\n            style=\"width: 10rem\"\r\n            v-if=\"data.item.Lotes.length == 1\"\r\n          />\r\n          <span v-else>\r\n            {{\r\n              data.item.Lotes.reduce(\r\n                (a, b) => parseFloat(a) + parseFloat(b.QtdeSeparada),\r\n                0\r\n              ) | decimals(6)\r\n            }}\r\n          </span>\r\n        </template>\r\n\r\n        <template #row-details=\"row\">\r\n          <b-card class=\"bg-light\">\r\n            <b-table :fields=\"materiais.lotes\" :items=\"row.item.Lotes\">\r\n              <template #cell(QtdeSeparada)=\"data\">\r\n                <b-form-input\r\n                  type=\"number\"\r\n                  v-model=\"data.item.QtdeSeparada\"\r\n                  style=\"width: 10rem\"\r\n                />\r\n              </template>\r\n              <template #cell(actions)=\"data\" class=\"text-center\">\r\n                <!--\r\n                      <span\r\n                        class=\"iconbutton\"\r\n                        @click=\"onMateriaisAddClick(data.item)\"\r\n                      >\r\n                        <b-icon-plus variant=\"success\" />\r\n                      </span>\r\n                      <span\r\n                        class=\"iconbutton\"\r\n                        @click=\"onMateriaisClick(data.item)\"\r\n                      >\r\n                        <b-icon-cart-plus variant=\"primary\" />\r\n                      </span>\r\n                      -->\r\n                <span\r\n                  title=\"Movimentar estoque\"\r\n                  class=\"iconbutton\"\r\n                  @click=\"onStockClick(data.item)\"\r\n                >\r\n                  <b-icon-archive variant=\"success\" />\r\n                </span>\r\n                <!--\r\n                      <span class=\"iconbutton\" @click=\"carregaDados(data.item)\">\r\n                        <b-icon-card-checklist variant=\"info\" />\r\n                      </span>\r\n                      -->\r\n              </template>\r\n            </b-table>\r\n          </b-card>\r\n        </template>\r\n        <template #foot()=\"data\">\r\n          <span></span>\r\n        </template>\r\n        <template #foot(item)=\"data\">\r\n          <span>{{ materiais.data.length }} Registro(s)</span>\r\n        </template>\r\n      </b-table>\r\n      <!--\r\n          </b-tab>\r\n        </b-tabs>\r\n      </b-card>\r\n-->\r\n    </b-card>\r\n\r\n    <div>\r\n      <json-viewer\r\n        :value=\"itensalmox\"\r\n        :expand-depth=\"5\"\r\n        v-if=\"sysdevmode\"\r\n        copyable\r\n        boxed\r\n        sort\r\n      >\r\n      </json-viewer>\r\n    </div>\r\n\r\n    <!-- MODAIS -->\r\n    <b-modal\r\n      ok-only\r\n      id=\"modal-lotes\"\r\n      ref=\"modal-lotes\"\r\n      size=\"md\"\r\n      scrollable\r\n      title=\"Busca Lotes\"\r\n      ok-title=\"Adicionar\"\r\n      @ok=\"addlotebusca\"\r\n    >\r\n      <LotesProducao />\r\n    </b-modal>\r\n\r\n    <b-modal\r\n      id=\"modal-materiaisStock\"\r\n      ref=\"modal-materiaisStock\"\r\n      title=\"Movimentação de estoque\"\r\n      variant=\"dark\"\r\n      size=\"xl\"\r\n      hide-footer\r\n      centered\r\n      @shown=\"AlmoxarifadoMovimentacoesshown\"\r\n      @hidden=\"AlmoxarifadoMovimentacoeshidden\"\r\n    >\r\n      <!-- <GaiolasItensBusca :value=\"itembusca\" /> -->\r\n      <!--:value=\"itembusca\"-->\r\n      <!--@etv-gaiolasitensupdate=\"evtGaiolasItensUpdate\"/>-->\r\n      <AlmoxarifadoMovimentacoes ref=\"AlmoxarifadoMovimentacoes\" />\r\n    </b-modal>\r\n\r\n    <b-modal\r\n      id=\"modal-array\"\r\n      ref=\"modal-array\"\r\n      title=\"Dados\"\r\n      size=\"xl\"\r\n      variant=\"dark\"\r\n      hide-footer\r\n      centered\r\n    >\r\n      dados:\r\n      <pre>{{ dados }}</pre>\r\n    </b-modal>\r\n\r\n    <div v-if=\"sysdevmode\">\r\n      envioMateriais:\r\n      <pre>{{ envioMateriais }}</pre>\r\n      <br />\r\n      itembusca:\r\n      <pre>{{ itembusca }}</pre>\r\n      <br />\r\n      materiais.data: {{ materiais.data }} <br />\r\n      <!--\r\n      :ok-disabled=\"itembusca == ''\"\r\n    <br />\r\n    paramMateriais: {{ paramMateriais }} <br />\r\n    empresa: {{ empresa }} <br />\r\n    deposito: {{ deposito }} <br />\r\n    <div>\r\n      lotes:\r\n      <pre>\r\n        {{ lotes }}\r\n      </pre>\r\n      materiais:\r\n      <pre>\r\n        {{ materiais }}\r\n      </pre>\r\n    --></div>\r\n    <!--<div v-if=\"sysdevmode\">-->\r\n  </div>\r\n</template>\r\n<script>\r\nimport { mapGetters, mapActions } from \"vuex\";\r\nimport LotesProducao from \"../components/LotesProducao\";\r\nimport GaiolasItensBusca from \"../components/GaiolasItensBusca\";\r\nimport AlmoxarifadoMovimentacoes from \"../../almoxarifado/views/AlmoxarifadoMovimentacoes\";\r\nimport viewstore from \"../../../services/viewstore.js\";\r\nimport API from \"../../../services/api.service.js\";\r\n\r\nexport default {\r\n  name: \"Lotes2\",\r\n\r\n  components: {\r\n    LotesProducao,\r\n    GaiolasItensBusca,\r\n    AlmoxarifadoMovimentacoes,\r\n  },\r\n\r\n  data() {\r\n    return {\r\n      tabIndex: 1,\r\n      dados: [],\r\n      tiposeparacaoalmox: 0,\r\n      empresa: 8,\r\n      deposito: 37,\r\n      lotes: [],\r\n      itembusca: {\r\n        codigo: 0,\r\n        endereco: 0,\r\n        emp: parseInt(this.empresa),\r\n        dep: parseInt(this.deposito),\r\n        item: [],\r\n        quant: 0,\r\n        deleta: 0,\r\n        nivel: 1,\r\n      },\r\n      itensalmox: {},\r\n      materiais: {\r\n        busy: false,\r\n        run: 0,\r\n        fields: [\r\n          { key: \"Item\", label: \"Item\", sortable: true, visible: true },\r\n          {\r\n            key: \"Descricao\",\r\n            label: \"Descrição\",\r\n            sortable: true,\r\n            visible: true,\r\n          },\r\n          { key: \"UN\", label: \"UN\", sortable: true, visible: true },\r\n          { key: \"Lotes\", label: \"Lotes\", sortable: true, visible: true },\r\n          { key: \"QtdeItem\", label: \"Qtde\", sortable: true, visible: true },\r\n          {\r\n            key: \"QtdeSeparada\",\r\n            label: \"Qtde Separada\",\r\n            sortable: true,\r\n            visible: true,\r\n          },\r\n          { key: \"Actions\", label: \"Actions\", sortable: false, visible: true },\r\n        ],\r\n        lotes: [\r\n          { key: \"Item\", label: \"Item\", sortable: true, visible: true },\r\n          { key: \"lote\", label: \"Lote\", sortable: true, visible: true },\r\n          { key: \"QtdeItem\", label: \"Qtde\", sortable: true, visible: true },\r\n          {\r\n            key: \"QtdeSeparada\",\r\n            label: \"Qtde Separada\",\r\n            sortable: true,\r\n            visible: true,\r\n          },\r\n          { key: \"Actions\", label: \"Actions\", sortable: false, visible: true },\r\n        ],\r\n        buttons: [\r\n          {\r\n            key: \"ende\",\r\n            icon: \"signpost-split\",\r\n            variant: \"warning\",\r\n            size: \"sm\",\r\n            tooltip: \"Endereços\",\r\n          },\r\n        ],\r\n        route: \"Producao/LoteSetores/Materiais\",\r\n        params: {\r\n          empresa: \"8\",\r\n          deposito: \"37\",\r\n          lotes: this.lotesplit,\r\n          Refs: \"\",\r\n          idTipoSeparacaoAlmox: null,\r\n        },\r\n        data: [],\r\n        selected: {},\r\n        rowselected: [],\r\n      },\r\n    };\r\n  },\r\n\r\n  computed: {\r\n    ...mapGetters([\r\n      \"sysdevmode\",\r\n      \"gtxParempData\",\r\n      \"gtxParempDataAlmoxarifados\",\r\n      \"gtxTiposeparacaoalmoxDataByEmpresaDeposito\",\r\n      \"gtxParempDataAlmoxarifadosTiposseparacao\",\r\n    ]),\r\n    depositosList() {\r\n      return this.gtxParempDataAlmoxarifados(this.empresa);\r\n    },\r\n    separacaoList() {\r\n      return this.gtxParempDataAlmoxarifadosTiposseparacao(\r\n        this.empresa,\r\n        this.deposito\r\n      ).sort();\r\n    },\r\n    paramMateriais() {\r\n      return {\r\n        Empresa: this.empresa,\r\n        Deposito: this.deposito,\r\n        Lotes: this.lotes.join(\";\"),\r\n        idTipoSeparacaoAlmox: this.tiposeparacaoalmox,\r\n      };\r\n    },\r\n    envioMateriais() {\r\n      if (this.materiais.data.length > 0) {\r\n        return this.materiais.data\r\n          .filter((l) =>\r\n            l.Lotes.find((f) => f.QtdeSeparada !== f.QtdeSeparadaOriginal)\r\n              ? true\r\n              : false\r\n          )\r\n          .map((d) => {\r\n            return {\r\n              Item: d.Item,\r\n              Descricao: d.Descricao,\r\n              QtdeItem: d.QtdeItem,\r\n              idTipoSeparacaoAlmox: d.idTipoSeparacaoAlmox,\r\n              idTipoSeparacao: d.idTipoSeparacao,\r\n              QtdeSeparada: d.QtdeSeparada,\r\n              Lotes: d.Lotes.filter(\r\n                (l) => l.QtdeSeparada !== l.QtdeSeparadaOriginal\r\n              ),\r\n            };\r\n          });\r\n      } else {\r\n        return { items: \"\" };\r\n      }\r\n    },\r\n    envioMateriaisXML() {\r\n      return (\r\n        \"<root>\" + this.$root.getXML({ items: this.envioMateriais }) + \"</root>\"\r\n      );\r\n    },\r\n\r\n    materiaisBusca() {\r\n      return {\r\n        fields: [\r\n          \"Item\",\r\n          \"Descricao\",\r\n          \"UN\",\r\n          { key: \"QtdeItem\", label: \"Qtde\" },\r\n          { key: \"QtdeSeparada\", label: \"Separação\" },\r\n          { key: \"SaldoItem\", label: \"Saldo\" },\r\n          \"Lotes\",\r\n          \"actions\",\r\n        ],\r\n        data: this.materiais.data.map((m) => {\r\n          return {\r\n            Empresa: m.Empresa,\r\n            Deposito: m.Deposito,\r\n            Item: m.Item,\r\n            Descricao: m.Descricao,\r\n            QtdeItem: m.QtdeItem,\r\n            QtdeSeparada: m.QtdeSeparada,\r\n            SaldoItem: m.QtdeItem - m.QtdeSeparada,\r\n            Lotes: m.Lotes,\r\n          };\r\n        }),\r\n      };\r\n    },\r\n\r\n    // validações ...\r\n    vMateriaisParam() {\r\n      return (\r\n        this.paramMateriais.Empresa == 0 ||\r\n        this.paramMateriais.Deposito == 0 ||\r\n        this.paramMateriais.Lotes == \"\" ||\r\n        this.paramMateriais.idTipoSeparacaoAlmox == null\r\n      );\r\n    },\r\n    vMateriaisEnvio() {\r\n      return this.envioMateriais.length == 0;\r\n    },\r\n  },\r\n\r\n  methods: {\r\n    ...mapActions([\"actParemp\"]),\r\n    addlotebusca(lotes) {\r\n      console.log(\"addlotebusca:\", lotes);\r\n    },\r\n    buscaMateriais() {\r\n      API.get(\"Producao/LoteSetores/Materiais\", this.paramMateriais).then(\r\n        (apidata) => {\r\n          // console.log(\"buscaMateriais.apidata:\", apidata);\r\n          if (apidata.data.Success == \"True\") {\r\n            const res = API.prepareData(apidata.data);\r\n            console.log(\"buscaMateriais.res:\", res);\r\n            if (res) {\r\n              this.materiais.data = res.apiresponse.Data;\r\n              this.salvaData();\r\n            } else {\r\n              this.materiais.data = [];\r\n            }\r\n          }\r\n        }\r\n      );\r\n    },\r\n    onMateriaisAddClick(item) {\r\n      if (Array.isArray(item)) {\r\n        item.map((item) => (item.QtdeSeparada = item.QtdeItem));\r\n      } else {\r\n        item.QtdeSeparada = item.QtdeItem;\r\n      }\r\n    },\r\n    enviaMateriais() {\r\n      // console.log(\"envioMateriais.json:\", this.envioMateriais);\r\n      // console.log(\"envioMateriais.xml:\", this.envioMateriaisXML);\r\n\r\n      API.post(\"Producao/LoteSetores/MateriaisUpdate\", {\r\n        items: this.envioMateriaisXML,\r\n      })\r\n        .then((apidata) => {\r\n          const res = API.prepareData(apidata.data);\r\n          if (res) {\r\n            console.log(\"enviaMateriais.Mensagem:\", res);\r\n            if (res.data.Mensagem.substring(0, 1) == \"0\") {\r\n              this.$root.toastwarning(res.data.Mensagem);\r\n            } else {\r\n              this.$root.toastsuccess(res.data.Mensagem);\r\n            }\r\n            // atualiza as quantidades\r\n            this.materiais.data.map((m) =>\r\n              m.Lotes.map((l) => (l.QtdeSeparadaOriginal = l.QtdeSeparada))\r\n            );\r\n          }\r\n        })\r\n        .catch((e) => {\r\n          console.log(\"enviaMateriais.Erro:\", e);\r\n        });\r\n    },\r\n    salvaData() {\r\n      viewstore.setData(this.$data);\r\n    },\r\n    onStockClick(item) {\r\n      this.itensalmox = item;\r\n\r\n      this.$refs[\"modal-materiaisStock\"].show();\r\n    },\r\n    carregaDados(data) {\r\n      this.dados = data;\r\n      this.$bvModal.show(\"modal-array\");\r\n    },\r\n    AlmoxarifadoMovimentacoesshown() {\r\n      console.log(\"AlmoxarifadoMovimentacoesshown\", this.itensalmox);\r\n      this.$refs.AlmoxarifadoMovimentacoes.empresa = this.itensalmox.Empresa;\r\n      this.$refs.AlmoxarifadoMovimentacoes.deposito = this.itensalmox.Deposito;\r\n      this.$refs.AlmoxarifadoMovimentacoes.box = 0;\r\n      this.$refs.AlmoxarifadoMovimentacoes.nivel = 0;\r\n      // this.$refs.AlmoxarifadoMovimentacoes.itens = this.itembusca.item;\r\n      this.$refs.AlmoxarifadoMovimentacoes.itens = [this.itensalmox.Item];\r\n      this.$refs.AlmoxarifadoMovimentacoes.itensreq = [\r\n        {\r\n          item: this.itensalmox.Item,\r\n          qtde: this.itensalmox.QtdeItem,\r\n          lote: this.itensalmox.Lote,\r\n        },\r\n      ];\r\n\r\n      this.$refs.AlmoxarifadoMovimentacoes.busca();\r\n    },\r\n    AlmoxarifadoMovimentacoeshidden() {\r\n      this.buscaMateriais();\r\n    },\r\n  },\r\n\r\n  beforeMount() {\r\n    this.actParemp();\r\n    viewstore.syncData(this.$data);\r\n    // console.log(\"beforeMount.viewstore:\", Object.keys(viewstore));\r\n    // console.log(\"beforeMount.viewstore.username:\", viewstore.username);\r\n  },\r\n};\r\n</script>\r\n\r\n<style scoped>\r\n@media (max-width: 600px) {\r\n  .hidecolumn {\r\n    display: none;\r\n  }\r\n}\r\n</style>\r\n"]}]}