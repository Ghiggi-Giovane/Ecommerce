{"remainingRequest":"C:\\k1-services\\node_modules\\babel-loader\\lib\\index.js!C:\\k1-services\\node_modules\\cache-loader\\dist\\cjs.js??ref--1-0!C:\\k1-services\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\k1-services\\src\\components\\ColetaEAN.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\k1-services\\src\\components\\ColetaEAN.vue","mtime":1670977910583},{"path":"C:\\k1-services\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1670977934221},{"path":"C:\\k1-services\\node_modules\\babel-loader\\lib\\index.js","mtime":1670977935138},{"path":"C:\\k1-services\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1670977934221},{"path":"C:\\k1-services\\node_modules\\vue-loader\\lib\\index.js","mtime":1670977935327}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KaW1wb3J0IHsgbWFwQWN0aW9ucywgbWFwR2V0dGVycyB9IGZyb20gInZ1ZXgiOwppbXBvcnQgeG1sanMgZnJvbSAieG1sLWpzIjsKaW1wb3J0IEFjY29yZGlvbkNvbnN1bHRhcyBmcm9tICIuLi9wYWdlcy9jb25zdWx0YS9jb21wb25lbnRzL0FjY29yZGlvbkNvbnN1bHRhcy52dWUiOwppbXBvcnQgQmFyY29kZUNvbmZpZyBmcm9tICIuLi9wYWdlcy9jb2xldGEvY29tcG9uZW50cy9CYXJjb2RlQ29uZmlnIjsKaW1wb3J0IEJhcmNvZGVTY2FubmVyIGZyb20gIi4vQmFyY29kZVNjYW5uZXIiOwpleHBvcnQgZGVmYXVsdCB7CiAgY29tcG9uZW50czogewogICAgQWNjb3JkaW9uQ29uc3VsdGFzLAogICAgQmFyY29kZUNvbmZpZywKICAgIEJhcmNvZGVTY2FubmVyCiAgfSwKICBuYW1lOiAiQ29sZXRhRUFOIiwKICBwcm9wczogewogICAgLy8gZWFuczogW10sIC8vIHYtbW9kZWwgcGFyYSByZXRvcm5hciBhcyBjb2xldGFzIC4uLgogICAgZGlzYWJsZWVudmlvOiB7CiAgICAgIHR5cGU6IEJvb2xlYW4sCgogICAgICBkZWZhdWx0KCkgewogICAgICAgIHJldHVybiBmYWxzZTsKICAgICAgfQoKICAgIH0sCiAgICBlYW4xMjg6IHsKICAgICAgdHlwZTogQXJyYXksCgogICAgICBkZWZhdWx0KCkgewogICAgICAgIHJldHVybiBbewogICAgICAgICAgZmllbGQ6ICJsb3RlIiwKICAgICAgICAgIHRhbWFuaG86IDYKICAgICAgICB9LCAvLyBOdW1lcm8gZG8gbG90ZSBkIHByb2R1Y2FvCiAgICAgICAgewogICAgICAgICAgZmllbGQ6ICJzZXEiLAogICAgICAgICAgdGFtYW5obzogNQogICAgICAgIH0sIC8vIHNlcXVlbmNpYWwgZG8gbG90ZQogICAgICAgIHsKICAgICAgICAgIGZpZWxkOiAiZW1wIiwKICAgICAgICAgIHRhbWFuaG86IDIKICAgICAgICB9IC8vIGVtcHJlc2EgcXVlIHByb2R1eml1IG8gbG90ZQogICAgICAgIF07CiAgICAgIH0KCiAgICB9LAogICAgZWFuZmllbGRzOiB7CiAgICAgIHR5cGU6IEFycmF5LAoKICAgICAgZGVmYXVsdCgpIHsKICAgICAgICByZXR1cm4gW3sKICAgICAgICAgIGtleTogImxvdGUiLAogICAgICAgICAgbGFiZWw6ICJMb3RlIiwKICAgICAgICAgIHNvcnRhYmxlOiB0cnVlCiAgICAgICAgfSwgewogICAgICAgICAga2V5OiAic2VxIiwKICAgICAgICAgIGxhYmVsOiAiU2VxIiwKICAgICAgICAgIHNvcnRhYmxlOiB0cnVlCiAgICAgICAgfSwgewogICAgICAgICAga2V5OiAidm9sdW1lcyIsCiAgICAgICAgICBsYWJlbDogIlZvbHVtZXMiLAogICAgICAgICAgc29ydGFibGU6IHRydWUKICAgICAgICB9LCB7CiAgICAgICAgICBrZXk6ICJhY3Rpb25zIiwKICAgICAgICAgIGxhYmVsOiAiIgogICAgICAgIH1dOwogICAgICB9CgogICAgfSwKICAgIGhpc3RmaWVsZHM6IHsKICAgICAgdHlwZTogQXJyYXksCgogICAgICBkZWZhdWx0KCkgewogICAgICAgIHJldHVybiBbewogICAgICAgICAga2V5OiAibG90ZSIsCiAgICAgICAgICBsYWJlbDogIkxvdGUiLAogICAgICAgICAgc29ydGFibGU6IHRydWUKICAgICAgICB9LCB7CiAgICAgICAgICBrZXk6ICJzZXEiLAogICAgICAgICAgbGFiZWw6ICJTZXEiLAogICAgICAgICAgc29ydGFibGU6IHRydWUKICAgICAgICB9LCB7CiAgICAgICAgICBrZXk6ICJ2b2x1bWVzIiwKICAgICAgICAgIGxhYmVsOiAiVm9sdW1lcyIsCiAgICAgICAgICBzb3J0YWJsZTogdHJ1ZQogICAgICAgIH0sIHsKICAgICAgICAgIGtleTogImFjdGlvbnMiLAogICAgICAgICAgbGFiZWw6ICIiCiAgICAgICAgfV07CiAgICAgIH0KCiAgICB9LAogICAgY3VzdG9tUGFnZXM6IHsKICAgICAgdHlwZTogQXJyYXksCgogICAgICBkZWZhdWx0KCkgewogICAgICAgIHJldHVybiBbXTsKICAgICAgfQoKICAgIH0KICB9LAoKICBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgZm9jdXNlZDogdHJ1ZSwKICAgICAgYWxlcnQ6IHsKICAgICAgICBzaG93OiBmYWxzZSwKICAgICAgICBtZXNzYWdlOiAiIiwKICAgICAgICB2YXJpYW50OiAic3VjY2VzcyIKICAgICAgfSwKICAgICAgdGFiSW5kZXg6IDAsCiAgICAgIHNob3dpbnB1dDogZmFsc2UsCiAgICAgIHNob3diYXJjb2RlOiBmYWxzZSwKICAgICAgbGFzdGVhbjogIiIsCiAgICAgIGVhbjogIiIsCiAgICAgIGNvbGV0YXM6IFtdLAogICAgICBsYXN0Y29sZXRhczogW10sCiAgICAgIHJlbmFtZTogewogICAgICAgIHZhbHVlOiAiIiwKICAgICAgICBzaG93OiBmYWxzZSwKICAgICAgICB0eXBlOiAidGV4dCIsCiAgICAgICAgbGFiZWw6ICJOb3ZvIG5vbWUiLAogICAgICAgIHRpdGxlOiAiUmVub21lYXIiLAogICAgICAgIHBsYWNlaG9sZGVyOiAiSW5mb3JtZSBvIG5vdm8gbm9tZSIKICAgICAgfSwKICAgICAgcmVuYW1laGlzdDogW10KICAgIH07CiAgfSwKCiAgY29tcHV0ZWQ6IHsgLi4ubWFwR2V0dGVycyhbImd0eGVhbnMiLCAiZ3R4ZWFuc3JlYWRzIiwgImd0eGVhbnNsaWRvcyIsICJndHhlYW5zMTI4cmVhZHMiLCAiZ3R4ZWFuc2hpc3QiLCAiZ3R4ZWFuc2hpc3RsaWRvcyJdKSwKCiAgICB0aXBvY29sZXRhKCkgewogICAgICByZXR1cm4gdGhpcy5zaG93aW5wdXQgPyAiQ29sZXRhIGNvbSBMZWl0b3IiIDogIkNvbGV0YSBNYW51YWwiOwogICAgfSwKCiAgICBlYW5zY29sZXRhZG9zKCkgewogICAgICByZXR1cm4gdGhpcy5ndHhlYW5zMTI4cmVhZHMubGVuZ3RoOwogICAgfSwKCiAgICBlYW5zbGFzdGNvbGV0YXMoKSB7CiAgICAgIHJldHVybiB0aGlzLmxhc3Rjb2xldGFzLmxlbmd0aDsKICAgIH0sCgogICAgLy9jb2xldGFzdGFibGUoKSB7IHJldHVybiB0aGlzLmNvbGV0YXMubWFwKGUgPT4ge3JldHVybiB7ZWFuOiBlfX0pIH0sCiAgICBjb2xldGFzdGFibGUoKSB7CiAgICAgIHJldHVybiB0aGlzLmd0eGVhbnMubWFwKGUgPT4gewogICAgICAgIHJldHVybiB7CiAgICAgICAgICBlYW46IGUKICAgICAgICB9OwogICAgICB9KTsKICAgIH0sCgogICAgbG9zdGZvY3VzKCkgewogICAgICByZXR1cm4gIXRoaXMuZm9jdXNlZCA/ICJkYW5nZXIiIDogImxpZ2h0IjsKICAgIH0KCiAgfSwKCiAgY3JlYXRlZCgpIHsKICAgIHRoaXMubGlzdGVuQ29sZXRhKHRydWUpOwogICAgdGhpcy5saXN0ZW5Gb2N1c2VkKHRydWUpOwogICAgdGhpcy5zZXRJbnRlcnZhbCgzMDAwKTsKICB9LAoKICBiZWZvcmVEZXN0cm95KCkgewogICAgdGhpcy5saXN0ZW5Db2xldGEoZmFsc2UpOwogICAgdGhpcy5saXN0ZW5Gb2N1c2VkKGZhbHNlKTsKICAgIHRoaXMuc2V0SW50ZXJ2YWwoMCk7CiAgfSwKCiAgbWV0aG9kczogeyAuLi5tYXBBY3Rpb25zKFsiYWN0ZWFucyIsICJhY3RlYW5zY2xlYXIiLCAiYWN0ZWFuc2RlbGV0ZWJ5ZWFuIiwgImFjdGVhbnNzYXZlIiwgImFjdGVhbnNoaXN0Y2xlYXIiLCAiYWN0ZWFuc2hpc3RkZWxldGVieWVhbiJdKSwKCiAgICBvbkRlY29kZShyZXN1bHQpIHsKICAgICAgY29uc29sZS5sb2coIm9uRGVjb2RlOiIsIHJlc3VsdCk7CiAgICB9LAoKICAgIGRvaW5wdXQoKSB7CiAgICAgIHRoaXMuc2hvd2lucHV0ID0gIXRoaXMuc2hvd2lucHV0OwogICAgICB0aGlzLmxpc3RlbkNvbGV0YShmYWxzZSk7CiAgICB9LAoKICAgIGRvYmFyY29kZSgpIHsKICAgICAgdGhpcy5zaG93YmFyY29kZSA9ICF0aGlzLnNob3diYXJjb2RlOyAvLyB0aGlzLmxpc3RlbkNvbGV0YShmYWxzZSk7CiAgICB9LAoKICAgIHNldEludGVydmFsKHRlbXBvKSB7CiAgICAgIHNldEludGVydmFsKGZ1bmN0aW9uICgpIHsKICAgICAgICB0aGlzLmFsZXJ0LnNob3cgPSBmYWxzZTsKICAgICAgfS5iaW5kKHRoaXMpLCB0ZW1wbyk7CiAgICB9LAoKICAgIGxpc3RlbkZvY3VzZWQoc2ltKSB7CiAgICAgIGlmIChzaW0pIHsKICAgICAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcigiZm9jdXMiLCAoKSA9PiB0aGlzLmZvY3VzZWQgPSB0cnVlKTsKICAgICAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcigiYmx1ciIsICgpID0+IHRoaXMuZm9jdXNlZCA9IGZhbHNlKTsKICAgICAgfSBlbHNlIHsKICAgICAgICB3aW5kb3cucmVtb3ZlRXZlbnRMaXN0ZW5lcigiZm9jdXMiLCAoKSA9PiB0aGlzLmZvY3VzZWQgPSB0cnVlKTsKICAgICAgICB3aW5kb3cucmVtb3ZlRXZlbnRMaXN0ZW5lcigiYmx1ciIsICgpID0+IHRoaXMuZm9jdXNlZCA9IGZhbHNlKTsKICAgICAgfQogICAgfSwKCiAgICBsaXN0ZW5Db2xldGEoc2ltKSB7CiAgICAgIGlmIChzaW0pIHsKICAgICAgICBjb25zb2xlLmxvZygiQ29sZXRvci5saXN0ZW5Db2xldGE6IiwgInNpbSIpOwogICAgICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCJrZXl1cCIsIHRoaXMubGlzdGVuS2V5ZG93bik7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgY29uc29sZS5sb2coIkNvbGV0b3IubGlzdGVuQ29sZXRhOiIsICJuw6NvIik7CiAgICAgICAgd2luZG93LnJlbW92ZUV2ZW50TGlzdGVuZXIoImtleXVwIiwgdGhpcy5saXN0ZW5LZXlkb3duKTsKICAgICAgfQogICAgfSwKCiAgICBsaXN0ZW5LZXlkb3duKGUpIHsKICAgICAgLy8gY29uc29sZS5sb2coJ2FkZEV2ZW50TGlzdGVuZXI6OmtleWRvd246aGl0JywgZSkKICAgICAgaWYgKGUua2V5ID4gLTEgJiYgZS5rZXkgPCAxMCkgewogICAgICAgIHRoaXMuZWFuICs9IGUua2V5OwogICAgICAgIGUucHJldmVudERlZmF1bHQoKTsgLy8gY29uc29sZS5sb2coJ2VhbjogJyx0aGlzLmVhbikKICAgICAgfQoKICAgICAgaWYgKGUua2V5ID09ICJCYWNrc3BhY2UiKSB7CiAgICAgICAgdGhpcy5lYW4gPSB0aGlzLmVhbi5zdWJzdHIoMCwgdGhpcy5lYW4ubGVuZ3RoIC0gMSk7CiAgICAgICAgdGhpcy5sYXN0ZWFuID0gdGhpcy5lYW47CiAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpOwogICAgICB9CgogICAgICBpZiAoZS5rZXkgPT0gIkRlbGV0ZSIpIHsKICAgICAgICB0aGlzLmVhbiA9IHRoaXMuZWFuLnN1YnN0cigxKTsKICAgICAgICB0aGlzLmxhc3RlYW4gPSB0aGlzLmVhbjsKICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7CiAgICAgIH0KCiAgICAgIGlmIChlLmtleSA9PSAiRW50ZXIiICYmIHRoaXMuZWFuLmxlbmd0aCA+IDApIHsKICAgICAgICB0aGlzLmRvY29sZXRhcih0aGlzLmVhbik7CiAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpOwogICAgICB9CiAgICB9LAoKICAgIGRvY29sZXRhcihlYW4pIHsKICAgICAgLy8gY29uc29sZS5sb2coJ2RvY29sZXRhcjonLCBlYW4pCiAgICAgIGlmICghZWFuLmluY2x1ZGVzKCJcbiIpKSBlYW4gKz0gIlxuIjsKICAgICAgdGhpcy5jb2xldGFyKGVhbik7CiAgICB9LAoKICAgIGNvbGV0YXIoZWFuKSB7CiAgICAgIC8vIGNvbnNvbGUubG9nKCdjb2xldGFyOicsIGVhbikKICAgICAgdGhpcy50YWJJbmRleCA9IDA7CiAgICAgIHRoaXMuYWN0ZWFucyhlYW4pOwogICAgICBpZiAoZWFuLmluY2x1ZGVzKCJcbiIpKSBpZiAoIXRoaXMuY29sZXRhcy5maW5kKGYgPT4gZiA9PSBlYW4pKSB7CiAgICAgICAgdGhpcy5hbGVydC5zaG93ID0gdHJ1ZTsKICAgICAgICB0aGlzLmFsZXJ0Lm1lc3NhZ2UgPSAiQ29sZXRhZG8gY29tIHN1Y2Vzc28hIjsKICAgICAgICB0aGlzLmFsZXJ0LnZhcmlhbnQgPSAic3VjY2VzcyI7CiAgICAgICAgdGhpcy5jb2xldGFzLnB1c2goZWFuKTsKICAgICAgICB0aGlzLiRlbWl0KCJpbnB1dCIsIHRoaXMuY29sZXRhcyk7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgdGhpcy5hbGVydC5zaG93ID0gdHJ1ZTsKICAgICAgICB0aGlzLmFsZXJ0Lm1lc3NhZ2UgPSAiQ29sZXRhIGrDoSByZWFsaXphZGEhIjsKICAgICAgICB0aGlzLmFsZXJ0LnZhcmlhbnQgPSAid2FybmluZyI7CiAgICAgIH0KICAgIH0sCgogICAgZ2V0WE1MKGpzb24pIHsKICAgICAgcmV0dXJuIHhtbGpzLmpzb24yeG1sKGpzb24sIHsKICAgICAgICBjb21wYWN0OiB0cnVlLAogICAgICAgIGlnbm9yZUF0dHJpYnV0ZXM6IGZhbHNlCiAgICAgIH0pOwogICAgfSwKCiAgICBlbWl0Q29sZXRhcyhjb2xldGFzKSB7CiAgICAgIGNvbnN0IGpzb254bWwgPSB0aGlzLmdldFhNTCh7CiAgICAgICAgZGF0YTogY29sZXRhcwogICAgICB9KTsgLy8gY29uc29sZS5sb2coJ2VtaXRDb2xldGFzLmVudmlhckNvbGV0YXMueG1sOiAnLCBqc29ueG1sKQoKICAgICAgdGhpcy4kZW1pdCgiZXZ0LWNvbGV0YXMteG1sIiwganNvbnhtbCk7IC8vIGNvbnNvbGUubG9nKCdlbWl0Q29sZXRhcy5lbnZpYXJDb2xldGFzOiAnLCBjb2xldGFzKQoKICAgICAgdGhpcy4kZW1pdCgiZXZ0LWNvbGV0YXMiLCBjb2xldGFzKTsKICAgICAgdGhpcy5jb2xldGFzID0gW107CiAgICB9LAoKICAgIGVudmlhckNvbGV0YXMoY29sZXRhcykgewogICAgICB0aGlzLmFjdGVhbnNzYXZlKCk7CiAgICAgIHRoaXMuYWN0ZWFuc2NsZWFyKCk7CiAgICAgIHRoaXMuZW1pdENvbGV0YXMoY29sZXRhcyk7IC8vIGNvbnNvbGUubG9nKCdlbnZpYXJDb2xldGFzLmd0eGVhbnNsaWRvczonLCB0aGlzLmd0eGVhbnNoaXN0KQogICAgICAvLyB0aGlzLmxhc3Rjb2xldGFzLmZpbmQoayA9PiBrLmlkID09IGNvbGV0YXMuaWQpCiAgICB9LAoKICAgIGxpbXBhcmhpc0NvbGV0YShjb2xldGEpIHsKICAgICAgdGhpcy4kcm9vdC5zaG93bWVzc2FnZSgiRGVzZWphIHJlYWxtZW50ZSBleGNsdWlyIHRvZGFzIGFzIGNvbGV0YXMgZGVzdGUgaGlzdMOzcmljbyA/IiwgIkludHJhbmV0IikudGhlbihjaG9pY2UgPT4gewogICAgICAgIGlmIChjaG9pY2UpIHsKICAgICAgICAgIHRoaXMuYWN0ZWFuc2hpc3RjbGVhcihjb2xldGEuaWQpOwogICAgICAgICAgdGhpcy4kZW1pdCgiaW5wdXQiLCBbXSk7CiAgICAgICAgfQogICAgICB9KTsKICAgIH0sCgogICAgZXhjbHVpSXRlbShpdGVtKSB7CiAgICAgIHRoaXMuYWN0ZWFuc2RlbGV0ZWJ5ZWFuKGl0ZW0pOwogICAgICBjb25zb2xlLmxvZygiZXhjbHVpSXRlbToiLCBpdGVtKTsKICAgIH0sCgogICAgZXhjbHVpaGlzdEl0ZW0oaXRlbSwgZWFuKSB7CiAgICAgIGNvbnN0IGVhbmRlbGV0ZSA9IHsKICAgICAgICBpZDogZWFuLmlkLAogICAgICAgIGVhbjogaXRlbS5lYW4KICAgICAgfTsKICAgICAgdGhpcy5hY3RlYW5zaGlzdGRlbGV0ZWJ5ZWFuKGVhbmRlbGV0ZSk7CiAgICAgIGNvbnNvbGUubG9nKCJleGNsdWloaXN0SXRlbToiLCBlYW5kZWxldGUpOwogICAgfSwKCiAgICBsaW1wYXJDb2xldGEoKSB7CiAgICAgIHRoaXMuJHJvb3Quc2hvd21lc3NhZ2UoIkRlc2VqYSByZWFsbWVudGUgbGltcGFyIGVzdGFzIGNvbGV0YXMgPyIsICJJbnRyYW5ldCIpLnRoZW4oY2hvaWNlID0+IHsKICAgICAgICBpZiAoY2hvaWNlKSB0aGlzLmFjdGVhbnNjbGVhcigpOwogICAgICB9KTsKICAgIH0sCgogICAgcmVub21lYXJjb2xldGEoaGlzdCkgewogICAgICAvLyB0aGlzLnJlbmFtZS5zaG93ID0gIXRoaXMucmVuYW1lLnNob3cKICAgICAgdGhpcy4kYnZNb2RhbC5zaG93KCJDb2xldGFFQU5SZW5hbWUiKTsgLy8gY29uc29sZS5sb2coJ3Jlbm9tZWFyY29sZXRhOicsIHRoaXMucmVuYW1lLnNob3cpCiAgICAgIC8vIGNvbnNvbGUubG9nKCdyZW5vbWVhcmNvbGV0YTonLCBoaXN0KQoKICAgICAgaWYgKCF0aGlzLnJlbmFtZWhpc3QuZmluZChmID0+IGYuaWQgPT0gaGlzdC5pZCkpIHsKICAgICAgICB0aGlzLnJlbmFtZWhpc3QucHVzaCh7CiAgICAgICAgICBpZDogaGlzdC5pZCwKICAgICAgICAgIHRpdHVsbzogdGhpcy5yZW5hbWUudmFsdWUKICAgICAgICB9KTsKICAgICAgfQogICAgfSwKCiAgICBuZXdpZCgpIHsKICAgICAgcmV0dXJuICJfIiArIE1hdGgucmFuZG9tKCkudG9TdHJpbmcoMzYpLnN1YnN0cigyLCAxMyk7CiAgICB9CgogIH0sCiAgd2F0Y2g6IHsKICAgIGd0eGVhbnNyZWFkczogewogICAgICBkZWVwOiB0cnVlLAoKICAgICAgaGFuZGxlcigpIHsKICAgICAgICB0aGlzLmVhbiA9ICIiOwogICAgICB9CgogICAgfQogIH0KfTs="},{"version":3,"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA0NA;AACA;AACA;AACA;AACA;AAEA;EACAA;IACAC,kBADA;IAEAC,aAFA;IAGAC;EAHA,CADA;EAOAC,iBAPA;EASAC;IACA;IACAC;MACAC,aADA;;MAEAC;QACA;MACA;;IAJA,CAFA;IAQAC;MACAF,WADA;;MAEAC;QACA,QACA;UAAAE;UAAAC;QAAA,CADA,EACA;QACA;UAAAD;UAAAC;QAAA,CAFA,EAEA;QACA;UAAAD;UAAAC;QAAA,CAHA,CAGA;QAHA;MAKA;;IARA,CARA;IAkBAC;MACAL,WADA;;MAEAC;QACA,QACA;UAAAK;UAAAC;UAAAC;QAAA,CADA,EAEA;UAAAF;UAAAC;UAAAC;QAAA,CAFA,EAGA;UAAAF;UAAAC;UAAAC;QAAA,CAHA,EAIA;UAAAF;UAAAC;QAAA,CAJA;MAMA;;IATA,CAlBA;IA6BAE;MACAT,WADA;;MAEAC;QACA,QACA;UAAAK;UAAAC;UAAAC;QAAA,CADA,EAEA;UAAAF;UAAAC;UAAAC;QAAA,CAFA,EAGA;UAAAF;UAAAC;UAAAC;QAAA,CAHA,EAIA;UAAAF;UAAAC;QAAA,CAJA;MAMA;;IATA,CA7BA;IAwCAG;MACAV,WADA;;MAEAC;QACA;MACA;;IAJA;EAxCA,CATA;;EAyDAU;IACA;MACAC,aADA;MAEAC;QACAC,WADA;QAEAC,WAFA;QAGAC;MAHA,CAFA;MAOAC,WAPA;MAQAC,gBARA;MASAC,kBATA;MAUAC,WAVA;MAWAC,OAXA;MAYAC,WAZA;MAaAC,eAbA;MAcAC;QACAC,SADA;QAEAX,WAFA;QAGAd,YAHA;QAIAO,kBAJA;QAKAmB,iBALA;QAMAC;MANA,CAdA;MAsBAC;IAtBA;EAwBA,CAlFA;;EAoFAC,YACA,eACA,SADA,EAEA,cAFA,EAGA,cAHA,EAIA,iBAJA,EAMA,aANA,EAOA,kBAPA,EADA;;IAWAC;MACA;IACA,CAbA;;IAeAC;MACA;IACA,CAjBA;;IAmBAC;MACA;IACA,CArBA;;IAuBA;IACAC;MACA;QACA;UAAAZ;QAAA;MACA,CAFA;IAGA,CA5BA;;IA8BAa;MACA;IACA;;EAhCA,CApFA;;EAuHAC;IACA;IAEA;IAEA;EACA,CA7HA;;EA+HAC;IACA;IAEA;IAEA;EACA,CArIA;;EAuIAC,WACA,eACA,SADA,EAEA,cAFA,EAGA,oBAHA,EAIA,aAJA,EAMA,kBANA,EAOA,wBAPA,EADA;;IAWAC;MACAC;IACA,CAbA;;IAeAC;MACA;MACA;IACA,CAlBA;;IAoBAC;MACA,qCADA,CAEA;IACA,CAvBA;;IAyBAC;MACAA,YACA;QACA;MACA,CAFA,CAEAC,IAFA,CAEA,IAFA,CADA,EAIAC,KAJA;IAMA,CAhCA;;IAkCAC;MACA;QACAC;QACAA;MACA,CAHA,MAGA;QACAA;QACAA;MACA;IACA,CA1CA;;IA4CAC;MACA;QACAR;QACAO;MACA,CAHA,MAGA;QACAP;QACAO;MACA;IACA,CApDA;;IAsDAE;MACA;MACA;QACA;QACAC,mBAFA,CAGA;MACA;;MACA;QACA;QACA;QACAA;MACA;;MACA;QACA;QACA;QACAA;MACA;;MAEA;QACA;QACAA;MACA;IACA,CA5EA;;IA8EAC;MACA;MAEA;MACA;IACA,CAnFA;;IAqFAC;MACA;MACA;MAEA;MAEA,wBACA;QACA;QACA;QACA;QACA;QACA;MACA,CANA,MAMA;QACA;QACA;QACA;MACA;IACA,CAvGA;;IAyGAC;MACA;QAAAC;QAAAC;MAAA;IACA,CA3GA;;IA6GAC;MACA;QAAA5C;MAAA,GADA,CAGA;;MACA,uCAJA,CAMA;;MACA;MAEA;IACA,CAvHA;;IAyHA6C;MACA;MACA;MACA,0BAHA,CAKA;MAEA;IACA,CAjIA;;IAmIAC;MACA,WACAC,WADA,CAEA,6DAFA,EAGA,UAHA,EAKAC,IALA,CAKAC;QACA;UACA;UACA;QACA;MACA,CAVA;IAWA,CA/IA;;IAiJAC;MACA;MACAtB;IACA,CApJA;;IAsJAuB;MACA;QACAC,UADA;QAEA1C;MAFA;MAKA;MACAkB;IACA,CA9JA;;IAgKAyB;MACA,WACAN,WADA,CACA,yCADA,EACA,UADA,EAEAC,IAFA,CAEAC;QACA;MACA,CAJA;IAKA,CAtKA;;IAwKAK;MACA;MAEA,sCAHA,CAKA;MAEA;;MAEA;QACA;UAAAF;UAAAG;QAAA;MACA;IACA,CApLA;;IAsLAC;MACA,OACA,MACAC,cACAC,QADA,CACA,EADA,EAEAC,MAFA,CAEA,CAFA,EAEA,EAFA,CAFA;IAMA;;EA7LA,CAvIA;EAuUAC;IACAC;MACAC,UADA;;MAEAC;QACA;MACA;;IAJA;EADA;AAvUA","names":["components","AccordionConsultas","BarcodeConfig","BarcodeScanner","name","props","disableenvio","type","default","ean128","field","tamanho","eanfields","key","label","sortable","histfields","customPages","data","focused","alert","show","message","variant","tabIndex","showinput","showbarcode","lastean","ean","coletas","lastcoletas","rename","value","title","placeholder","renamehist","computed","tipocoleta","eanscoletados","eanslastcoletas","coletastable","lostfocus","created","beforeDestroy","methods","onDecode","console","doinput","dobarcode","setInterval","bind","tempo","listenFocused","window","listenColeta","listenKeydown","e","docoletar","coletar","getXML","compact","ignoreAttributes","emitColetas","enviarColetas","limparhisColeta","showmessage","then","choice","excluiItem","excluihistItem","id","limparColeta","renomearcoleta","titulo","newid","Math","toString","substr","watch","gtxeansreads","deep","handler"],"sourceRoot":"src/components","sources":["ColetaEAN.vue"],"sourcesContent":["<template>\r\n  <div class=\"m-2\">\r\n    <b-card no-body>\r\n      <b-card-header>\r\n        <b-card no-body>\r\n          <b-card-text class=\"display-1 text-center\">\r\n            {{ gtxeanslidos }}\r\n          </b-card-text>\r\n          <b-card-text v-if=\"showinput\" class=\"mr-2 ml-2\">\r\n            <b-form-input\r\n              placeholder=\"Digite o código ean...\"\r\n              v-model=\"ean\"\r\n              @change=\"coletar(ean)\"\r\n              @keypress.enter=\"docoletar(ean)\"\r\n            ></b-form-input>\r\n          </b-card-text>\r\n\r\n          <b-card-footer class=\"text-center\">\r\n            <b-button\r\n              size=\"sm\"\r\n              variant=\"primary\"\r\n              @click=\"enviarColetas(coletastable)\"\r\n              :disabled=\"gtxeanslidos == 0 || disableenvio\"\r\n              >Enviar Coletas</b-button\r\n            >\r\n            <b-button size=\"sm\" variant=\"secondary\" @click=\"doinput\">{{\r\n              tipocoleta\r\n            }}</b-button>\r\n            <b-button size=\"sm\" variant=\"success\" v-b-modal.modal-scanbarcode\r\n              >Ler EAN</b-button\r\n            >\r\n            <b-button size=\"sm\" variant=\"warning\" v-b-modal.modal-barcode\r\n              >Scanner</b-button\r\n            >\r\n          </b-card-footer>\r\n        </b-card>\r\n\r\n        <b-alert class=\"mt-2\" :show=\"!focused\" :variant=\"lostfocus\" fade\r\n          >A janela perdeu o foco, clique aqui para iniciar a coleta</b-alert\r\n        >\r\n        <b-alert\r\n          class=\"mt-2\"\r\n          :show=\"alert.show\"\r\n          :variant=\"alert.variant\"\r\n          fade\r\n          >{{ alert.message }}</b-alert\r\n        >\r\n      </b-card-header>\r\n      <b-tabs card v-model=\"tabIndex\">\r\n        <b-tab :title=\"`Coletas ( ${gtxeanslidos || 0} )`\" active>\r\n          <b-card-text>\r\n            <b-table\r\n              striped\r\n              hover\r\n              selectable\r\n              selected-variant=\"success\"\r\n              :items=\"gtxeans128reads\"\r\n              :fields=\"eanfields\"\r\n              sort-icon-left\r\n            >\r\n              <template #cell(index)=\"data\">\r\n                {{ data.index + 1 }}\r\n              </template>\r\n              <template #cell(volumes)=\"data\">\r\n                {{ `${data.item.vol}/${data.item.vols}` }}\r\n              </template>\r\n              <template #cell(actions)=\"data\">\r\n                <b-button\r\n                  size=\"sm\"\r\n                  variant=\"danger\"\r\n                  @click=\"excluiItem(data.item)\"\r\n                  ><b-icon-trash size=\"sm\"\r\n                /></b-button>\r\n              </template>\r\n            </b-table>\r\n          </b-card-text>\r\n          <b-card-footer class=\"text-right\">\r\n            <b-button\r\n              size=\"sm\"\r\n              variant=\"danger\"\r\n              :disabled=\"eanscoletados == 0\"\r\n              @click=\"limparColeta()\"\r\n              >Limpar Coleta</b-button\r\n            >\r\n          </b-card-footer>\r\n        </b-tab>\r\n\r\n        <b-tab :title=\"`Historico ( ${gtxeanshistlidos || 0} )`\">\r\n          <b-card-text v-if=\"gtxeanshistlidos == 0\">\r\n            Nenhuma coleta registrada\r\n          </b-card-text>\r\n          <b-card-text>\r\n            <div class=\"accordion\" role=\"tablist\">\r\n              <b-card\r\n                no-body\r\n                class=\"mb-1\"\r\n                v-for=\"(t, i) of gtxeanshist\"\r\n                :key=\"i\"\r\n              >\r\n                <b-card-header header-tag=\"header\" class=\"p-1\" role=\"tab\">\r\n                  <b-button block v-b-toggle=\"`_${t.id}`\" variant=\"info\"\r\n                    >{{ i + 1 }} - {{ t.envio | Time }} (\r\n                    {{ t.eanslidos }} )</b-button\r\n                  >\r\n                </b-card-header>\r\n                <b-collapse\r\n                  :id=\"`_${t.id}`\"\r\n                  visible\r\n                  accordion=\"my-accordion\"\r\n                  role=\"tabpanel\"\r\n                >\r\n                  <b-card-body>\r\n                    <b-table\r\n                      size=\"sm\"\r\n                      :items=\"t.eans128reads\"\r\n                      :fields=\"histfields\"\r\n                      sort-icon-left\r\n                    >\r\n                      <template #cell(actions)=\"data\">\r\n                        <b-button\r\n                          size=\"sm\"\r\n                          variant=\"danger\"\r\n                          @click=\"excluihistItem(data.item, t)\"\r\n                          ><b-icon-trash size=\"sm\"\r\n                        /></b-button>\r\n                      </template>\r\n                      <template #cell(volumes)=\"data\">\r\n                        {{ `${data.item.vol}/${data.item.vols}` }}\r\n                      </template>\r\n                    </b-table>\r\n                    <b-card-footer>\r\n                      <b-button\r\n                        size=\"sm\"\r\n                        variant=\"primary\"\r\n                        @click=\"emitColetas(t.eansreads)\"\r\n                        >Reenviar Coleta</b-button\r\n                      >\r\n                      <b-button\r\n                        size=\"sm\"\r\n                        variant=\"secondary\"\r\n                        @click=\"limparhisColeta(t)\"\r\n                        >Excluir Coleta</b-button\r\n                      >\r\n                      <b-button\r\n                        size=\"sm\"\r\n                        variant=\"secondary\"\r\n                        @click=\"renomearcoleta(t)\"\r\n                        >Renomear</b-button\r\n                      >\r\n                    </b-card-footer>\r\n                  </b-card-body>\r\n                </b-collapse>\r\n              </b-card>\r\n            </div>\r\n          </b-card-text>\r\n        </b-tab>\r\n\r\n        <!-- CUSTOM PAGES -->\r\n        <b-tab\r\n          :title=\"page.title || `Page ${i}`\"\r\n          v-for=\"(page, i) of customPages\"\r\n          :key=\"i\"\r\n        >\r\n          <b-card-text v-if=\"page.table\">\r\n            <b-table\r\n              striped\r\n              hover\r\n              :items=\"page.data\"\r\n              :fields=\"page.fields\"\r\n              sort-icon-left\r\n            >\r\n              <template #cell(index)=\"data\">\r\n                {{ data.index + 1 }}\r\n              </template>\r\n            </b-table>\r\n          </b-card-text>\r\n        </b-tab>\r\n      </b-tabs>\r\n\r\n      <!-- <b-card-text>\r\n                renamehist:\r\n                <pre>\r\n                    {{ renamehist }}\r\n                </pre>\r\n            </b-card-text> -->\r\n    </b-card>\r\n\r\n    <b-modal\r\n      id=\"modal-barcode\"\r\n      title=\"Configuração do Scanner\"\r\n      ok-only\r\n      header-bg-variant=\"primary\"\r\n      header-text-variant=\"light\"\r\n    >\r\n      <BarcodeConfig model=\"C740\" />\r\n    </b-modal>\r\n\r\n    <b-modal\r\n      id=\"modal-scanbarcode\"\r\n      title=\"Aproxime o código de barras\"\r\n      ok-only\r\n      header-bg-variant=\"danger\"\r\n      header-text-variant=\"light\"\r\n    >\r\n      <BarcodeScanner @onScanner=\"onDecode\"></BarcodeScanner>\r\n    </b-modal>\r\n\r\n    <Inputmodal\r\n      idmodal=\"ColetaEANRename\"\r\n      v-model=\"rename.value\"\r\n      :type=\"rename.type\"\r\n      :title=\"rename.title\"\r\n      :placeholder=\"rename.placeholder\"\r\n    />\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { mapActions, mapGetters } from \"vuex\";\r\nimport xmljs from \"xml-js\";\r\nimport AccordionConsultas from \"../pages/consulta/components/AccordionConsultas.vue\";\r\nimport BarcodeConfig from \"../pages/coleta/components/BarcodeConfig\";\r\nimport BarcodeScanner from \"./BarcodeScanner\";\r\n\r\nexport default {\r\n  components: {\r\n    AccordionConsultas,\r\n    BarcodeConfig,\r\n    BarcodeScanner,\r\n  },\r\n\r\n  name: \"ColetaEAN\",\r\n\r\n  props: {\r\n    // eans: [], // v-model para retornar as coletas ...\r\n    disableenvio: {\r\n      type: Boolean,\r\n      default() {\r\n        return false;\r\n      },\r\n    },\r\n    ean128: {\r\n      type: Array,\r\n      default() {\r\n        return [\r\n          { field: \"lote\", tamanho: 6 }, // Numero do lote d producao\r\n          { field: \"seq\", tamanho: 5 }, // sequencial do lote\r\n          { field: \"emp\", tamanho: 2 }, // empresa que produziu o lote\r\n        ];\r\n      },\r\n    },\r\n    eanfields: {\r\n      type: Array,\r\n      default() {\r\n        return [\r\n          { key: \"lote\", label: \"Lote\", sortable: true },\r\n          { key: \"seq\", label: \"Seq\", sortable: true },\r\n          { key: \"volumes\", label: \"Volumes\", sortable: true },\r\n          { key: \"actions\", label: \"\" },\r\n        ];\r\n      },\r\n    },\r\n    histfields: {\r\n      type: Array,\r\n      default() {\r\n        return [\r\n          { key: \"lote\", label: \"Lote\", sortable: true },\r\n          { key: \"seq\", label: \"Seq\", sortable: true },\r\n          { key: \"volumes\", label: \"Volumes\", sortable: true },\r\n          { key: \"actions\", label: \"\" },\r\n        ];\r\n      },\r\n    },\r\n    customPages: {\r\n      type: Array,\r\n      default() {\r\n        return [];\r\n      },\r\n    },\r\n  },\r\n\r\n  data() {\r\n    return {\r\n      focused: true,\r\n      alert: {\r\n        show: false,\r\n        message: \"\",\r\n        variant: \"success\",\r\n      },\r\n      tabIndex: 0,\r\n      showinput: false,\r\n      showbarcode: false,\r\n      lastean: \"\",\r\n      ean: \"\",\r\n      coletas: [],\r\n      lastcoletas: [],\r\n      rename: {\r\n        value: \"\",\r\n        show: false,\r\n        type: \"text\",\r\n        label: \"Novo nome\",\r\n        title: \"Renomear\",\r\n        placeholder: \"Informe o novo nome\",\r\n      },\r\n      renamehist: [],\r\n    };\r\n  },\r\n\r\n  computed: {\r\n    ...mapGetters([\r\n      \"gtxeans\",\r\n      \"gtxeansreads\",\r\n      \"gtxeanslidos\",\r\n      \"gtxeans128reads\",\r\n\r\n      \"gtxeanshist\",\r\n      \"gtxeanshistlidos\",\r\n    ]),\r\n\r\n    tipocoleta() {\r\n      return this.showinput ? \"Coleta com Leitor\" : \"Coleta Manual\";\r\n    },\r\n\r\n    eanscoletados() {\r\n      return this.gtxeans128reads.length;\r\n    },\r\n\r\n    eanslastcoletas() {\r\n      return this.lastcoletas.length;\r\n    },\r\n\r\n    //coletastable() { return this.coletas.map(e => {return {ean: e}}) },\r\n    coletastable() {\r\n      return this.gtxeans.map((e) => {\r\n        return { ean: e };\r\n      });\r\n    },\r\n\r\n    lostfocus() {\r\n      return !this.focused ? \"danger\" : \"light\";\r\n    },\r\n  },\r\n\r\n  created() {\r\n    this.listenColeta(true);\r\n\r\n    this.listenFocused(true);\r\n\r\n    this.setInterval(3000);\r\n  },\r\n\r\n  beforeDestroy() {\r\n    this.listenColeta(false);\r\n\r\n    this.listenFocused(false);\r\n\r\n    this.setInterval(0);\r\n  },\r\n\r\n  methods: {\r\n    ...mapActions([\r\n      \"acteans\",\r\n      \"acteansclear\",\r\n      \"acteansdeletebyean\",\r\n      \"acteanssave\",\r\n\r\n      \"acteanshistclear\",\r\n      \"acteanshistdeletebyean\",\r\n    ]),\r\n\r\n    onDecode(result) {\r\n      console.log(\"onDecode:\", result);\r\n    },\r\n\r\n    doinput() {\r\n      this.showinput = !this.showinput;\r\n      this.listenColeta(false);\r\n    },\r\n\r\n    dobarcode() {\r\n      this.showbarcode = !this.showbarcode;\r\n      // this.listenColeta(false);\r\n    },\r\n\r\n    setInterval(tempo) {\r\n      setInterval(\r\n        function() {\r\n          this.alert.show = false;\r\n        }.bind(this),\r\n        tempo\r\n      );\r\n    },\r\n\r\n    listenFocused(sim) {\r\n      if (sim) {\r\n        window.addEventListener(\"focus\", () => (this.focused = true));\r\n        window.addEventListener(\"blur\", () => (this.focused = false));\r\n      } else {\r\n        window.removeEventListener(\"focus\", () => (this.focused = true));\r\n        window.removeEventListener(\"blur\", () => (this.focused = false));\r\n      }\r\n    },\r\n\r\n    listenColeta(sim) {\r\n      if (sim) {\r\n        console.log(\"Coletor.listenColeta:\", \"sim\");\r\n        window.addEventListener(\"keyup\", this.listenKeydown);\r\n      } else {\r\n        console.log(\"Coletor.listenColeta:\", \"não\");\r\n        window.removeEventListener(\"keyup\", this.listenKeydown);\r\n      }\r\n    },\r\n\r\n    listenKeydown(e) {\r\n      // console.log('addEventListener::keydown:hit', e)\r\n      if (e.key > -1 && e.key < 10) {\r\n        this.ean += e.key;\r\n        e.preventDefault();\r\n        // console.log('ean: ',this.ean)\r\n      }\r\n      if (e.key == \"Backspace\") {\r\n        this.ean = this.ean.substr(0, this.ean.length - 1);\r\n        this.lastean = this.ean;\r\n        e.preventDefault();\r\n      }\r\n      if (e.key == \"Delete\") {\r\n        this.ean = this.ean.substr(1);\r\n        this.lastean = this.ean;\r\n        e.preventDefault();\r\n      }\r\n\r\n      if (e.key == \"Enter\" && this.ean.length > 0) {\r\n        this.docoletar(this.ean);\r\n        e.preventDefault();\r\n      }\r\n    },\r\n\r\n    docoletar(ean) {\r\n      // console.log('docoletar:', ean)\r\n\r\n      if (!ean.includes(\"\\n\")) ean += \"\\n\";\r\n      this.coletar(ean);\r\n    },\r\n\r\n    coletar(ean) {\r\n      // console.log('coletar:', ean)\r\n      this.tabIndex = 0;\r\n\r\n      this.acteans(ean);\r\n\r\n      if (ean.includes(\"\\n\"))\r\n        if (!this.coletas.find((f) => f == ean)) {\r\n          this.alert.show = true;\r\n          this.alert.message = \"Coletado com sucesso!\";\r\n          this.alert.variant = \"success\";\r\n          this.coletas.push(ean);\r\n          this.$emit(\"input\", this.coletas);\r\n        } else {\r\n          this.alert.show = true;\r\n          this.alert.message = \"Coleta já realizada!\";\r\n          this.alert.variant = \"warning\";\r\n        }\r\n    },\r\n\r\n    getXML(json) {\r\n      return xmljs.json2xml(json, { compact: true, ignoreAttributes: false });\r\n    },\r\n\r\n    emitColetas(coletas) {\r\n      const jsonxml = this.getXML({ data: coletas });\r\n\r\n      // console.log('emitColetas.enviarColetas.xml: ', jsonxml)\r\n      this.$emit(\"evt-coletas-xml\", jsonxml);\r\n\r\n      // console.log('emitColetas.enviarColetas: ', coletas)\r\n      this.$emit(\"evt-coletas\", coletas);\r\n\r\n      this.coletas = [];\r\n    },\r\n\r\n    enviarColetas(coletas) {\r\n      this.acteanssave();\r\n      this.acteansclear();\r\n      this.emitColetas(coletas);\r\n\r\n      // console.log('enviarColetas.gtxeanslidos:', this.gtxeanshist)\r\n\r\n      // this.lastcoletas.find(k => k.id == coletas.id)\r\n    },\r\n\r\n    limparhisColeta(coleta) {\r\n      this.$root\r\n        .showmessage(\r\n          \"Deseja realmente excluir todas as coletas deste histórico ?\",\r\n          \"Intranet\"\r\n        )\r\n        .then((choice) => {\r\n          if (choice) {\r\n            this.acteanshistclear(coleta.id);\r\n            this.$emit(\"input\", []);\r\n          }\r\n        });\r\n    },\r\n\r\n    excluiItem(item) {\r\n      this.acteansdeletebyean(item);\r\n      console.log(\"excluiItem:\", item);\r\n    },\r\n\r\n    excluihistItem(item, ean) {\r\n      const eandelete = {\r\n        id: ean.id,\r\n        ean: item.ean,\r\n      };\r\n\r\n      this.acteanshistdeletebyean(eandelete);\r\n      console.log(\"excluihistItem:\", eandelete);\r\n    },\r\n\r\n    limparColeta() {\r\n      this.$root\r\n        .showmessage(\"Deseja realmente limpar estas coletas ?\", \"Intranet\")\r\n        .then((choice) => {\r\n          if (choice) this.acteansclear();\r\n        });\r\n    },\r\n\r\n    renomearcoleta(hist) {\r\n      // this.rename.show = !this.rename.show\r\n\r\n      this.$bvModal.show(\"ColetaEANRename\");\r\n\r\n      // console.log('renomearcoleta:', this.rename.show)\r\n\r\n      // console.log('renomearcoleta:', hist)\r\n\r\n      if (!this.renamehist.find((f) => f.id == hist.id)) {\r\n        this.renamehist.push({ id: hist.id, titulo: this.rename.value });\r\n      }\r\n    },\r\n\r\n    newid() {\r\n      return (\r\n        \"_\" +\r\n        Math.random()\r\n          .toString(36)\r\n          .substr(2, 13)\r\n      );\r\n    },\r\n  },\r\n\r\n  watch: {\r\n    gtxeansreads: {\r\n      deep: true,\r\n      handler() {\r\n        this.ean = \"\";\r\n      },\r\n    },\r\n  },\r\n};\r\n</script>\r\n\r\n<style scoped>\r\n.btn {\r\n  margin-right: 5px;\r\n  margin-bottom: 5px;\r\n}\r\n</style>\r\n"]}]}