{"remainingRequest":"C:\\k1-services\\node_modules\\babel-loader\\lib\\index.js!C:\\k1-services\\src\\router\\guard.js","dependencies":[{"path":"C:\\k1-services\\src\\router\\guard.js","mtime":1670978022136},{"path":"C:\\k1-services\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1670977934221},{"path":"C:\\k1-services\\node_modules\\babel-loader\\lib\\index.js","mtime":1670977935138}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IGNvb2tpZXMgZnJvbSAiLi4vc2VydmljZXMvY29va2llIjsKaW1wb3J0IHN0b3JlIGZyb20gIi4uL3N0b3JlIjsKZXhwb3J0IGZ1bmN0aW9uIHJvdXRlR3VhcmQodG8sIGZyb20sIG5leHQpIHsKICBzdG9yZS5kaXNwYXRjaCgiYWN0TGFzdFJvdXRlIiwgdG8uZnVsbFBhdGgucmVwbGFjZSgiLyIsICIiKSk7CgogIGlmIChjb29raWVzLmdldGNvb2tpZSgidG9rZW4iKSAhPT0gIiIpIHsKICAgIGlmIChjb29raWVzLmdldGNvb2tpZSgiQXNzaW5vdVRlcm1vUHJpdmFjaWRhZGUiKSA9PSAwKSB7CiAgICAgIG5leHQoewogICAgICAgIG5hbWU6ICJQb2xpdGljYVNlZ3VyYW5jYSIsCiAgICAgICAgcXVlcnk6IHsKICAgICAgICAgIHJlZGlyOiB0by5mdWxsUGF0aC5yZXBsYWNlKCIvIiwgIiIpCiAgICAgICAgfQogICAgICB9KTsKICAgIH0gZWxzZSBuZXh0KCk7CiAgfSBlbHNlIHsKICAgIG5leHQoewogICAgICBuYW1lOiAiTG9naW4iLAogICAgICBxdWVyeTogewogICAgICAgIHJlZGlyOiB0by5mdWxsUGF0aC5yZXBsYWNlKCIvIiwgIiIpCiAgICAgIH0KICAgIH0pOwogIH0KfQpleHBvcnQgZnVuY3Rpb24gcm91dGVBZG1pbkd1YXJkKHRvLCBmcm9tLCBuZXh0KSB7CiAgaWYgKGNvb2tpZXMuZ2V0Y29va2llKCJ0b2tlbiIpICE9PSAiIikgewogICAgaWYgKHN0b3JlLmdldHRlcnNbImd0eEF1dGhQcm9maWxlQWRtaW4iXSkgewogICAgICBuZXh0KCk7CiAgICB9IGVsc2UgewogICAgICBjb25zb2xlLmxvZygibG9naW4gdW5hdXRob3JpemVkIGZvciByb3V0ZToiLCB0by5mdWxsUGF0aCk7CiAgICAgIG5leHQoZmFsc2UpOwogICAgfQogIH0gZWxzZSB7CiAgICBuZXh0KHsKICAgICAgbmFtZTogIkxvZ2luIiwKICAgICAgcXVlcnk6IHsKICAgICAgICByZWRpcjogdG8uZnVsbFBhdGgucmVwbGFjZSgiLyIsICIiKQogICAgICB9CiAgICB9KTsKICB9Cn0="},{"version":3,"names":["cookies","store","routeGuard","to","from","next","dispatch","fullPath","replace","getcookie","name","query","redir","routeAdminGuard","getters","console","log"],"sources":["C:/k1-services/src/router/guard.js"],"sourcesContent":["import cookies from \"../services/cookie\";\r\nimport store from \"../store\";\r\n\r\nexport function routeGuard(to, from, next) {\r\n  store.dispatch(\"actLastRoute\", to.fullPath.replace(\"/\", \"\"));\r\n\tif (cookies.getcookie(\"token\") !== \"\"){\r\n\t\tif (cookies.getcookie(\"AssinouTermoPrivacidade\") == 0) {\r\n\t\t\tnext({ name: \"PoliticaSeguranca\", query: { redir: to.fullPath.replace(\"/\", \"\") } });\r\n\t\t}else\r\n    next();\r\n  } else {\r\n    next({ name: \"Login\", query: { redir: to.fullPath.replace(\"/\", \"\") } });\r\n  }\r\n}\r\n\r\nexport function routeAdminGuard(to, from, next) {\r\n\tif (cookies.getcookie(\"token\") !== \"\") {\r\n\t\tif (store.getters[\"gtxAuthProfileAdmin\"]) {\r\n\t\t\tnext();\r\n\t\t}\r\n\t\telse {\r\n\t\t\tconsole.log(\"login unauthorized for route:\", to.fullPath);\r\n\t\t\tnext(false);\r\n\t }\r\n\t}\r\n   else {\r\n\t\tnext({ name: \"Login\", query: { redir: to.fullPath.replace(\"/\", \"\") } });\r\n\t}\r\n}\r\n"],"mappings":"AAAA,OAAOA,OAAP,MAAoB,oBAApB;AACA,OAAOC,KAAP,MAAkB,UAAlB;AAEA,OAAO,SAASC,UAAT,CAAoBC,EAApB,EAAwBC,IAAxB,EAA8BC,IAA9B,EAAoC;EACzCJ,KAAK,CAACK,QAAN,CAAe,cAAf,EAA+BH,EAAE,CAACI,QAAH,CAAYC,OAAZ,CAAoB,GAApB,EAAyB,EAAzB,CAA/B;;EACD,IAAIR,OAAO,CAACS,SAAR,CAAkB,OAAlB,MAA+B,EAAnC,EAAsC;IACrC,IAAIT,OAAO,CAACS,SAAR,CAAkB,yBAAlB,KAAgD,CAApD,EAAuD;MACtDJ,IAAI,CAAC;QAAEK,IAAI,EAAE,mBAAR;QAA6BC,KAAK,EAAE;UAAEC,KAAK,EAAET,EAAE,CAACI,QAAH,CAAYC,OAAZ,CAAoB,GAApB,EAAyB,EAAzB;QAAT;MAApC,CAAD,CAAJ;IACA,CAFD,MAGEH,IAAI;EACL,CALF,MAKQ;IACLA,IAAI,CAAC;MAAEK,IAAI,EAAE,OAAR;MAAiBC,KAAK,EAAE;QAAEC,KAAK,EAAET,EAAE,CAACI,QAAH,CAAYC,OAAZ,CAAoB,GAApB,EAAyB,EAAzB;MAAT;IAAxB,CAAD,CAAJ;EACD;AACF;AAED,OAAO,SAASK,eAAT,CAAyBV,EAAzB,EAA6BC,IAA7B,EAAmCC,IAAnC,EAAyC;EAC/C,IAAIL,OAAO,CAACS,SAAR,CAAkB,OAAlB,MAA+B,EAAnC,EAAuC;IACtC,IAAIR,KAAK,CAACa,OAAN,CAAc,qBAAd,CAAJ,EAA0C;MACzCT,IAAI;IACJ,CAFD,MAGK;MACJU,OAAO,CAACC,GAAR,CAAY,+BAAZ,EAA6Cb,EAAE,CAACI,QAAhD;MACAF,IAAI,CAAC,KAAD,CAAJ;IACA;EACD,CARD,MASO;IACNA,IAAI,CAAC;MAAEK,IAAI,EAAE,OAAR;MAAiBC,KAAK,EAAE;QAAEC,KAAK,EAAET,EAAE,CAACI,QAAH,CAAYC,OAAZ,CAAoB,GAApB,EAAyB,EAAzB;MAAT;IAAxB,CAAD,CAAJ;EACA;AACD"}]}