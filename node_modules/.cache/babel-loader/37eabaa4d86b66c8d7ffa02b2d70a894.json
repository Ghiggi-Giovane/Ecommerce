{"remainingRequest":"C:\\k1-services\\node_modules\\babel-loader\\lib\\index.js!C:\\k1-services\\node_modules\\cache-loader\\dist\\cjs.js??ref--1-0!C:\\k1-services\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\k1-services\\src\\pages\\transp\\views\\Romaneios.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\k1-services\\src\\pages\\transp\\views\\Romaneios.vue","mtime":1670977910669},{"path":"C:\\k1-services\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1670977934221},{"path":"C:\\k1-services\\node_modules\\babel-loader\\lib\\index.js","mtime":1670977935138},{"path":"C:\\k1-services\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1670977934221},{"path":"C:\\k1-services\\node_modules\\vue-loader\\lib\\index.js","mtime":1670977935327}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KaW1wb3J0IHsgbWFwQWN0aW9ucywgbWFwR2V0dGVycyB9IGZyb20gInZ1ZXgiOwpleHBvcnQgZGVmYXVsdCB7CiAgbmFtZTogIlJvbWFuZWlvc1BhZ2UiLAoKICBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgZmlsdHJvOiAiIiwKICAgICAgcGFyYW1zOiB7CiAgICAgICAgUGFnZU51bWJlcjogMSwKICAgICAgICBQYWdlU2l6ZTogMTAKICAgICAgfSwKICAgICAgY29sdW5hc3JvbWFuZWlvOiBbewogICAgICAgIGtleTogIk51bWVybyIsCiAgICAgICAgbGFiZWw6ICJSb21hbmVpbyIKICAgICAgfSwgewogICAgICAgIGtleTogIkFiZXJ0dXJhIiwKICAgICAgICBsYWJlbDogIkFiZXJ0dXJhIgogICAgICB9LCB7CiAgICAgICAga2V5OiAibm90YXMiLAogICAgICAgIGxhYmVsOiAiTm90YXMiCiAgICAgIH0sICJhY3Rpb25zIl0sCiAgICAgIGNvbHVuYXNub3RhczogW3sKICAgICAgICBrZXk6ICJudW1lcm9fbm90YSIsCiAgICAgICAgbGFiZWw6ICJOb3RhIiwKICAgICAgICBzb3J0YWJsZTogdHJ1ZQogICAgICB9LCB7CiAgICAgICAga2V5OiAibnVtZXJvX3BlZGlkbyIsCiAgICAgICAgbGFiZWw6ICJQZWRpZG8iLAogICAgICAgIHNvcnRhYmxlOiB0cnVlCiAgICAgIH0sIHsKICAgICAgICBrZXk6ICJlbWlzc2FvIiwKICAgICAgICBsYWJlbDogIkVtaXNzw6NvIiwKICAgICAgICBzb3J0YWJsZTogdHJ1ZQogICAgICB9LCB7CiAgICAgICAga2V5OiAicmF6YW9zb2NpYWwiLAogICAgICAgIGxhYmVsOiAiQ2xpZW50ZSIsCiAgICAgICAgc29ydGFibGU6IHRydWUKICAgICAgfSwgewogICAgICAgIGtleTogInBsYWNhX3ZlaWN1bG8iLAogICAgICAgIGxhYmVsOiAiUGxhY2EgVmXDrWN1bG8iLAogICAgICAgIHNvcnRhYmxlOiB0cnVlCiAgICAgIH0sICJhY3Rpb25zIl0KICAgIH07CiAgfSwKCiAgY29tcHV0ZWQ6IHsgLi4ubWFwR2V0dGVycyhbImd0eHJvbWFuZWlvc0RhdGEiLCAiZ3R4cm9tYW5laW9zbGlzdGEiLCAiZ3R4cm9tYW5laW9zcGFnaW5hY2FvIiwgImd0eHJvbWFuZWlvc1BhZ2luYXMiLCAiZ3R4cm9tYW5laW9zcGFnaW5hY2FvIl0pLAoKICAgIGl0ZW1zKCkgewogICAgICByZXR1cm4gdGhpcy5ndHhyb21hbmVpb3NEYXRhLm1hcCgobSwgaSkgPT4gewogICAgICAgIHJldHVybiB7IC4uLm0sCiAgICAgICAgICAuLi57CiAgICAgICAgICAgIGFjdGlvbnM6ICIiCiAgICAgICAgICB9CiAgICAgICAgfTsKICAgICAgfSk7CiAgICB9LAoKICAgIHJvd3MoKSB7CiAgICAgIHJldHVybiBwYXJzZUludCh0aGlzLmd0eHJvbWFuZWlvc3BhZ2luYWNhby5yb3dzKSB8fCAxMDsKICAgIH0sCgogICAgcGFnZSgpIHsKICAgICAgcmV0dXJuIHBhcnNlSW50KHRoaXMuZ3R4cm9tYW5laW9zcGFnaW5hY2FvLlBhZ2VOdW1iZXIpIHx8IDE7CiAgICB9LAoKICAgIHBlclBhZ2UoKSB7CiAgICAgIHJldHVybiBwYXJzZUludCh0aGlzLmd0eHJvbWFuZWlvc3BhZ2luYWNhby5QYWdlU2l6ZSkgfHwgMTA7CiAgICB9CgogIH0sCgogIGNyZWF0ZWQoKSB7CiAgICB0aGlzLmFjdFJvbWFuZWlvcyh7CiAgICAgIHBhcmFtczogdGhpcy5wYXJhbXMKICAgIH0pOwogIH0sCgogIG1ldGhvZHM6IHsgLi4ubWFwQWN0aW9ucyhbImFjdFJvbWFuZWlvcyJdKSwKCiAgICBidG5CdXNjYXJFdGlxdWV0YXMoKSB7CiAgICAgIGFsZXJ0KCJCdXNjYXIgZXRpcXVldGFzIGRvcyByb21hbmVpb3M6ICIgKyB0aGlzLnJvbWFuZWlvcyk7CiAgICB9LAoKICAgIG9uRmlsdGVyZWQoZmlsdGVyZWRJdGVtcykgewogICAgICAvLyBUcmlnZ2VyIHBhZ2luYXRpb24gdG8gdXBkYXRlIHRoZSBudW1iZXIgb2YgYnV0dG9ucy9wYWdlcyBkdWUgdG8gZmlsdGVyaW5nCiAgICAgIHRoaXMudG90YWxSb3dzID0gZmlsdGVyZWRJdGVtcy5sZW5ndGg7CiAgICAgIHRoaXMuY3VycmVudFBhZ2UgPSAxOwogICAgfSwKCiAgICBvblJvbWFuZWlvU2VsZWN0KHNlbCkgewogICAgICBjb25zb2xlLmxvZygib25Sb21hbmVpb1NlbGVjdDoiLCBzZWwpOwogICAgfSwKCiAgICBvblJvbWFuZWlvUGFnaW5hdGUocGFnZSkgewogICAgICBjb25zb2xlLmxvZygib25Sb21hbmVpb1BhZ2luYXRlOiIsIHBhZ2UpOwogICAgICB0aGlzLnBhcmFtcy5QYWdlTnVtYmVyID0gcGFnZTsKICAgICAgdGhpcy5hY3RSb21hbmVpb3MoewogICAgICAgIHBhcmFtczogdGhpcy5wYXJhbXMKICAgICAgfSk7CiAgICB9CgogIH0KfTs="},{"version":3,"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAiIA;AACA;EACAA,qBADA;;EAGAC;IACA;MACAC,UADA;MAEAC;QACAC,aADA;QAEAC;MAFA,CAFA;MAMAC,kBACA;QAAAC;QAAAC;MAAA,CADA,EAEA;QAAAD;QAAAC;MAAA,CAFA,EAGA;QAAAD;QAAAC;MAAA,CAHA,EAIA,SAJA,CANA;MAYAC,eACA;QAAAF;QAAAC;QAAAE;MAAA,CADA,EAEA;QAAAH;QAAAC;QAAAE;MAAA,CAFA,EAGA;QAAAH;QAAAC;QAAAE;MAAA,CAHA,EAIA;QAAAH;QAAAC;QAAAE;MAAA,CAJA,EAKA;QAAAH;QAAAC;QAAAE;MAAA,CALA,EAMA,SANA;IAZA;EAqBA,CAzBA;;EA2BAC,YACA,eACA,kBADA,EAEA,mBAFA,EAGA,uBAHA,EAIA,qBAJA,EAKA,uBALA,EADA;;IAQAC;MACA;QACA;UAAA;YAAAC;UAAA;QAAA;MACA,CAFA;IAGA,CAZA;;IAaAC;MACA;IACA,CAfA;;IAgBAC;MACA;IACA,CAlBA;;IAmBAC;MACA;IACA;;EArBA,CA3BA;;EAmDAC;IACA;MAAAd;IAAA;EACA,CArDA;;EAuDAe,WACA,+BADA;;IAGAC;MACAC;IACA,CALA;;IAOAC;MACA;MACA;MACA;IACA,CAXA;;IAaAC;MACAC;IACA,CAfA;;IAiBAC;MACAD;MACA;MACA;QAAApB;MAAA;IACA;;EArBA;AAvDA","names":["name","data","filtro","params","PageNumber","PageSize","colunasromaneio","key","label","colunasnotas","sortable","computed","items","actions","rows","page","perPage","created","methods","btnBuscarEtiquetas","alert","onFiltered","onRomaneioSelect","console","onRomaneioPaginate"],"sourceRoot":"src/pages/transp/views","sources":["Romaneios.vue"],"sourcesContent":["<template>\r\n  <div class=\"container mt-2 mb-2\">\r\n    <b-card\r\n      header-bg-variant=\"dark\"\r\n      header-text-variant=\"white\"\r\n      header=\"Romaneios\"\r\n    >\r\n      <b-row>\r\n        <b-col cols=\"12\" lg=\"9\" md=\"7\" class=\"mb-2\">\r\n          <b-input-group prepend=\"Filtro\" size=\"sm\" class=\"mb-2\">\r\n            <b-form-input\r\n              id=\"input-filtro\"\r\n              type=\"search\"\r\n              v-model=\"filtro\"\r\n              placeholder=\"Informe os dados da pesquisa\"\r\n            ></b-form-input>\r\n          </b-input-group>\r\n        </b-col>\r\n        <b-col cols=\"12\" lg=\"3\" md=\"5\" class=\"mb-2\">\r\n          <span class=\"float-right\">\r\n            <b-pagination\r\n              size=\"sm\"\r\n              v-model=\"params.PageNumber\"\r\n              :total-rows=\"rows\"\r\n              :per-page=\"perPage\"\r\n              aria-controls=\"my-table\"\r\n              @change=\"onRomaneioPaginate\"\r\n            ></b-pagination>\r\n          </span>\r\n        </b-col>\r\n      </b-row>\r\n\r\n      <b-table\r\n        striped\r\n        hover\r\n        responsive\r\n        size=\"sm\"\r\n        :items=\"items\"\r\n        :fields=\"colunasromaneio\"\r\n        :filter=\"filtro\"\r\n        :page=\"params.PageNumber\"\r\n        :perPage=\"perPage\"\r\n        @filtered=\"onFiltered\"\r\n      >\r\n        <template #cell(Abertura)=\"data\">\r\n          <div class=\"columnhide\">\r\n            {{ data.item.Abertura | dateBR }}\r\n          </div>\r\n        </template>\r\n        <template #cell(Fechamento)=\"data\">\r\n          <div>\r\n            {{ data.item.Fechamento | dateBR }}\r\n          </div>\r\n        </template>\r\n        <template #cell(notas)=\"data\">\r\n          <span v-if=\"data.item.notas.length == 1\">\r\n            {{ data.item.notas[0].numero_nota }}\r\n          </span>\r\n          <span v-else> {{ data.item.notas.length }} Notas </span>\r\n        </template>\r\n        <template #cell(actions)=\"data\">\r\n          <span class=\"float-right\">\r\n            <b-button\r\n              variant=\"primary\"\r\n              title=\"Abrir detalhes da nota\"\r\n              class=\"mx-1 my-1\"\r\n              @click=\"data.toggleDetails\"\r\n            >\r\n              <b-icon-caret-up v-if=\"data.detailsShowing\" />\r\n              <b-icon-caret-down v-else />\r\n            </b-button>\r\n            <b-button\r\n              variant=\"success\"\r\n              title=\"Baixar arquivo de coletas\"\r\n              class=\"mx-1 my-1\"\r\n            >\r\n              <b-icon-upc />\r\n            </b-button>\r\n          </span>\r\n        </template>\r\n        <template #row-details=\"row\">\r\n          <b-card class=\"bg-light\">\r\n            <b-table\r\n              striped\r\n              hover\r\n              size=\"sm\"\r\n              :fields=\"colunasnotas\"\r\n              :items=\"row.item.notas\"\r\n            >\r\n              <template #cell(emissao)=\"data\">\r\n                <div>\r\n                  {{ data.item.emissao | dateBR }}\r\n                </div>\r\n              </template>\r\n            </b-table>\r\n          </b-card>\r\n        </template>\r\n      </b-table>\r\n\r\n      <b-row>\r\n        <b-col cols=\"12\" lg=\"9\" md=\"7\" class=\"mb-2\">\r\n          <span class=\"mr-4 font-weight-bolder\"\r\n            ><!--se quiser adiconar um total--></span\r\n          >\r\n        </b-col>\r\n        <b-col cols=\"12\" lg=\"3\" md=\"5\" class=\"mb-2\">\r\n          <span class=\"float-right\">\r\n            <b-pagination\r\n              size=\"sm\"\r\n              v-model=\"params.PageNumber\"\r\n              :total-rows=\"rows\"\r\n              :per-page=\"perPage\"\r\n              aria-controls=\"my-table\"\r\n              @change=\"onRomaneioPaginate\"\r\n            ></b-pagination>\r\n          </span>\r\n        </b-col>\r\n      </b-row>\r\n\r\n      <!--\r\n    gtxromaneiosData: {{ gtxromaneiosData }}<br />\r\n    gtxromaneiosPaginas: {{ gtxromaneiosPaginas }}<br />\r\n    gtxromaneiospaginacao: {{ gtxromaneiospaginacao }}\r\n-->\r\n    </b-card>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { mapActions, mapGetters } from \"vuex\";\r\nexport default {\r\n  name: \"RomaneiosPage\",\r\n\r\n  data() {\r\n    return {\r\n      filtro: \"\",\r\n      params: {\r\n        PageNumber: 1,\r\n        PageSize: 10,\r\n      },\r\n      colunasromaneio: [\r\n        { key: \"Numero\", label: \"Romaneio\" },\r\n        { key: \"Abertura\", label: \"Abertura\" },\r\n        { key: \"notas\", label: \"Notas\" },\r\n        \"actions\",\r\n      ],\r\n      colunasnotas: [\r\n        { key: \"numero_nota\", label: \"Nota\", sortable: true },\r\n        { key: \"numero_pedido\", label: \"Pedido\", sortable: true },\r\n        { key: \"emissao\", label: \"Emissão\", sortable: true },\r\n        { key: \"razaosocial\", label: \"Cliente\", sortable: true },\r\n        { key: \"placa_veiculo\", label: \"Placa Veículo\", sortable: true },\r\n        \"actions\",\r\n      ],\r\n    };\r\n  },\r\n\r\n  computed: {\r\n    ...mapGetters([\r\n      \"gtxromaneiosData\",\r\n      \"gtxromaneioslista\",\r\n      \"gtxromaneiospaginacao\",\r\n      \"gtxromaneiosPaginas\",\r\n      \"gtxromaneiospaginacao\",\r\n    ]),\r\n    items() {\r\n      return this.gtxromaneiosData.map((m, i) => {\r\n        return { ...m, ...{ actions: \"\" } };\r\n      });\r\n    },\r\n    rows() {\r\n      return parseInt(this.gtxromaneiospaginacao.rows) || 10;\r\n    },\r\n    page() {\r\n      return parseInt(this.gtxromaneiospaginacao.PageNumber) || 1;\r\n    },\r\n    perPage() {\r\n      return parseInt(this.gtxromaneiospaginacao.PageSize) || 10;\r\n    },\r\n  },\r\n\r\n  created() {\r\n    this.actRomaneios({ params: this.params });\r\n  },\r\n\r\n  methods: {\r\n    ...mapActions([\"actRomaneios\"]),\r\n\r\n    btnBuscarEtiquetas() {\r\n      alert(\"Buscar etiquetas dos romaneios: \" + this.romaneios);\r\n    },\r\n\r\n    onFiltered(filteredItems) {\r\n      // Trigger pagination to update the number of buttons/pages due to filtering\r\n      this.totalRows = filteredItems.length;\r\n      this.currentPage = 1;\r\n    },\r\n\r\n    onRomaneioSelect(sel) {\r\n      console.log(\"onRomaneioSelect:\", sel);\r\n    },\r\n\r\n    onRomaneioPaginate(page) {\r\n      console.log(\"onRomaneioPaginate:\", page);\r\n      this.params.PageNumber = page;\r\n      this.actRomaneios({ params: this.params });\r\n    },\r\n  },\r\n};\r\n</script>\r\n\r\n<style scoped>\r\n@media screen and (max-width: 700px) {\r\n  .columnhide {\r\n    display: none;\r\n  }\r\n}\r\n</style>\r\n"]}]}