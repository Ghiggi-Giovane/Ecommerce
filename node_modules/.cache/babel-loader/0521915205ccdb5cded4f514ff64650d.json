{"remainingRequest":"C:\\k1-services\\node_modules\\babel-loader\\lib\\index.js!C:\\k1-services\\node_modules\\cache-loader\\dist\\cjs.js??ref--1-0!C:\\k1-services\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\k1-services\\src\\pages\\almoxarifado\\views\\AlmoxarifadoMovimentacoes.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\k1-services\\src\\pages\\almoxarifado\\views\\AlmoxarifadoMovimentacoes.vue","mtime":1670977910600},{"path":"C:\\k1-services\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1670977934221},{"path":"C:\\k1-services\\node_modules\\babel-loader\\lib\\index.js","mtime":1670977935138},{"path":"C:\\k1-services\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1670977934221},{"path":"C:\\k1-services\\node_modules\\vue-loader\\lib\\index.js","mtime":1670977935327}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkucmVkdWNlLmpzIjsKLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KaW1wb3J0IERlcG9zaXRvcyBmcm9tICIuLi9jb21wb25lbnRzL0RlcG9zaXRvcy52dWUiOwppbXBvcnQgQVBJIGZyb20gIi4uLy4uLy4uL3NlcnZpY2VzL2FwaS5zZXJ2aWNlLmpzIjsKaW1wb3J0IHZpZXdzdG9yZSBmcm9tICIuLi8uLi8uLi9zZXJ2aWNlcy92aWV3c3RvcmUuanMiOwppbXBvcnQgSW5wdXRTZWFyY2gyIGZyb20gIi4uLy4uLy4uL2NvbXBvbmVudHMvSW5wdXRTZWFyY2gyLnZ1ZSI7CmltcG9ydCBTZWFyY2hBcGkgZnJvbSAiLi4vLi4vLi4vY29tcG9uZW50cy9TZWFyY2hBcGkudnVlIjsKaW1wb3J0IFNlYXJjaEFwaTIgZnJvbSAiLi4vLi4vLi4vY29tcG9uZW50cy9TZWFyY2hBcGkyLnZ1ZSI7CmltcG9ydCBQcm9wZXJ0aWVzIGZyb20gIi4uLy4uLy4uL2NvbXBvbmVudHMvUHJvcGVydGllcy52dWUiOwppbXBvcnQgeyBtYXBHZXR0ZXJzLCBtYXBBY3Rpb25zIH0gZnJvbSAidnVleCI7CmV4cG9ydCBkZWZhdWx0IHsKICBuYW1lOiAiQWxtb3hhcmlmYWRvTW92aW1lbnRhY29lcyIsCiAgY29tcG9uZW50czogewogICAgRGVwb3NpdG9zLAogICAgSW5wdXRTZWFyY2gyLAogICAgU2VhcmNoQXBpLAogICAgU2VhcmNoQXBpMiwKICAgIFByb3BlcnRpZXMKICB9LAoKICBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgcHJvcGVydGllczogewogICAgICAgIGtleXM6IFt7CiAgICAgICAgICBrZXk6ICJjb2RpZ28iLAogICAgICAgICAgbGFiZWw6ICJjw7NkaWdvIgogICAgICAgIH0sICJxdWFudCIsIHsKICAgICAgICAgIGtleTogIm5pdmVsIiwKICAgICAgICAgIGxhYmVsOiAibsOtdmVsIgogICAgICAgIH0sIHsKICAgICAgICAgIGtleTogImVuZGVyZWNvIiwKICAgICAgICAgIGxhYmVsOiAiYm94IgogICAgICAgIH0sICJnYWlvbGEiXSwKICAgICAgICBkYXRhOiB7CiAgICAgICAgICBjb2RpZ286IDIwLAogICAgICAgICAgZGVsZXRhOiAwLAogICAgICAgICAgZGVwOiAzNywKICAgICAgICAgIGVtcDogOCwKICAgICAgICAgIGVuZGVyZWNvOiAwLAogICAgICAgICAgZ2Fpb2xhOiAyMCwKICAgICAgICAgIG5pdmVsOiAxLAogICAgICAgICAgaXRlbTogW10sCiAgICAgICAgICBxdWFudDogMAogICAgICAgIH0KICAgICAgfSwKICAgICAgbW92aW1lbnRvaW5kaXZpZHVhbGNoYW5nZTogZmFsc2UsCiAgICAgIGl0ZW1idXNjYTogIiIsCiAgICAgIGl0ZW5zc2VhcmNoOiB7CiAgICAgICAgdmFsdWU6ICIiLAogICAgICAgIHRleHQ6ICIiCiAgICAgIH0sCiAgICAgIGl0ZW5zdGVzdGU6ICdbeyJpdGVtIjoiMDAwMDQyIiwicXRkZSI6IDIwLCAibG90ZSI6IDExMzU2NX0seyJpdGVtIjoiMDAwMDQzIiwicXRkZSI6IDQ1NiwgImxvdGUiOiAxMTM1NjZ9XScsCiAgICAgIGJveDogMCwKICAgICAgbml2ZWw6IDAsCiAgICAgIGl0ZW5zcmVxOiBbXSwKICAgICAgZGVwb3NpdG9zOiB7CiAgICAgICAgZW1wcmVzYTogOCwKICAgICAgICBkZXBvc2l0bzogMzcKICAgICAgfSwKICAgICAgZXh0cmF0bzogewogICAgICAgIGZpZWxkczogWyJJdGVtIiwgewogICAgICAgICAga2V5OiAiRGVzY3JpY2FvIiwKICAgICAgICAgIGxhYmVsOiAiRGVzY3Jpw6fDo28iCiAgICAgICAgfSwgIkJveCIsIHsKICAgICAgICAgIGtleTogIk5pdmVsIiwKICAgICAgICAgIGxhYmVsOiAiTsOtdmVsIgogICAgICAgIH0sIHsKICAgICAgICAgIGtleTogIlNhbGRvIiwKICAgICAgICAgIGxhYmVsOiAiRXN0b3F1ZSIKICAgICAgICB9LCB7CiAgICAgICAgICBrZXk6ICJxdGRlc29saWNpdGFkYSIsCiAgICAgICAgICBsYWJlbDogIlF0ZGVTb2xpY2l0YWRhIiwKICAgICAgICAgIHZpc2libGVkOiBmYWxzZQogICAgICAgIH0sIHsKICAgICAgICAgIGtleTogImFjdGlvbnMiLAogICAgICAgICAgbGFiZWw6ICIiCiAgICAgICAgfV0sCiAgICAgICAgZGF0YTogW10KICAgICAgfSwKICAgICAgbW92aW1lbnRhY29lczogewogICAgICAgIGZpZWxkczogW3sKICAgICAgICAgIGtleTogIlRpcG9Nb3ZpbWVudG8iLAogICAgICAgICAgbGFiZWw6ICJUaXBvIgogICAgICAgIH0sICJEb2N1bWVudG8iLCB7CiAgICAgICAgICBrZXk6ICJEYXRhTW92aW1lbnRvIiwKICAgICAgICAgIGxhYmVsOiAiRGF0YSBNb3ZpbWVudG8iCiAgICAgICAgfSwgewogICAgICAgICAga2V5OiAiVXN1YXJpbyIsCiAgICAgICAgICBsYWJlbDogIlVzdcOhcmlvIgogICAgICAgIH0sICJRdGRlIl0sCiAgICAgICAgZGF0YTogW10KICAgICAgfSwKICAgICAgbW92aW1lbnRvOiB7CiAgICAgICAgRW1wcmVzYTogOCwKICAgICAgICBEZXBvc2l0bzogMzcsCiAgICAgICAgSXRlbTogIiIsCiAgICAgICAgQm94OiAwLAogICAgICAgIE5pdmVsOiAwLAogICAgICAgIEVudHJhZGFzOiAwLAogICAgICAgIFNhaWRhczogMCwKICAgICAgICBTYWxkbzogMCwKICAgICAgICBRdGRlOiAwLAogICAgICAgIExvdGU6IDAsCiAgICAgICAgVGlwbzogIkxPVCIsCiAgICAgICAgUXRkZVNvbGljaXRhZGE6IDAsCiAgICAgICAgRGVzY3JpY2FvOiAiIiwKICAgICAgICBEYXRhTW92aW1lbnRvOiBuZXcgRGF0ZSgpLAogICAgICAgIEJ1c2NhcjogdHJ1ZQogICAgICB9LAogICAgICBtb3ZpbWVudG9pbmRpdmlkdWFsOiB7fQogICAgfTsKICB9LAoKICBwcm9wczogewogICAgdGlwb01vdmltZW50YWNhbzogewogICAgICB0eXBlOiBTdHJpbmcsCiAgICAgIGRlZmF1bHQ6ICJNQU4iCiAgICB9LAogICAgcG1vdmltZW50bzogewogICAgICB0eXBlOiBPYmplY3QsCgogICAgICBkZWZhdWx0KCkgewogICAgICAgIHJldHVybiB7CiAgICAgICAgICBlbXA6IHRoaXMuZW1wLAogICAgICAgICAgZGVwOiB0aGlzLmRlcCwKICAgICAgICAgIGJveDogdGhpcy5ib3gsCiAgICAgICAgICBuaXZlbDogdGhpcy5uaXZlbCwKICAgICAgICAgIGl0ZW5zOiB0aGlzLml0ZW0KICAgICAgICB9OwogICAgICB9CgogICAgfQogIH0sCiAgY29tcHV0ZWQ6IHsgLi4ubWFwR2V0dGVycyhbInN5c2Rldm1vZGUiXSksCiAgICBpdGVuczogewogICAgICBnZXQoKSB7CiAgICAgICAgcmV0dXJuIHRoaXMuaXRlbnNyZXEubWFwKGkgPT4gaS5pdGVtKTsKICAgICAgfSwKCiAgICAgIHNldCh2YWx1ZSkgewogICAgICAgIC8vY29uc29sZS5sb2coIml0ZW5zLnNldCIsIHZhbHVlKTsKICAgICAgICBjb25zdCBpdGVucyA9IHZhbHVlLm1hcCh2ID0+ICh7CiAgICAgICAgICBpdGVtOiB2WyJpdGVtIl0gfHwgdiwKICAgICAgICAgIHF0ZGU6IHZbInF0ZGUiXSB8fCAwLAogICAgICAgICAgbG90ZTogdlsibG90ZSJdIHx8IDAKICAgICAgICB9KSk7CiAgICAgICAgdGhpcy5pdGVuc3JlcSA9IGl0ZW5zOwogICAgICB9CgogICAgfSwKCiAgICB2bW9kYWxfbW92aW1lbnRhcl9vaygpIHsKICAgICAgcmV0dXJuIHRoaXMubW92aW1lbnRvLkl0ZW0gIT0gIiIgJiYgdGhpcy5tb3ZpbWVudG8uQm94ID4gMCAmJiB0aGlzLm1vdmltZW50by5OaXZlbCA+IDAgJiYgdGhpcy5tb3ZpbWVudG8uUXRkZSAhPSAwICYmIHRoaXMubW92aW1lbnRvc2FsZG8gPiAtMTsKICAgIH0sCgogICAgdm1vdmltZW50bygpIHsKICAgICAgcmV0dXJuIHsKICAgICAgICBJdGVtOiB0aGlzLm1vdmltZW50by5JdGVtICE9ICIiLAogICAgICAgIEJveDogdGhpcy5tb3ZpbWVudG8uQm94ID4gMCwKICAgICAgICBOaXZlbDogdGhpcy5tb3ZpbWVudG8uTml2ZWwgPiAwLAogICAgICAgIFF0ZGU6IHRoaXMubW92aW1lbnRvLlF0ZGUgIT0gMCAmJiB0aGlzLm1vdmltZW50b3NhbGRvID4gLTEsCiAgICAgICAgU2FsZG86IHRoaXMubW92aW1lbnRvc2FsZG8gPiAtMSwKICAgICAgICB2YWxpZDogdGhpcy5tb3ZpbWVudG8uSXRlbSAhPSAiIiAmJiB0aGlzLm1vdmltZW50by5Cb3ggPiAwICYmIHRoaXMubW92aW1lbnRvLk5pdmVsID4gMCAmJiB0aGlzLm1vdmltZW50by5RdGRlICE9IDAgJiYgdGhpcy5tb3ZpbWVudG9zYWxkbyA+IC0xCiAgICAgIH07CiAgICB9LAoKICAgIHBhcmFtYnVzY2EoKSB7CiAgICAgIHJldHVybiB7CiAgICAgICAgZW1wcmVzYTogdGhpcy5kZXBvc2l0b3MuZW1wcmVzYSwKICAgICAgICBkZXBvc2l0bzogdGhpcy5kZXBvc2l0b3MuZGVwb3NpdG8sCiAgICAgICAgYm94OiB0aGlzLmJveCwKICAgICAgICBuaXZlbDogdGhpcy5uaXZlbCwKICAgICAgICBpdGVuczogdGhpcy5pdGVuc3JlcSwKICAgICAgICAvL3RoaXMuaXRlbnMsCiAgICAgICAgdmFsaWQ6IHRoaXMubW92aW1lbnRvLkl0ZW0gIT0gIiIgJiYgdGhpcy5tb3ZpbWVudG8uQm94ID4gMCAmJiB0aGlzLm1vdmltZW50by5OaXZlbCA+IDAgJiYgKHRoaXMubW92aW1lbnRvLkl0ZW0gIT0gdGhpcy5tb3ZpbWVudG9pbmRpdmlkdWFsLkl0ZW0gfHwgdGhpcy5tb3ZpbWVudG8uQm94ICE9IHRoaXMubW92aW1lbnRvaW5kaXZpZHVhbC5Cb3ggfHwgdGhpcy5tb3ZpbWVudG8uTml2ZWwgIT0gdGhpcy5tb3ZpbWVudG9pbmRpdmlkdWFsLk5pdmVsKQogICAgICB9OwogICAgfSwKCiAgICBwYXJhbWJ1c2NhaW5kaXZpZHVhbCgpIHsKICAgICAgcmV0dXJuIHsKICAgICAgICBlbXByZXNhOiB0aGlzLm1vdmltZW50by5FbXByZXNhLAogICAgICAgIGRlcG9zaXRvOiB0aGlzLm1vdmltZW50by5EZXBvc2l0bywKICAgICAgICBib3g6IHRoaXMubW92aW1lbnRvLkJveCwKICAgICAgICBuaXZlbDogdGhpcy5tb3ZpbWVudG8uTml2ZWwsCiAgICAgICAgaXRlbnM6IFt0aGlzLm1vdmltZW50by5JdGVtXSwKICAgICAgICBmaWVsZHM6IFt7CiAgICAgICAgICBrZXk6ICJkZXNjcmljYW9pdGVtIiwKICAgICAgICAgIGxhYmVsOiAiSXRlbSIKICAgICAgICB9LCAiQm94IiwgewogICAgICAgICAga2V5OiAiTml2ZWwiLAogICAgICAgICAgbGFiZWw6ICJuw612ZWwiCiAgICAgICAgfV0sCiAgICAgICAgdmFsaWQ6IHRoaXMubW92aW1lbnRvLkl0ZW0gIT0gIiIgJiYgdGhpcy5tb3ZpbWVudG8uQm94ID4gMCAmJiB0aGlzLm1vdmltZW50by5OaXZlbCA+IDAsCiAgICAgICAgY2hhbmdlZDogdGhpcy5tb3ZpbWVudG9pbmRpdmlkdWFsY2hhbmdlCiAgICAgIH07CiAgICB9LAoKICAgIHBhcmFtbW92aW1lbnRvKCkgewogICAgICByZXR1cm4gewogICAgICAgIEVtcHJlc2E6IHRoaXMubW92aW1lbnRvLkVtcHJlc2EgfHwgOCwKICAgICAgICBEZXBvc2l0bzogdGhpcy5tb3ZpbWVudG8uRGVwb3NpdG8gfHwgMzcsCiAgICAgICAgSXRlbTogdGhpcy5tb3ZpbWVudG8uSXRlbSB8fCAiIiwKICAgICAgICBCb3g6IHRoaXMubW92aW1lbnRvLkJveCB8fCAwLAogICAgICAgIE5pdmVsOiB0aGlzLm1vdmltZW50by5OaXZlbCB8fCAwLAogICAgICAgIFF0ZGU6IHRoaXMubW92aW1lbnRvLlF0ZGUgfHwgMCwKICAgICAgICBMb3RlOiB0aGlzLm1vdmltZW50by5Mb3RlIHx8IDAsCiAgICAgICAgVGlwbzogdGhpcy5tb3ZpbWVudG8uVGlwbyB8fCAwLAogICAgICAgIERhdGFNb3ZpbWVudG86IHRoaXMubW92aW1lbnRvLkRhdGFNb3ZpbWVudG8gfHwgbmV3IERhdGUoKQogICAgICB9OwogICAgfSwKCiAgICBleHRyYXRvaXRlbnMoKSB7CiAgICAgIHJldHVybiB0aGlzLmV4dHJhdG8uZGF0YS5maWx0ZXIoKHYsIGksIGEpID0+IGEuZmluZEluZGV4KGYgPT4gZi5JdGVtID09IHYuSXRlbSkgPT09IGkpLm1hcChpID0+ICh7CiAgICAgICAgSXRlbTogaS5JdGVtLAogICAgICAgIERlc2NyaWNhbzogaS5EZXNjcmljYW8sCiAgICAgICAgUXRkZTogdGhpcy5leHRyYXRvLmRhdGEucmVkdWNlKChhLCBiKSA9PiBwYXJzZUZsb2F0KGEpICsgcGFyc2VGbG9hdChiLlNhbGRvKSwgMCksCiAgICAgICAgZXN0b3F1ZTogdGhpcy5leHRyYXRvLmRhdGEuZmlsdGVyKGQgPT4gZC5JdGVtID09IGkuSXRlbSkubWFwKGUgPT4gKHsKICAgICAgICAgIEJveDogZS5Cb3gsCiAgICAgICAgICBOaXZlbDogZS5OaXZlbCwKICAgICAgICAgIFNhbGRvOiBlLlNhbGRvCiAgICAgICAgfSkpCiAgICAgIH0pKTsKICAgIH0sCgogICAgbW92aW1lbnRvcGFkcmFvKCkgewogICAgICByZXR1cm4gewogICAgICAgIEVtcHJlc2E6IDgsCiAgICAgICAgRGVwb3NpdG86IDM3LAogICAgICAgIEl0ZW06IHR5cGVvZiB0aGlzLnBhcmFtYnVzY2EuaXRlbnNbMF0gPT0gIm9iamVjdCIgPyB0aGlzLnBhcmFtYnVzY2EuaXRlbnNbMF0uaXRlbSA6IHRoaXMucGFyYW1idXNjYS5pdGVuc1swXSB8fCAiIiwKICAgICAgICBCb3g6IHRoaXMucGFyYW1idXNjYS5ib3ggfHwgMCwKICAgICAgICBOaXZlbDogdGhpcy5wYXJhbWJ1c2NhLm5pdmVsID09IDAgPyAxIDogdGhpcy5wYXJhbWJ1c2NhLm5pdmVsIHx8IDAsCiAgICAgICAgRW50cmFkYXM6IDAsCiAgICAgICAgU2FpZGFzOiAwLAogICAgICAgIFNhbGRvOiAwLAogICAgICAgIFF0ZGU6IDAsCiAgICAgICAgRGVzY3JpY2FvOiAiIgogICAgICB9OwogICAgfSwKCiAgICBtb3ZpbWVudG9zYWxkbygpIHsKICAgICAgbGV0IGVzdG9xdWUgPSBpc05hTihwYXJzZUZsb2F0KHRoaXMubW92aW1lbnRvaW5kaXZpZHVhbC5TYWxkbykpID8gMCA6IHBhcnNlRmxvYXQodGhpcy5tb3ZpbWVudG9pbmRpdmlkdWFsLlNhbGRvKTsKICAgICAgbGV0IHF0ZGUgPSBpc05hTihwYXJzZUZsb2F0KHRoaXMubW92aW1lbnRvLlF0ZGUpKSA/IDAgOiBwYXJzZUZsb2F0KHRoaXMubW92aW1lbnRvLlF0ZGUpOwogICAgICByZXR1cm4gZXN0b3F1ZSArIHF0ZGU7CiAgICB9CgogIH0sCgogIGJlZm9yZU1vdW50KCkgey8vdmlld3N0b3JlLnN5bmNEYXRhKHRoaXMuJGRhdGEpOwogIH0sCgogIG1ldGhvZHM6IHsKICAgIHJlc2V0bW92aW1lbnRvKCkgewogICAgICB0aGlzLm1vdmltZW50byA9IHsKICAgICAgICBFbXByZXNhOiB0aGlzLmRlcG9zaXRvcy5FbXByZXNhIHx8IDgsCiAgICAgICAgRGVwb3NpdG86IHRoaXMuZGVwb3NpdG9zLkRlcG9zaXRvIHx8IDM3LAogICAgICAgIEl0ZW06ICIiLAogICAgICAgIEJveDogMCwKICAgICAgICBOaXZlbDogMCwKICAgICAgICBFbnRyYWRhczogMCwKICAgICAgICBTYWlkYXM6IDAsCiAgICAgICAgU2FsZG86IDAsCiAgICAgICAgUXRkZTogMCwKICAgICAgICBRdGRlU29saWNpdGFkYTogMCwKICAgICAgICBEZXNjcmljYW86ICIiLAogICAgICAgIERhdGFNb3ZpbWVudG86IG5ldyBEYXRlKCkKICAgICAgfTsKICAgIH0sCgogICAgcmVzZXRtb3ZpbWVudG9pbmRpdmlkdWFsKCkgewogICAgICB0aGlzLm1vdmltZW50b2luZGl2aWR1YWwgPSB7CiAgICAgICAgRW1wcmVzYTogdGhpcy5kZXBvc2l0b3MuRW1wcmVzYSB8fCA4LAogICAgICAgIERlcG9zaXRvOiB0aGlzLmRlcG9zaXRvcy5EZXBvc2l0byB8fCAzNywKICAgICAgICBJdGVtOiAiIiwKICAgICAgICBCb3g6IDAsCiAgICAgICAgTml2ZWw6IDAsCiAgICAgICAgRW50cmFkYXM6IDAsCiAgICAgICAgU2FpZGFzOiAwLAogICAgICAgIFNhbGRvOiAwLAogICAgICAgIFF0ZGU6IDAsCiAgICAgICAgRGVzY3JpY2FvOiAiIiwKICAgICAgICBEYXRhTW92aW1lbnRvOiBuZXcgRGF0ZSgpCiAgICAgIH07CiAgICAgIHRoaXMubW92aW1lbnRvaW5kaXZpZHVhbGNoYW5nZSA9IGZhbHNlOwogICAgfSwKCiAgICByZXNldCgpIHsKICAgICAgdGhpcy5ib3ggPSAwOwogICAgICB0aGlzLm5pdmVsID0gMDsgLy90aGlzLml0ZW5zID0gW107CgogICAgICB0aGlzLmRlcG9zaXRvcyA9IHsKICAgICAgICBlbXByZXNhOiA4LAogICAgICAgIGRlcG9zaXRvOiAzNwogICAgICB9OwogICAgICB0aGlzLnJlc2V0bW92aW1lbnRvKCk7CiAgICAgIHRoaXMucmVzZXRtb3ZpbWVudG9pbmRpdmlkdWFsKCk7CiAgICB9LAoKICAgIHJlc2V0YWxsKCkgewogICAgICB0aGlzLnJlc2V0KCk7CiAgICAgIHRoaXMuZXh0cmF0by5kYXRhID0gW107CiAgICAgIHRoaXMuaXRlbnMgPSBbXTsKICAgIH0sCgogICAgY2xhc3NUYWcodGFnKSB7CiAgICAgIHJldHVybiB0aGlzLmV4dHJhdG8uZGF0YS5sZW5ndGggPT0gMCA/ICJiZy1zZWNvbmRhcnkiIDogdGhpcy5leHRyYXRvLmRhdGEuZmluZChpID0+IGkuSXRlbSA9PSB0YWcpID8gImJnLXN1Y2Nlc3MiIDogImJnLWRhbmdlciI7CiAgICB9LAoKICAgIHNhbHZhRGF0YSgpIHsKICAgICAgdmlld3N0b3JlLnNldERhdGEodGhpcy4kZGF0YSk7CiAgICB9LAoKICAgIGFkZGl0ZW0oaXRlbSkgewogICAgICAvLyBjb25zb2xlLmxvZygiYWRkaXRlbS5pdGVtIiwgaXRlbSk7CiAgICAgIGNvbnN0IGFkZGl0ZW0gPSB7CiAgICAgICAgaXRlbTogaXRlbSwKICAgICAgICBxdGRlOiAwLAogICAgICAgIGxvdGU6IDAKICAgICAgfTsKCiAgICAgIGlmICh0aGlzLml0ZW5zcmVxLmZpbmRJbmRleChmID0+IGYgPT0gYWRkaXRlbSkgPT0gLTEpIHsKICAgICAgICB0aGlzLml0ZW5zcmVxLnB1c2goYWRkaXRlbSk7CiAgICAgIH0KCiAgICAgIHRoaXMuaXRlbWJ1c2NhID0gIiI7CiAgICB9LAoKICAgIHJlbW92ZVRhZyh0YWcpIHsKICAgICAgLy8gY29uc29sZS5sb2coInJlbW92ZVRhZy50YWciLCB0YWcpOwogICAgICBpZiAodGhpcy5pdGVuc3JlcS5maW5kSW5kZXgoZiA9PiBmLml0ZW0gPT0gdGFnKSA+IC0xKSB7CiAgICAgICAgdGhpcy5pdGVuc3JlcS5zcGxpY2UodGhpcy5pdGVuc3JlcS5maW5kSW5kZXgoZiA9PiBmLml0ZW0gPT0gdGFnKSwgMSk7CiAgICAgIH0KICAgIH0sCgogICAgbW92aW1lbnRhcihkYXRhKSB7CiAgICAgIC8qIGNvbnNvbGUubG9nKCJtb3ZpbWVudGFyLmRhdGEiLCBkYXRhKTsgKi8KICAgICAgdGhpcy5tb3ZpbWVudG8gPSB7CiAgICAgICAgRW1wcmVzYTogZGF0YS5FbXByZXNhLAogICAgICAgIERlcG9zaXRvOiBkYXRhLkRlcG9zaXRvLAogICAgICAgIEl0ZW06IGRhdGEuSXRlbSwKICAgICAgICBCb3g6IGRhdGEuQm94LAogICAgICAgIE5pdmVsOiBkYXRhLk5pdmVsID09IDAgPyAxIDogZGF0YS5OaXZlbCwKICAgICAgICBFbnRyYWRhczogZGF0YS5FbnRyYWRhcywKICAgICAgICBTYWlkYXM6IGRhdGEuU2FpZGFzLAogICAgICAgIFNhbGRvOiBkYXRhLlNhbGRvLAogICAgICAgIFF0ZGVTb2xpY2l0YWRhOiAodGhpcy5pdGVuc3JlcS5maW5kKGYgPT4gZi5pdGVtID09IGRhdGEuSXRlbSkgfHwgW3sKICAgICAgICAgIHF0ZGU6IDAKICAgICAgICB9XSkucXRkZSwKICAgICAgICBMb3RlOiAodGhpcy5pdGVuc3JlcS5maW5kKGYgPT4gZi5pdGVtID09IGRhdGEuSXRlbSkgfHwgW3sKICAgICAgICAgIGxvdGU6IDAKICAgICAgICB9XSkubG90ZSwKICAgICAgICBUaXBvOiB0aGlzLnRpcG9Nb3ZpbWVudGFjYW8gfHwgIkxPVCIsCiAgICAgICAgUXRkZTogZGF0YS5RdGRlLAogICAgICAgIERlc2NyaWNhbzogZGF0YS5EZXNjcmljYW8sCiAgICAgICAgRGF0YU1vdmltZW50bzogbmV3IERhdGUoKQogICAgICB9OwoKICAgICAgaWYgKHRoaXMubW92aW1lbnRvLlF0ZGVTb2xpY2l0YWRhID4gdGhpcy5tb3ZpbWVudG8uU2FsZG8pIHsKICAgICAgICB0aGlzLm1vdmltZW50by5RdGRlID0gdGhpcy5tb3ZpbWVudG8uU2FsZG8gKiAtMTsKICAgICAgfSBlbHNlIHsKICAgICAgICB0aGlzLm1vdmltZW50by5RdGRlID0gdGhpcy5tb3ZpbWVudG8uUXRkZVNvbGljaXRhZGEgKiAtMTsKICAgICAgfQoKICAgICAgdGhpcy5pdGVuc3NlYXJjaC52YWx1ZSA9IGRhdGEuSXRlbTsKICAgICAgdGhpcy5pdGVuc3NlYXJjaC50ZXh0ID0gZGF0YS5JdGVtOwogICAgfSwKCiAgICBhdHVhbGl6YShkYXRhKSB7CiAgICAgIC8vdGhpcy5tb3ZpbWVudGFyKGRhdGEpOwoKICAgICAgLyogY29uc29sZS5sb2coImF0dWFsaXphLm1vdmltZW50byIsIHRoaXMubW92aW1lbnRvKTsgKi8KICAgICAgQVBJLnBvc3QoInYyL1Byb2R1Y2FvL0FsbW94YXJpZmFkb19Nb3ZpbWVudGFjb2VzL1VwZGF0ZSIsIHRoaXMucGFyYW1tb3ZpbWVudG8pLnRoZW4oYXBpZGF0YSA9PiB7CiAgICAgICAgLy8gY29uc29sZS5sb2coImJ1c2NhLmFwaWRhdGE6IiwgYXBpZGF0YSk7CiAgICAgICAgaWYgKGFwaWRhdGEuZGF0YS5TdWNjZXNzKSB7CiAgICAgICAgICBjb25zdCByZXMgPSBBUEkucHJlcGFyZURhdGEoYXBpZGF0YS5kYXRhKTsgLy9jb25zb2xlLmxvZygiYXR1YWxpemEucmVzOiIsIHJlcy5hcGlyZXNwb25zZS5EYXRhKTsKCiAgICAgICAgICB0aGlzLmJ1c2NhKCk7CiAgICAgICAgICB0aGlzLnJlc2V0KCk7CiAgICAgICAgfQogICAgICB9KTsKICAgIH0sCgogICAgYnVzY2EoKSB7CiAgICAgIC8vIGNvbnNvbGUubG9nKCJidXNjYS5wYXJhbWJ1c2NhIiwgdGhpcy5wYXJhbWJ1c2NhKTsKICAgICAgQVBJLnBvc3QoInYyL1Byb2R1Y2FvL0FsbW94YXJpZmFkb19Nb3ZpbWVudGFjb2VzL0V4dHJhdG9HZXQiLCB0aGlzLnBhcmFtYnVzY2EpLnRoZW4oYXBpZGF0YSA9PiB7CiAgICAgICAgLy8gY29uc29sZS5sb2coImJ1c2NhLmFwaWRhdGE6IiwgYXBpZGF0YSk7CiAgICAgICAgaWYgKGFwaWRhdGEuZGF0YS5TdWNjZXNzKSB7CiAgICAgICAgICBjb25zdCByZXMgPSBBUEkucHJlcGFyZURhdGEoYXBpZGF0YS5kYXRhKTsKICAgICAgICAgIHRoaXMuZXh0cmF0by5kYXRhID0gcmVzLmFwaXJlc3BvbnNlLkRhdGE7IC8vdGhpcy5zYWx2YURhdGEoKTsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgdGhpcy5leHRyYXRvLmRhdGEgPSBbXTsKICAgICAgICB9CiAgICAgIH0pLmNhdGNoKCgpID0+IHRoaXMuZXh0cmF0by5kYXRhID0gW10pOwogICAgfSwKCiAgICBidXNjYW1vdmltZW50YWNvZXMoaXRlbSkgewogICAgICAvLyBjb25zb2xlLmxvZygiYnVzY2EucGFyYW1idXNjYWluZGl2aWR1YWwiLCBpdGVtKTsKICAgICAgQVBJLnBvc3QoInYyL1Byb2R1Y2FvL0FsbW94YXJpZmFkb19Nb3ZpbWVudGFjb2VzL0dldCIsIGl0ZW0pLnRoZW4oYXBpZGF0YSA9PiB7CiAgICAgICAgLy8gY29uc29sZS5sb2coImJ1c2NhLmFwaWRhdGE6IiwgYXBpZGF0YSk7CiAgICAgICAgaWYgKGFwaWRhdGEuZGF0YS5TdWNjZXNzKSB7CiAgICAgICAgICBjb25zdCByZXMgPSBBUEkucHJlcGFyZURhdGEoYXBpZGF0YS5kYXRhKTsKICAgICAgICAgIHRoaXMubW92aW1lbnRhY29lcy5kYXRhID0gcmVzLmFwaXJlc3BvbnNlLkRhdGE7CiAgICAgICAgICB0aGlzLm1vdmltZW50b2luZGl2aWR1YWwgPSByZXMuYXBpcmVzcG9uc2UuRGF0YVswXTsgLy90aGlzLnNhbHZhRGF0YSgpOwogICAgICAgIH0gZWxzZSB7Ly90aGlzLm1vdmltZW50YWNvZXMuZGF0YSA9IFtdOwogICAgICAgIH0KICAgICAgfSkuY2F0Y2goKCkgPT4gdGhpcy5tb3ZpbWVudGFjb2VzLmRhdGEgPSBbXSk7CiAgICB9LAoKICAgIGJ1c2NhaW5kaXZpZHVhbCgpIHsKICAgICAgLy9jb25zb2xlLmxvZygiYnVzY2FpbmRpdmlkdWFsLnBhcmFtYnVzY2FpbmRpdmlkdWFsIix0aGlzLnBhcmFtYnVzY2FpbmRpdmlkdWFsKTsKICAgICAgaWYgKHRoaXMucGFyYW1idXNjYWluZGl2aWR1YWwudmFsaWQpIHsKICAgICAgICBBUEkucG9zdCgidjIvUHJvZHVjYW8vQWxtb3hhcmlmYWRvX01vdmltZW50YWNvZXMvRXh0cmF0b0dldCIsIHRoaXMucGFyYW1idXNjYWluZGl2aWR1YWwpLnRoZW4oYXBpZGF0YSA9PiB7CiAgICAgICAgICAvLyBjb25zb2xlLmxvZygiYnVzY2FpbmRpdmlkdWFsLmFwaWRhdGE6IiwgYXBpZGF0YSk7CiAgICAgICAgICBpZiAoYXBpZGF0YS5kYXRhLlN1Y2Nlc3MpIHsKICAgICAgICAgICAgY29uc3QgcmVzID0gQVBJLnByZXBhcmVEYXRhKGFwaWRhdGEuZGF0YSk7CiAgICAgICAgICAgIHRoaXMubW92aW1lbnRvaW5kaXZpZHVhbCA9IHJlcy5hcGlyZXNwb25zZS5EYXRhWzBdOwogICAgICAgICAgICB0aGlzLm1vdmltZW50b2luZGl2aWR1YWxjaGFuZ2UgPSBmYWxzZTsKICAgICAgICAgICAgdGhpcy5zYWx2YURhdGEoKTsKICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgIHRoaXMucmVzZXRtb3ZpbWVudG9pbmRpdmlkdWFsKCk7CiAgICAgICAgICB9CiAgICAgICAgfSkuY2F0Y2goKCkgPT4gey8vdGhpcy5yZXNldG1vdmltZW50b2luZGl2aWR1YWwoKTsKICAgICAgICB9KTsKICAgICAgfQogICAgfSwKCiAgICBtb3ZpbWVudG9jaGFuZ2UoKSB7CiAgICAgIHJldHVybiB7CiAgICAgICAgSXRlbTogdGhpcy5tb3ZpbWVudG8uSXRlbSwKICAgICAgICBCb3g6IHRoaXMubW92aW1lbnRvLkJveCwKICAgICAgICBOaXZlbDogdGhpcy5tb3ZpbWVudG8uTml2ZWwKICAgICAgfTsKICAgIH0sCgogICAgbW9kYWxtb3ZpbWVudGFyc2hvd24oKSB7CiAgICAgIHRoaXMuYnVzY2FpbmRpdmlkdWFsKCk7CiAgICB9CgogIH0sCiAgd2F0Y2g6IHsKICAgIHBhcmFtYnVzY2FpbmRpdmlkdWFsOiB7CiAgICAgIGRlZXA6IHRydWUsCgogICAgICBoYW5kbGVyKCkgewogICAgICAgIHRoaXMuYnVzY2FpbmRpdmlkdWFsKCk7CiAgICAgIH0KCiAgICB9LAogICAgaXRlbnNzZWFyY2g6IHsKICAgICAgZGVlcDogdHJ1ZSwKCiAgICAgIGhhbmRsZXIoZGF0YSkgewogICAgICAgIGlmICh0aGlzLm1vdmltZW50by5JdGVtICE9IGRhdGEudmFsdWUpIHsKICAgICAgICAgIHRoaXMubW92aW1lbnRvLkl0ZW0gPSBkYXRhLnZhbHVlOwogICAgICAgIH0KICAgICAgfQoKICAgIH0KICB9Cn07"},{"version":3,"mappings":"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","names":["name","components","Depositos","InputSearch2","SearchApi","SearchApi2","Properties","data","properties","keys","key","label","codigo","deleta","dep","emp","endereco","gaiola","nivel","item","quant","movimentoindividualchange","itembusca","itenssearch","value","text","itensteste","box","itensreq","depositos","empresa","deposito","extrato","fields","visibled","movimentacoes","movimento","Empresa","Deposito","Item","Box","Nivel","Entradas","Saidas","Saldo","Qtde","Lote","Tipo","QtdeSolicitada","Descricao","DataMovimento","Buscar","movimentoindividual","props","tipoMovimentacao","type","default","pmovimento","itens","computed","get","set","qtde","lote","vmodal_movimentar_ok","vmovimento","valid","parambusca","parambuscaindividual","changed","parammovimento","extratoitens","filter","map","i","estoque","d","e","movimentopadrao","movimentosaldo","parseFloat","beforeMount","methods","resetmovimento","resetmovimentoindividual","reset","resetall","classTag","salvaData","viewstore","additem","removeTag","movimentar","atualiza","API","then","apidata","busca","catch","buscamovimentacoes","buscaindividual","movimentochange","modalmovimentarshown","watch","deep","handler"],"sourceRoot":"src/pages/almoxarifado/views","sources":["AlmoxarifadoMovimentacoes.vue"],"sourcesContent":["<template>\r\n  <div class=\"m-2\">\r\n    <b-card>\r\n      <Depositos :tipo=\"2\" v-model=\"depositos\" />\r\n\r\n      <div span tiitle=\"dsdsd\"></div>\r\n\r\n      <b-row>\r\n        <b-col cols=\"12\" md=\"6\">\r\n          <b-form-group label=\"Box\" label-for=\"input-box\">\r\n            <b-form-input\r\n              id=\"input-box\"\r\n              type=\"number\"\r\n              class=\"text-right\"\r\n              v-model=\"box\"\r\n            >\r\n            </b-form-input>\r\n          </b-form-group>\r\n        </b-col>\r\n\r\n        <b-col cols=\"12\" md=\"6\">\r\n          <b-form-group :label=\"`Nível - ${nivel}`\" label-for=\"input-nivel\">\r\n            <b-form-input\r\n              id=\"input-nivel\"\r\n              type=\"range\"\r\n              min=\"0\"\r\n              max=\"5\"\r\n              class=\"text-right\"\r\n              v-model=\"nivel\"\r\n            >\r\n            </b-form-input>\r\n          </b-form-group>\r\n        </b-col>\r\n      </b-row>\r\n\r\n      <b-row>\r\n        <b-col cols=\"12\">\r\n          <b-form-group label=\"Itens\" label-for=\"input-itens\">\r\n            <b-form-tags\r\n              v-model=\"itens\"\r\n              separator=\" ,;\"\r\n              style=\"padding: 0; border: 0;\"\r\n            >\r\n              <template v-slot=\"{ inputAttrs, inputHandlers, addTag }\">\r\n                <div class=\"d-flex flex-column\">\r\n                  <SearchApi2\r\n                    id=\"input-item\"\r\n                    pkid=\"input-itemSearch\"\r\n                    route=\"Servicos/Itens/MateriaPrima\"\r\n                    v-model=\"itembusca\"\r\n                  />\r\n                  <b-button\r\n                    variant=\"success\"\r\n                    class=\"my-1\"\r\n                    :disabled=\"itembusca == ''\"\r\n                    @click=\"additem(itembusca)\"\r\n                  >\r\n                    <b-icon-plus />\r\n                    Adicionar\r\n                  </b-button>\r\n                </div>\r\n\r\n                <b-input-group aria-controls=\"my-custom-tags-list\">\r\n                  <input\r\n                    v-bind=\"inputAttrs\"\r\n                    v-on=\"inputHandlers\"\r\n                    placeholder=\"Código do produto\"\r\n                    class=\"form-control\"\r\n                  />\r\n                </b-input-group>\r\n                <div class=\"d-inline-block\">\r\n                  <b-form-tag\r\n                    v-for=\"tag in itens\"\r\n                    @remove=\"removeTag(tag)\"\r\n                    :key=\"tag\"\r\n                    :title=\"tag\"\r\n                    variant=\"secondary\"\r\n                    class=\"mr-1 mt-1\"\r\n                    :class=\"classTag(tag)\"\r\n                    >{{ tag }}</b-form-tag\r\n                  >\r\n                </div>\r\n              </template>\r\n            </b-form-tags>\r\n          </b-form-group>\r\n        </b-col>\r\n      </b-row>\r\n\r\n      <div class=\"d-flex justify-content-end flex-row\">\r\n        <b-button variant=\"primary\" class=\"m-1\" @click=\"busca\"\r\n          >Pesquisar</b-button\r\n        >\r\n        <b-button\r\n          variant=\"success\"\r\n          class=\"m-1\"\r\n          v-b-modal.modal_movimentar\r\n          @click=\"movimentar(movimentopadrao)\"\r\n          >Movimentar</b-button\r\n        >\r\n        <b-button variant=\"secondary\" class=\"m-1\" @click=\"resetall\"\r\n          >Limpar</b-button\r\n        >\r\n      </div>\r\n\r\n      <b-row class=\"mt-2\">\r\n        <b-col cols=\"12\">\r\n          <b-table\r\n            small\r\n            hover\r\n            striped\r\n            responsive\r\n            headerTitle=\"Extrato do Estoque\"\r\n            :items=\"extrato.data\"\r\n            :fields=\"extrato.fields\"\r\n          >\r\n            <template #cell(actions)=\"data\" class=\"text-center\">\r\n              <span\r\n                class=\"iconbutton\"\r\n                v-b-modal.modal_movimentar\r\n                title=\"Movimentar este item\"\r\n                @click=\"movimentar(data.item)\"\r\n              >\r\n                <b-icon-pencil-square variant=\"success\" />\r\n              </span>\r\n              <span\r\n                class=\"iconbutton\"\r\n                v-b-modal.modal-movimentacoes\r\n                @click=\"buscamovimentacoes(data.item)\"\r\n              >\r\n                <b-icon-list-check\r\n                  variant=\"primary\"\r\n                  title=\"Extrato de Movimentaçöes\"\r\n                />\r\n              </span>\r\n            </template>\r\n            <template #head(actions)>\r\n              <span\r\n                class=\"iconbutton\"\r\n                v-b-modal.modal_movimentar\r\n                @click=\"movimentar(movimentopadrao)\"\r\n              >\r\n                <b-icon-plus variant=\"success\" title=\"Nova Movimentação\" />\r\n                <span\r\n                  style=\"font-size: 12px; color: green; font-weight: normal;\"\r\n                  >Incluir</span\r\n                >\r\n              </span>\r\n            </template>\r\n          </b-table>\r\n        </b-col>\r\n      </b-row>\r\n      <!--\r\n      <div>\r\n        movimentacoes:\r\n        <pre>{{ movimentacoes }}</pre>\r\n        extrato:\r\n        <pre>{{ extrato.data }}</pre>\r\n        parambusca:\r\n        <pre>{{ parambusca }}</pre>\r\n        itens:\r\n        <pre>{{ itens }}</pre>\r\n      </div>\r\n      -->\r\n      <!-- TESTES -->\r\n\r\n      <div class=\"jumbotron\" v-if=\"sysdevmode\">\r\n        <b-form-group label=\"Parse itens\" label-for=\"input-teste\">\r\n          <b-form-input id=\"input-teste\" type=\"text\" v-model=\"itensteste\">\r\n          </b-form-input>\r\n        </b-form-group>\r\n        <b-button variant=\"success\" @click=\"itens = JSON.parse(itensteste)\">\r\n          <b-icon-plus />\r\n          Adicionar\r\n        </b-button>\r\n        <br />\r\n        <json-viewer\r\n          :value=\"movimento\"\r\n          :expand-depth=\"5\"\r\n          v-if=\"sysdevmode\"\r\n          copyable\r\n          boxed\r\n          sort\r\n        >\r\n        </json-viewer>\r\n        <json-viewer\r\n          :value=\"parammovimento\"\r\n          :expand-depth=\"5\"\r\n          v-if=\"sysdevmode\"\r\n          copyable\r\n          boxed\r\n          sort\r\n        >\r\n        </json-viewer>\r\n        <json-viewer\r\n          :value=\"itens\"\r\n          :expand-depth=\"5\"\r\n          v-if=\"sysdevmode\"\r\n          copyable\r\n          boxed\r\n          sort\r\n        >\r\n        </json-viewer>\r\n        <json-viewer\r\n          :value=\"extratoitens\"\r\n          :expand-depth=\"5\"\r\n          v-if=\"sysdevmode\"\r\n          copyable\r\n          boxed\r\n          sort\r\n        >\r\n        </json-viewer>\r\n        <json-viewer\r\n          :value=\"itensreq\"\r\n          :expand-depth=\"5\"\r\n          v-if=\"sysdevmode\"\r\n          copyable\r\n          boxed\r\n          sort\r\n        >\r\n        </json-viewer>\r\n      </div>\r\n      <!-- FIM TESTES  -->\r\n    </b-card>\r\n\r\n    <!-- MODAIS -->\r\n    <b-modal\r\n      id=\"modal-buscar\"\r\n      ref=\"modal-buscar\"\r\n      size=\"xl\"\r\n      scrollable\r\n      title=\"Busca produtos\"\r\n      ok-only\r\n      ok-title=\"Fechar\"\r\n    >\r\n      <SearchApi2\r\n        id=\"input-item\"\r\n        pkid=\"input-itemSearch\"\r\n        route=\"Servicos/Itens/MateriaPrima\"\r\n        v-model=\"itembusca\"\r\n      />\r\n      <div class=\"d-flex justify-content-end mt-2\">\r\n        <b-button variant=\"success\" @click=\"additem(itembusca)\">\r\n          <b-icon-plus />\r\n          Adicionar\r\n        </b-button>\r\n      </div>\r\n    </b-modal>\r\n\r\n    <b-modal\r\n      id=\"modal-movimentacoes\"\r\n      ref=\"modal-movimentacoes\"\r\n      size=\"xl\"\r\n      scrollable\r\n      title=\"Movimentações de produtos\"\r\n      ok-only\r\n      ok-title=\"Fechar\"\r\n    >\r\n      <b-row>\r\n        <b-col>\r\n          <Properties\r\n            proppercase\r\n            bordered\r\n            small\r\n            :items=\"movimentoindividual\"\r\n            :fields=\"parambuscaindividual.fields\"\r\n          />\r\n        </b-col>\r\n      </b-row>\r\n\r\n      <b-table\r\n        small\r\n        hover\r\n        striped\r\n        responsive\r\n        bordered\r\n        foot-clone\r\n        :items=\"movimentacoes.data\"\r\n        :fields=\"movimentacoes.fields\"\r\n      >\r\n        <template #cell(DataMovimento)=\"data\">\r\n          <span>{{ data.item.DataMovimento | datetime }}</span>\r\n        </template>\r\n\r\n        <template #foot()=\"data\">\r\n          <span></span>\r\n        </template>\r\n        <template #foot(id)=\"data\">\r\n          <span v-if=\"movimentacoes.data.length > 1\"\r\n            >{{ movimentacoes.data.length }} Registros</span\r\n          >\r\n          <span v-else>{{ movimentacoes.data.length }} Registro</span>\r\n        </template>\r\n        <template #foot(Qtde)=\"data\">\r\n          <span>{{\r\n            movimentacoes.data.reduce(\r\n              (a, b) => parseFloat(a) + parseFloat(b.Qtde),\r\n              0\r\n            )\r\n          }}</span>\r\n        </template>\r\n      </b-table>\r\n      <json-viewer\r\n        :value=\"movimentacoes.data\"\r\n        :expand-depth=\"5\"\r\n        v-if=\"sysdevmode\"\r\n        copyable\r\n        boxed\r\n        sort\r\n      >\r\n      </json-viewer>\r\n\r\n      <!-- TESTES -->\r\n      <!--\r\n      <div class=\"jumbotron\">\r\n\r\n      movimentoindividual:\r\n      <pre>{{ movimentoindividual }}</pre>\r\n      </div>\r\n      -->\r\n      <!-- FIM TESTES -->\r\n    </b-modal>\r\n\r\n    <b-modal\r\n      id=\"modal_movimentar\"\r\n      ref=\"modal_movimentar\"\r\n      size=\"xl\"\r\n      scrollable\r\n      title=\"Movimentação de Estoque\"\r\n      cancel-title=\"Cancelar\"\r\n      :ok-title=\"\r\n        movimento.Qtde > -1\r\n          ? 'Confirma Entrada de Estoque'\r\n          : 'Confirma Saída de Estoque'\r\n      \"\r\n      :ok-disabled=\"!vmodal_movimentar_ok\"\r\n      @cancel=\"reset()\"\r\n      @ok=\"atualiza(movimento)\"\r\n      @shown=\"modalmovimentarshown\"\r\n    >\r\n      <b-row>\r\n        <b-col cols=\"12\" sm=\"8\">\r\n          <b-form-group label=\"Item\" label-for=\"input-itens\">\r\n            <SearchApi\r\n              id=\"input-itens\"\r\n              pkid=\"input-itensSearch\"\r\n              route=\"Servicos/Itens/MateriaPrima\"\r\n              :state=\"vmovimento.Item\"\r\n              v-model=\"itenssearch\"\r\n            />\r\n          </b-form-group>\r\n        </b-col>\r\n        <b-col cols=\"12\" sm=\"4\">\r\n          <b-form-group\r\n            label=\"Qtde Solicitada\"\r\n            label-for=\"input-qtdesolicitada\"\r\n          >\r\n            <b-form-input\r\n              id=\"input-qtdesolicitada\"\r\n              type=\"number\"\r\n              class=\"text-right\"\r\n              v-model=\"movimento.QtdeSolicitada\"\r\n            >\r\n            </b-form-input>\r\n          </b-form-group>\r\n        </b-col>\r\n      </b-row>\r\n\r\n      <b-row>\r\n        <b-col cols=\"12\" md=\"8\">\r\n          <b-form-group label=\"Box\" label-for=\"input-box\">\r\n            <b-form-input\r\n              id=\"input-box\"\r\n              type=\"number\"\r\n              class=\"text-right\"\r\n              :state=\"vmovimento.Box\"\r\n              v-model=\"movimento.Box\"\r\n              debounce=\"1000\"\r\n            >\r\n            </b-form-input>\r\n          </b-form-group>\r\n        </b-col>\r\n\r\n        <b-col cols=\"12\" md=\"4\">\r\n          <b-form-group\r\n            :label=\"`Nível - ${movimento.Nivel}`\"\r\n            label-for=\"input-nivel\"\r\n          >\r\n            <b-form-input\r\n              id=\"input-nivel\"\r\n              type=\"range\"\r\n              min=\"1\"\r\n              max=\"5\"\r\n              class=\"text-right\"\r\n              :state=\"vmovimento.Nivel\"\r\n              v-model=\"movimento.Nivel\"\r\n              debounce=\"1000\"\r\n            >\r\n            </b-form-input>\r\n          </b-form-group>\r\n        </b-col>\r\n      </b-row>\r\n\r\n      <b-row>\r\n        <b-col cols=\"12\">\r\n          <hr />\r\n        </b-col>\r\n      </b-row>\r\n\r\n      <b-row>\r\n        <b-col cols=\"6\" sm=\"8\" class=\"text-right\">\r\n          Qtde:\r\n        </b-col>\r\n        <b-col cols=\"6\" sm=\"4\">\r\n          <b-form-input\r\n            id=\"input-qtde\"\r\n            type=\"number\"\r\n            class=\"text-right\"\r\n            :state=\"vmovimento.Qtde\"\r\n            v-model=\"movimento.Qtde\"\r\n          >\r\n          </b-form-input>\r\n        </b-col>\r\n      </b-row>\r\n\r\n      <b-row>\r\n        <b-col cols=\"6\" sm=\"8\" class=\"text-right\"> </b-col>\r\n        <b-col cols=\"6\" sm=\"4\" class=\"text-right\">\r\n          <div class=\"mr-4\">{{ movimento.Qtde > -1 ? \"+\" : \"-\" }}</div>\r\n        </b-col>\r\n      </b-row>\r\n\r\n      <b-row>\r\n        <b-col cols=\"6\" sm=\"8\" class=\"text-right\">\r\n          Estoque Atual:\r\n        </b-col>\r\n        <b-col cols=\"6\" sm=\"4\">\r\n          <b-form-input\r\n            id=\"input-estoque\"\r\n            type=\"number\"\r\n            class=\"text-right\"\r\n            :value=\"movimentoindividual.Saldo\"\r\n            disabled\r\n          >\r\n          </b-form-input>\r\n        </b-col>\r\n      </b-row>\r\n      <b-row>\r\n        <b-col cols=\"6\" sm=\"8\" class=\"text-right\"> </b-col>\r\n        <b-col cols=\"6\" sm=\"4\" class=\"text-right\">\r\n          <div class=\"mr-4\">=</div>\r\n        </b-col>\r\n      </b-row>\r\n      <b-row>\r\n        <b-col cols=\"6\" sm=\"8\" class=\"text-right\">\r\n          Estoque Final:\r\n        </b-col>\r\n        <b-col cols=\"6\" sm=\"4\">\r\n          <b-form-input\r\n            id=\"input-saldo\"\r\n            type=\"number\"\r\n            class=\"text-right\"\r\n            :state=\"vmovimento.Saldo\"\r\n            :value=\"movimentosaldo\"\r\n            disabled\r\n          >\r\n          </b-form-input>\r\n        </b-col>\r\n      </b-row>\r\n\r\n      <b-row>\r\n        <b-col cols=\"12\" class=\"mt-2\">\r\n          <b-alert variant=\"danger\" :show=\"movimentosaldo < 0\">\r\n            O saldo final do estoque não pode ser negativo\r\n          </b-alert>\r\n        </b-col>\r\n      </b-row>\r\n\r\n      <div class=\"jumbotron\" v-if=\"sysdevmode\">\r\n        <json-viewer\r\n          :value=\"parambuscaindividual\"\r\n          :expand-depth=\"5\"\r\n          v-if=\"sysdevmode\"\r\n          copyable\r\n          boxed\r\n          sort\r\n        >\r\n        </json-viewer>\r\n      </div>\r\n    </b-modal>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport Depositos from \"../components/Depositos.vue\";\r\nimport API from \"../../../services/api.service.js\";\r\nimport viewstore from \"../../../services/viewstore.js\";\r\nimport InputSearch2 from \"../../../components/InputSearch2.vue\";\r\nimport SearchApi from \"../../../components/SearchApi.vue\";\r\nimport SearchApi2 from \"../../../components/SearchApi2.vue\";\r\nimport Properties from \"../../../components/Properties.vue\";\r\nimport { mapGetters, mapActions } from \"vuex\";\r\n\r\nexport default {\r\n  name: \"AlmoxarifadoMovimentacoes\",\r\n\r\n  components: {\r\n    Depositos,\r\n    InputSearch2,\r\n    SearchApi,\r\n    SearchApi2,\r\n    Properties,\r\n  },\r\n\r\n  data() {\r\n    return {\r\n      properties: {\r\n        keys: [\r\n          { key: \"codigo\", label: \"código\" },\r\n          \"quant\",\r\n          { key: \"nivel\", label: \"nível\" },\r\n          { key: \"endereco\", label: \"box\" },\r\n          \"gaiola\",\r\n        ],\r\n        data: {\r\n          codigo: 20,\r\n          deleta: 0,\r\n          dep: 37,\r\n          emp: 8,\r\n          endereco: 0,\r\n          gaiola: 20,\r\n          nivel: 1,\r\n          item: [],\r\n          quant: 0,\r\n        },\r\n      },\r\n      movimentoindividualchange: false,\r\n      itembusca: \"\",\r\n      itenssearch: {\r\n        value: \"\",\r\n        text: \"\",\r\n      },\r\n      itensteste:\r\n        '[{\"item\":\"000042\",\"qtde\": 20, \"lote\": 113565},{\"item\":\"000043\",\"qtde\": 456, \"lote\": 113566}]',\r\n      box: 0,\r\n      nivel: 0,\r\n\r\n      itensreq: [],\r\n      depositos: {\r\n        empresa: 8,\r\n        deposito: 37,\r\n      },\r\n      extrato: {\r\n        fields: [\r\n          \"Item\",\r\n          { key: \"Descricao\", label: \"Descrição\" },\r\n          \"Box\",\r\n          { key: \"Nivel\", label: \"Nível\" },\r\n          { key: \"Saldo\", label: \"Estoque\" },\r\n          { key: \"qtdesolicitada\", label: \"QtdeSolicitada\", visibled: false },\r\n          { key: \"actions\", label: \"\" },\r\n        ],\r\n        data: [],\r\n      },\r\n      movimentacoes: {\r\n        fields: [\r\n          { key: \"TipoMovimento\", label: \"Tipo\" },\r\n          \"Documento\",\r\n          { key: \"DataMovimento\", label: \"Data Movimento\" },\r\n          { key: \"Usuario\", label: \"Usuário\" },\r\n          \"Qtde\",\r\n        ],\r\n        data: [],\r\n      },\r\n      movimento: {\r\n        Empresa: 8,\r\n        Deposito: 37,\r\n        Item: \"\",\r\n        Box: 0,\r\n        Nivel: 0,\r\n        Entradas: 0,\r\n        Saidas: 0,\r\n        Saldo: 0,\r\n        Qtde: 0,\r\n        Lote: 0,\r\n        Tipo: \"LOT\",\r\n        QtdeSolicitada: 0,\r\n        Descricao: \"\",\r\n        DataMovimento: new Date(),\r\n        Buscar: true,\r\n      },\r\n      movimentoindividual: {},\r\n    };\r\n  },\r\n\r\n  props: {\r\n    tipoMovimentacao: {\r\n      type: String,\r\n      default: \"MAN\",\r\n    },\r\n    pmovimento: {\r\n      type: Object,\r\n      default() {\r\n        return {\r\n          emp: this.emp,\r\n          dep: this.dep,\r\n          box: this.box,\r\n          nivel: this.nivel,\r\n          itens: this.item,\r\n        };\r\n      },\r\n    },\r\n  },\r\n\r\n  computed: {\r\n    ...mapGetters([\"sysdevmode\"]),\r\n\r\n    itens: {\r\n      get() {\r\n        return this.itensreq.map((i) => i.item);\r\n      },\r\n      set(value) {\r\n        //console.log(\"itens.set\", value);\r\n        const itens = value.map((v) => ({\r\n          item: v[\"item\"] || v,\r\n          qtde: v[\"qtde\"] || 0,\r\n          lote: v[\"lote\"] || 0,\r\n        }));\r\n        this.itensreq = itens;\r\n      },\r\n    },\r\n    vmodal_movimentar_ok() {\r\n      return (\r\n        this.movimento.Item != \"\" &&\r\n        this.movimento.Box > 0 &&\r\n        this.movimento.Nivel > 0 &&\r\n        this.movimento.Qtde != 0 &&\r\n        this.movimentosaldo > -1\r\n      );\r\n    },\r\n    vmovimento() {\r\n      return {\r\n        Item: this.movimento.Item != \"\",\r\n        Box: this.movimento.Box > 0,\r\n        Nivel: this.movimento.Nivel > 0,\r\n        Qtde: this.movimento.Qtde != 0 && this.movimentosaldo > -1,\r\n        Saldo: this.movimentosaldo > -1,\r\n        valid:\r\n          this.movimento.Item != \"\" &&\r\n          this.movimento.Box > 0 &&\r\n          this.movimento.Nivel > 0 &&\r\n          this.movimento.Qtde != 0 &&\r\n          this.movimentosaldo > -1,\r\n      };\r\n    },\r\n    parambusca() {\r\n      return {\r\n        empresa: this.depositos.empresa,\r\n        deposito: this.depositos.deposito,\r\n        box: this.box,\r\n        nivel: this.nivel,\r\n        itens: this.itensreq, //this.itens,\r\n        valid:\r\n          this.movimento.Item != \"\" &&\r\n          this.movimento.Box > 0 &&\r\n          this.movimento.Nivel > 0 &&\r\n          (this.movimento.Item != this.movimentoindividual.Item ||\r\n            this.movimento.Box != this.movimentoindividual.Box ||\r\n            this.movimento.Nivel != this.movimentoindividual.Nivel),\r\n      };\r\n    },\r\n    parambuscaindividual() {\r\n      return {\r\n        empresa: this.movimento.Empresa,\r\n        deposito: this.movimento.Deposito,\r\n        box: this.movimento.Box,\r\n        nivel: this.movimento.Nivel,\r\n        itens: [this.movimento.Item],\r\n        fields: [\r\n          { key: \"descricaoitem\", label: \"Item\" },\r\n          \"Box\",\r\n          { key: \"Nivel\", label: \"nível\" },\r\n        ],\r\n        valid:\r\n          this.movimento.Item != \"\" &&\r\n          this.movimento.Box > 0 &&\r\n          this.movimento.Nivel > 0,\r\n        changed: this.movimentoindividualchange,\r\n      };\r\n    },\r\n    parammovimento() {\r\n      return {\r\n        Empresa: this.movimento.Empresa || 8,\r\n        Deposito: this.movimento.Deposito || 37,\r\n        Item: this.movimento.Item || \"\",\r\n        Box: this.movimento.Box || 0,\r\n        Nivel: this.movimento.Nivel || 0,\r\n        Qtde: this.movimento.Qtde || 0,\r\n        Lote: this.movimento.Lote || 0,\r\n        Tipo: this.movimento.Tipo || 0,\r\n        DataMovimento: this.movimento.DataMovimento || new Date(),\r\n      };\r\n    },\r\n    extratoitens() {\r\n      return this.extrato.data\r\n        .filter((v, i, a) => a.findIndex((f) => f.Item == v.Item) === i)\r\n        .map((i) => ({\r\n          Item: i.Item,\r\n          Descricao: i.Descricao,\r\n          Qtde: this.extrato.data.reduce(\r\n            (a, b) => parseFloat(a) + parseFloat(b.Saldo),\r\n            0\r\n          ),\r\n          estoque: this.extrato.data\r\n            .filter((d) => d.Item == i.Item)\r\n            .map((e) => ({ Box: e.Box, Nivel: e.Nivel, Saldo: e.Saldo })),\r\n        }));\r\n    },\r\n    movimentopadrao() {\r\n      return {\r\n        Empresa: 8,\r\n        Deposito: 37,\r\n        Item:\r\n          typeof this.parambusca.itens[0] == \"object\"\r\n            ? this.parambusca.itens[0].item\r\n            : this.parambusca.itens[0] || \"\",\r\n        Box: this.parambusca.box || 0,\r\n        Nivel: this.parambusca.nivel == 0 ? 1 : this.parambusca.nivel || 0,\r\n        Entradas: 0,\r\n        Saidas: 0,\r\n        Saldo: 0,\r\n        Qtde: 0,\r\n        Descricao: \"\",\r\n      };\r\n    },\r\n    movimentosaldo() {\r\n      let estoque = isNaN(parseFloat(this.movimentoindividual.Saldo))\r\n        ? 0\r\n        : parseFloat(this.movimentoindividual.Saldo);\r\n      let qtde = isNaN(parseFloat(this.movimento.Qtde))\r\n        ? 0\r\n        : parseFloat(this.movimento.Qtde);\r\n\r\n      return estoque + qtde;\r\n    },\r\n  },\r\n\r\n  beforeMount() {\r\n    //viewstore.syncData(this.$data);\r\n  },\r\n\r\n  methods: {\r\n    resetmovimento() {\r\n      this.movimento = {\r\n        Empresa: this.depositos.Empresa || 8,\r\n        Deposito: this.depositos.Deposito || 37,\r\n        Item: \"\",\r\n        Box: 0,\r\n        Nivel: 0,\r\n        Entradas: 0,\r\n        Saidas: 0,\r\n        Saldo: 0,\r\n        Qtde: 0,\r\n        QtdeSolicitada: 0,\r\n        Descricao: \"\",\r\n        DataMovimento: new Date(),\r\n      };\r\n    },\r\n    resetmovimentoindividual() {\r\n      this.movimentoindividual = {\r\n        Empresa: this.depositos.Empresa || 8,\r\n        Deposito: this.depositos.Deposito || 37,\r\n        Item: \"\",\r\n        Box: 0,\r\n        Nivel: 0,\r\n        Entradas: 0,\r\n        Saidas: 0,\r\n        Saldo: 0,\r\n        Qtde: 0,\r\n        Descricao: \"\",\r\n        DataMovimento: new Date(),\r\n      };\r\n      this.movimentoindividualchange = false;\r\n    },\r\n    reset() {\r\n      this.box = 0;\r\n      this.nivel = 0;\r\n      //this.itens = [];\r\n      this.depositos = {\r\n        empresa: 8,\r\n        deposito: 37,\r\n      };\r\n      this.resetmovimento();\r\n      this.resetmovimentoindividual();\r\n    },\r\n    resetall() {\r\n      this.reset();\r\n      this.extrato.data = [];\r\n      this.itens = [];\r\n    },\r\n    classTag(tag) {\r\n      return this.extrato.data.length == 0\r\n        ? \"bg-secondary\"\r\n        : this.extrato.data.find((i) => i.Item == tag)\r\n        ? \"bg-success\"\r\n        : \"bg-danger\";\r\n    },\r\n    salvaData() {\r\n      viewstore.setData(this.$data);\r\n    },\r\n    additem(item) {\r\n      // console.log(\"additem.item\", item);\r\n      const additem = {\r\n        item: item,\r\n        qtde: 0,\r\n        lote: 0,\r\n      };\r\n      if (this.itensreq.findIndex((f) => f == additem) == -1) {\r\n        this.itensreq.push(additem);\r\n      }\r\n      this.itembusca = \"\";\r\n    },\r\n    removeTag(tag) {\r\n      // console.log(\"removeTag.tag\", tag);\r\n      if (this.itensreq.findIndex((f) => f.item == tag) > -1) {\r\n        this.itensreq.splice(\r\n          this.itensreq.findIndex((f) => f.item == tag),\r\n          1\r\n        );\r\n      }\r\n    },\r\n    movimentar(data) {\r\n      /* console.log(\"movimentar.data\", data); */\r\n      this.movimento = {\r\n        Empresa: data.Empresa,\r\n        Deposito: data.Deposito,\r\n        Item: data.Item,\r\n        Box: data.Box,\r\n        Nivel: data.Nivel == 0 ? 1 : data.Nivel,\r\n        Entradas: data.Entradas,\r\n        Saidas: data.Saidas,\r\n        Saldo: data.Saldo,\r\n        QtdeSolicitada: (\r\n          this.itensreq.find((f) => f.item == data.Item) || [{ qtde: 0 }]\r\n        ).qtde,\r\n        Lote: (this.itensreq.find((f) => f.item == data.Item) || [{ lote: 0 }])\r\n          .lote,\r\n        Tipo: this.tipoMovimentacao || \"LOT\",\r\n        Qtde: data.Qtde,\r\n        Descricao: data.Descricao,\r\n        DataMovimento: new Date(),\r\n      };\r\n\r\n      if (this.movimento.QtdeSolicitada > this.movimento.Saldo) {\r\n        this.movimento.Qtde = this.movimento.Saldo * -1;\r\n      } else {\r\n        this.movimento.Qtde = this.movimento.QtdeSolicitada * -1;\r\n      }\r\n\r\n      this.itenssearch.value = data.Item;\r\n      this.itenssearch.text = data.Item;\r\n    },\r\n    atualiza(data) {\r\n      //this.movimentar(data);\r\n      /* console.log(\"atualiza.movimento\", this.movimento); */\r\n\r\n      API.post(\r\n        \"v2/Producao/Almoxarifado_Movimentacoes/Update\",\r\n        this.parammovimento\r\n      ).then((apidata) => {\r\n        // console.log(\"busca.apidata:\", apidata);\r\n        if (apidata.data.Success) {\r\n          const res = API.prepareData(apidata.data);\r\n          //console.log(\"atualiza.res:\", res.apiresponse.Data);\r\n          this.busca();\r\n          this.reset();\r\n        }\r\n      });\r\n    },\r\n    busca() {\r\n      // console.log(\"busca.parambusca\", this.parambusca);\r\n      API.post(\r\n        \"v2/Producao/Almoxarifado_Movimentacoes/ExtratoGet\",\r\n        this.parambusca\r\n      )\r\n        .then((apidata) => {\r\n          // console.log(\"busca.apidata:\", apidata);\r\n          if (apidata.data.Success) {\r\n            const res = API.prepareData(apidata.data);\r\n            this.extrato.data = res.apiresponse.Data;\r\n            //this.salvaData();\r\n          } else {\r\n            this.extrato.data = [];\r\n          }\r\n        })\r\n        .catch(() => (this.extrato.data = []));\r\n    },\r\n    buscamovimentacoes(item) {\r\n      // console.log(\"busca.parambuscaindividual\", item);\r\n      API.post(\"v2/Producao/Almoxarifado_Movimentacoes/Get\", item)\r\n        .then((apidata) => {\r\n          // console.log(\"busca.apidata:\", apidata);\r\n          if (apidata.data.Success) {\r\n            const res = API.prepareData(apidata.data);\r\n            this.movimentacoes.data = res.apiresponse.Data;\r\n            this.movimentoindividual = res.apiresponse.Data[0];\r\n            //this.salvaData();\r\n          } else {\r\n            //this.movimentacoes.data = [];\r\n          }\r\n        })\r\n        .catch(() => (this.movimentacoes.data = []));\r\n    },\r\n    buscaindividual() {\r\n      //console.log(\"buscaindividual.parambuscaindividual\",this.parambuscaindividual);\r\n\r\n      if (this.parambuscaindividual.valid) {\r\n        API.post(\r\n          \"v2/Producao/Almoxarifado_Movimentacoes/ExtratoGet\",\r\n          this.parambuscaindividual\r\n        )\r\n          .then((apidata) => {\r\n            // console.log(\"buscaindividual.apidata:\", apidata);\r\n            if (apidata.data.Success) {\r\n              const res = API.prepareData(apidata.data);\r\n              this.movimentoindividual = res.apiresponse.Data[0];\r\n              this.movimentoindividualchange = false;\r\n              this.salvaData();\r\n            } else {\r\n              this.resetmovimentoindividual();\r\n            }\r\n          })\r\n          .catch(() => {\r\n            //this.resetmovimentoindividual();\r\n          });\r\n      }\r\n    },\r\n    movimentochange() {\r\n      return {\r\n        Item: this.movimento.Item,\r\n        Box: this.movimento.Box,\r\n        Nivel: this.movimento.Nivel,\r\n      };\r\n    },\r\n    modalmovimentarshown() {\r\n      this.buscaindividual();\r\n    },\r\n  },\r\n\r\n  watch: {\r\n    parambuscaindividual: {\r\n      deep: true,\r\n      handler() {\r\n        this.buscaindividual();\r\n      },\r\n    },\r\n    itenssearch: {\r\n      deep: true,\r\n      handler(data) {\r\n        if (this.movimento.Item != data.value) {\r\n          this.movimento.Item = data.value;\r\n        }\r\n      },\r\n    },\r\n  },\r\n};\r\n</script>\r\n"]}]}