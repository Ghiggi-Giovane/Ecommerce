{"remainingRequest":"C:\\k1-services\\node_modules\\babel-loader\\lib\\index.js!C:\\k1-services\\node_modules\\cache-loader\\dist\\cjs.js??ref--1-0!C:\\k1-services\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\k1-services\\src\\pages\\almoxarifado\\views\\nfeitens.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\k1-services\\src\\pages\\almoxarifado\\views\\nfeitens.vue","mtime":1701906516433},{"path":"C:\\k1-services\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1670977934221},{"path":"C:\\k1-services\\node_modules\\babel-loader\\lib\\index.js","mtime":1670977935138},{"path":"C:\\k1-services\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1670977934221},{"path":"C:\\k1-services\\node_modules\\vue-loader\\lib\\index.js","mtime":1674603023821}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCB7IG1hcEFjdGlvbnMsIG1hcEdldHRlcnMgfSBmcm9tICJ2dWV4IjsKaW1wb3J0IEdhaW9sYXNJdGVucyBmcm9tICIuLi9jb21wb25lbnRzL0dhaW9sYXNJdGVucy52dWUiOwppbXBvcnQgVGFibGVFZGl0QXBpIGZyb20gIi4uLy4uLy4uL2NvbXBvbmVudHMvVGFibGVFZGl0QXBpLnZ1ZSI7CmV4cG9ydCBkZWZhdWx0IHsKICBuYW1lOiAiTkZlSXRlbnMiLAogIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICBjaGF2ZW5mZTogIiIsCiAgICAgIG5mZWZpZWxkczogW3sKICAgICAgICBrZXk6ICJpdGVtIiwKICAgICAgICBsYWJlbDogIkl0ZW0iLAogICAgICAgIHNvcnRhYmxlOiB0cnVlCiAgICAgIH0sIHsKICAgICAgICBrZXk6ICJkZXNjcmljYW8iLAogICAgICAgIGxhYmVsOiAiRGVzY3Jpw6fDo28iLAogICAgICAgIHNvcnRhYmxlOiB0cnVlCiAgICAgIH0sIHsKICAgICAgICBrZXk6ICJ1biIsCiAgICAgICAgbGFiZWw6ICJVTkQiLAogICAgICAgIHNvcnRhYmxlOiB0cnVlCiAgICAgIH0sIHsKICAgICAgICBrZXk6ICJxdGRlIiwKICAgICAgICBsYWJlbDogIlF1YW50LiIsCiAgICAgICAgc29ydGFibGU6IHRydWUKICAgICAgfSwgewogICAgICAgIGtleTogImFjdGlvbnMiLAogICAgICAgIGxhYmVsOiAiQcOnw7VlcyIKICAgICAgfV0sCiAgICAgIG5mZWJ1dHRvbnM6IFt7CiAgICAgICAga2V5OiAibW92IiwKICAgICAgICBpY29uOiAiYm94LXNlYW0iLAogICAgICAgIHZhcmlhbnQ6ICJzdWNjZXNzIiwKICAgICAgICBzaXplOiAic20iLAogICAgICAgIHRvb2x0aXA6ICJNb3ZpbWVudGEgRXN0b3F1ZSIKICAgICAgfSwgewogICAgICAgIGtleTogImFkZCIsCiAgICAgICAgaWNvbjogInBsdXMiLAogICAgICAgIHZhcmlhbnQ6ICJwcmltYXJ5IiwKICAgICAgICBzaXplOiAic20iLAogICAgICAgIHRvb2x0aXA6ICJBZGljaW9uYXIgbWFudWFsIiwKICAgICAgICBoZWFkZXI6IHRydWUKICAgICAgfV0sCiAgICAgIG5mZWxpc3Q6IFtdLAogICAgICBpdGVuczogW10KICAgIH07CiAgfSwKICBjb21wb25lbnRzOiB7CiAgICBHYWlvbGFzSXRlbnMsCiAgICBUYWJsZUVkaXRBcGkKICB9LAogIGNvbXB1dGVkOiB7CiAgICAuLi5tYXBHZXR0ZXJzKFsiZ3R4QWxtb3huZmVEYXRhIiwgImd0eEFsbW94bmZlRXJyb3IiLCAiZ3R4QWxtb3huZmVEYXRhSXRlbnMiXSksCiAgICBpdG5mZWxpc3QoKSB7CiAgICAgIGxldCBpdGVucyA9IFtdOwogICAgICB0aGlzLm5mZWxpc3QubWFwKG4gPT4gewogICAgICAgIG4uaXRlbnMubWFwKGkgPT4gewogICAgICAgICAgaXRlbnMucHVzaCh7CiAgICAgICAgICAgIGlkbmZlOiBuLmlkbmZlLAogICAgICAgICAgICBpZGl0bmZlOiBpLmlkaXRuZmUsCiAgICAgICAgICAgIGl0ZW06IGkuaXRlbSwKICAgICAgICAgICAgZGVzY3JpY2FvOiBpLmRlc2NyaWNhbywKICAgICAgICAgICAgcXRkZTogaS5xdGRlCiAgICAgICAgICB9KTsKICAgICAgICB9KTsKICAgICAgfSk7CiAgICAgIHJldHVybiBpdGVuczsKICAgIH0sCiAgICBoYXZlaXRlbnMoKSB7CiAgICAgIHJldHVybiB0aGlzLml0ZW5zLmxlbmd0aCA+IDA7CiAgICB9CiAgfSwKICBtZXRob2RzOiB7CiAgICAuLi5tYXBBY3Rpb25zKFsiYWN0QWxtb3huZmUiLCAiYWN0QWxtb3huZmVDbGVhciJdKSwKICAgIGJ1c2NhTkZFKCkgewogICAgICBjb25zdCBwYXJhbXMgPSB7CiAgICAgICAgcGVzcXVpc2E6IHRoaXMuY2hhdmVuZmUKICAgICAgfTsKICAgICAgdGhpcy5hY3RBbG1veG5mZShwYXJhbXMpOwogICAgICAvLy50aGVuKChyZXMpID0+IHsgdGhpcy4kcm9vdC50b2FzdHN1Y2Nlc3MoJ2NlcnRvJyk7IGNvbnNvbGUubG9nKCdhY3RBbG1veG5mZS5jYXRjaDonLCByZXMpIH0pCiAgICAgIC8vIC5jYXRjaCgoZXJyKSA9PiB7IHRoaXMuJHJvb3QudG9hc3RkYW5nZXIoZXJyLkVycm9yKSB9KQogICAgfSwKCiAgICBuZXdTZWFyY2goKSB7CiAgICAgIHRoaXMuYWN0QWxtb3huZmVDbGVhcigpOwogICAgICB0aGlzLmNoYXZlbmZlID0gIiI7CiAgICB9LAogICAgYWRkTm90YSgpIHsKICAgICAgaWYgKCF0aGlzLm5mZWxpc3QuZmluZChmID0+IGYuaWRuZmUgPT0gdGhpcy5ndHhBbG1veG5mZURhdGFbMF0uaWRuZmUpKSB7CiAgICAgICAgdGhpcy5uZmVsaXN0LnB1c2godGhpcy5ndHhBbG1veG5mZURhdGFbMF0pOwogICAgICAgIHRoaXMuYWRkSXRlbSh0aGlzLmd0eEFsbW94bmZlRGF0YVswXS5pdGVucyk7CiAgICAgICAgdGhpcy5uZXdTZWFyY2goKTsKICAgICAgfSBlbHNlIHsKICAgICAgICAvLyB0aGlzLiRyb290LnRvYXN0ZGFuZ2VyKCdOb3RhIGrDoSBhZGljaW9uYWRhIScpCiAgICAgIH0KICAgIH0sCiAgICBhZGRJdGVtKGl0ZW0pIHsKICAgICAgaWYgKCFBcnJheS5pc0FycmF5KGl0ZW0pKSB7CiAgICAgICAgaXRlbSA9IFtpdGVtXTsKICAgICAgfQogICAgICBpdGVtLm1hcChtID0+IHsKICAgICAgICBpZiAoIXRoaXMuaXRlbnMuZmluZChpID0+IGkuaXRlbSA9PSBtLml0ZW0pKSB7CiAgICAgICAgICB0aGlzLml0ZW5zLnB1c2goewogICAgICAgICAgICBpdGVtOiBtLml0ZW0sCiAgICAgICAgICAgIGRlc2NyaWNhbzogbS5kZXNjcmljYW8sCiAgICAgICAgICAgIHVuOiBtLnVuaWRhZGV1dGlsaXphZGEsCiAgICAgICAgICAgIHF0ZGU6IHBhcnNlRmxvYXQobS5xdGRlKQogICAgICAgICAgfSk7CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgIHRoaXMuaXRlbnMuZmluZChpID0+IGkuaXRlbSA9PSBtLml0ZW0pLnF0ZGUgKz0gcGFyc2VGbG9hdChtLnF0ZGUpOwogICAgICAgIH0KICAgICAgfSk7CiAgICB9LAogICAgcmVtSXRlbShpdGVtKSB7CiAgICAgIGxldCBpID0gdGhpcy5pdGVucy5maW5kSW5kZXgoaSA9PiBpLml0ZW0gPT0gaXRlbS5pdGVtKTsKICAgICAgaWYgKGkgPiAtMSkgdGhpcy5pdGVucy5zcGxpY2UoaSwgMSk7CiAgICB9LAogICAgYWRkQWxsSXRlbnMoKSB7CiAgICAgIC8vdGhpcy4kcm91dGVyLnB1c2goYC9nYWlvbGFzaXRlbnM/aXRlbnM9JHtpdGVuc31gKQogICAgICB0aGlzLiRyb3V0ZXIucHVzaCh7CiAgICAgICAgbmFtZTogImdhaW9sYXNpdGVucyIsCiAgICAgICAgcGFyYW1zOiB7CiAgICAgICAgICBkYXRhOiB0aGlzLml0ZW5zCiAgICAgICAgfQogICAgICB9KTsKICAgIH0sCiAgICByb3dJbnNlcnQoaXRlbSkgewogICAgICBjb25zb2xlLmxvZygiQWJyaXIgZW50cmFkYSBkZSBlc3RvcXVlOiIsIGl0ZW0pOwogICAgfQogIH0KfTs="},{"version":3,"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAiLA;AACA;AACA;AACA;EACAA;EAEAC;IACA;MACAC;MAEAC,YACA;QAAAC;QAAAC;QAAAC;MAAA,GACA;QAAAF;QAAAC;QAAAC;MAAA,GACA;QAAAF;QAAAC;QAAAC;MAAA,GACA;QAAAF;QAAAC;QAAAC;MAAA,GACA;QAAAF;QAAAC;MAAA,EACA;MAEAE,aACA;QACAH;QACAI;QACAC;QACAC;QACAC;MACA,GACA;QACAP;QACAI;QACAC;QACAC;QACAC;QACAC;MACA,EACA;MAEAC;MACAC;IACA;EACA;EAEAC;IACAC;IACAC;EACA;EAEAC;IACA,eACA,mBACA,oBACA,uBACA;IAEAC;MACA;MACA;QACAC;UACAN;YACAO;YACAC;YACAC;YACAC;YACAC;UACA;QACA;MACA;MAEA;IACA;IAEAC;MACA;IACA;EACA;EAEAC;IACA;IAEAC;MACA;QAAAC;MAAA;MAEA;MACA;MACA;IACA;;IAEAC;MACA;MACA;IACA;IAEAC;MACA;QACA;QACA;QACA;MACA;QACA;MAAA;IAEA;IAEAC;MACA;QACAT;MACA;MAEAA;QACA;UACA;YACAA;YACAC;YACAS;YACAR;UACA;QACA;UACA;QACA;MACA;IACA;IAEAS;MACA;MACA;IACA;IAEAC;MACA;MACA;QAAAnC;QAAAoC;UAAAnC;QAAA;MAAA;IACA;IAEAoC;MACAC;IACA;EACA;AACA","names":["name","data","chavenfe","nfefields","key","label","sortable","nfebuttons","icon","variant","size","tooltip","header","nfelist","itens","components","GaiolasItens","TableEditApi","computed","itnfelist","n","idnfe","iditnfe","item","descricao","qtde","haveitens","methods","buscaNFE","pesquisa","newSearch","addNota","addItem","un","remItem","addAllItens","params","rowInsert","console"],"sourceRoot":"src/pages/almoxarifado/views","sources":["nfeitens.vue"],"sourcesContent":["<template>\r\n  <div class=\"m-2\">\r\n    <b-card\r\n      header=\"Notas fiscais de Entrada\"\r\n      header-bg-variant=\"dark\"\r\n      header-text-variant=\"white\"\r\n    >\r\n      <b-input-group\r\n        id=\"input-group-notas\"\r\n        label=\"Data Final\"\r\n        label-for=\"input-chavenfe\"\r\n        class=\"mb-2\"\r\n      >\r\n        <b-form-input\r\n          id=\"input-chavenfe\"\r\n          type=\"number\"\r\n          placeholder=\"Chave DANFE\"\r\n          v-model=\"chavenfe\"\r\n        >\r\n        </b-form-input>\r\n        <b-input-group-append>\r\n          <b-button variant=\"success\" @click=\"buscaNFE\">Buscar</b-button>\r\n        </b-input-group-append>\r\n      </b-input-group>\r\n\r\n      <!-- Pesquisa nota de entrada -->\r\n      <div\r\n        class=\"bg-dark text-warning rounded p-2 mb-2\"\r\n        v-if=\"gtxAlmoxnfeData.length > 0\"\r\n      >\r\n        <div>\r\n          <strong>Numero Nota:</strong>\r\n          <span class=\"ml-2 text-light\">{{ gtxAlmoxnfeData[0].numero }}</span>\r\n          <strong class=\"ml-3\">Emissão:</strong>\r\n          <span class=\"ml-2 text-light\">{{\r\n            gtxAlmoxnfeData[0].data_emissao | dateBR\r\n          }}</span>\r\n        </div>\r\n        <div>\r\n          <strong>Fornecedor:</strong>\r\n          <span class=\"ml-2 text-light\">{{\r\n            gtxAlmoxnfeData[0].fornecedor.nome\r\n          }}</span>\r\n        </div>\r\n        <div class=\"mt-3\">\r\n          <b-card\r\n            header-bg-variant=\"secondary\"\r\n            header-text-variant=\"white\"\r\n            header=\"Itens da nota\"\r\n          >\r\n            <!-- <TableEditApi :fields=\"nfefields\" :items=\"gtxAlmoxnfeDataItens\"/> -->\r\n            <b-table\r\n              striped\r\n              hover\r\n              :items=\"gtxAlmoxnfeDataItens\"\r\n              :fields=\"nfefields\"\r\n            >\r\n              <template #cell(actions)=\"data\">\r\n                <b-button-group>\r\n                  <b-button\r\n                    size=\"sm\"\r\n                    variant=\"outline-primary\"\r\n                    v-b-tooltip.hover.topleft=\"'Adicionar'\"\r\n                    @click=\"addItem(data.item)\"\r\n                    ><b-icon-plus\r\n                  /></b-button>\r\n                </b-button-group>\r\n              </template>\r\n            </b-table>\r\n          </b-card>\r\n        </div>\r\n        <div class=\"d-flex justify-content-between mt-2\">\r\n          <div>\r\n            <strong>Total de itens:</strong>\r\n            <span class=\"ml-2 text-light\">{{\r\n              gtxAlmoxnfeDataItens.length\r\n            }}</span>\r\n          </div>\r\n          <div>\r\n            <b-button variant=\"light\" @click=\"newSearch\">Cancelar</b-button>\r\n            <b-button variant=\"primary\" @click=\"addNota\" class=\"ml-2\"\r\n              >Adicionar todos os itens</b-button\r\n            >\r\n          </div>\r\n        </div>\r\n      </div>\r\n\r\n      <!-- Itens selecionados -->\r\n      <!-- <b-card header-bg-variant=\"secondary\" header-text-variant=\"white\" header=\"Itens selecionados\"> -->\r\n      <b-card\r\n        header-bg-variant=\"secondary\"\r\n        header-text-variant=\"white\"\r\n        header=\"Itens selecionados\"\r\n        header-tag=\"div\"\r\n      >\r\n        <!-- <template #header>\r\n                    <div class=\"d-flex justify-content-between\">\r\n                        <p>Itens selecionados</p>\r\n                        <b-button size=\"sm\" variant=\"primary\">Movimentação Estoque</b-button>\r\n                    </div>\r\n                </template> -->\r\n\r\n        <!-- <TableEditApi\r\n                    v-if=\"nfefields.length>0\"\r\n                    :fields=\"nfefields\"\r\n                    :items=\"itnfelist\"\r\n                    :buttons=\"nfebuttons\"\r\n                /> -->\r\n\r\n        <b-table striped hover :items=\"itens\" :fields=\"nfefields\">\r\n          <template #cell(actions)=\"data\">\r\n            <b-button-group>\r\n              <!-- <b-button size=\"sm\" variant=\"outline-primary\" v-b-tooltip.hover.left=\"'Estoque'\" @click=\"rowInsert(data.item)\"><b-icon-cart-plus/></b-button>\r\n                            <b-button size=\"sm\" variant=\"outline-danger\" v-b-tooltip.hover.left=\"'Remover'\" @click=\"remItem(data.item)\"><b-icon-cart-dash/></b-button> -->\r\n              <b-button\r\n                size=\"sm\"\r\n                variant=\"outline-primary\"\r\n                hint=\"Teste hint\"\r\n                alt=\"Teste alt\"\r\n                @click=\"rowInsert(data.item)\"\r\n                ><b-icon-cart-plus\r\n              /></b-button>\r\n              <b-button\r\n                size=\"sm\"\r\n                variant=\"outline-danger\"\r\n                @click=\"remItem(data.item)\"\r\n                ><b-icon-cart-dash\r\n              /></b-button>\r\n            </b-button-group>\r\n          </template>\r\n\r\n          <template #cell(qtde)=\"data\">\r\n            <b-form-spinbutton\r\n              v-model=\"data.item.qtde\"\r\n              min=\"1\"\r\n            ></b-form-spinbutton>\r\n          </template>\r\n        </b-table>\r\n\r\n        <div class=\"d-flex justify-content-between mt-2\">\r\n          <div>\r\n            <strong>Total de itens:</strong>\r\n            <span class=\"ml-2\">{{ itens.length }}</span>\r\n          </div>\r\n          <div>\r\n            <b-button\r\n              variant=\"primary\"\r\n              @click=\"addAllItens\"\r\n              :disabled=\"!haveitens\"\r\n              >Adicionar todos os itens</b-button\r\n            >\r\n          </div>\r\n        </div>\r\n      </b-card>\r\n\r\n      <!-- TESTES\r\n\r\n        gtxAlmoxnfeData: <pre>{{gtxAlmoxnfeData}}</pre>\r\n\r\n        nfelist: <pre>{{nfelist}}</pre>\r\n\r\n        itnfelist: <pre>{{itnfelist}}</pre>\r\n\r\n        itens: <pre>{{itens}}</pre>\r\n\r\n        <b-modal\r\n            id=\"modal-almoxestoque\"\r\n            title=\"Movimentação de estoque\">\r\n            <GaiolasItens/>\r\n        </b-modal>\r\n\r\n        -->\r\n    </b-card>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { mapActions, mapGetters } from \"vuex\";\r\nimport GaiolasItens from \"../components/GaiolasItens.vue\";\r\nimport TableEditApi from \"../../../components/TableEditApi.vue\";\r\nexport default {\r\n  name: \"NFeItens\",\r\n\r\n  data() {\r\n    return {\r\n      chavenfe: \"\",\r\n\r\n      nfefields: [\r\n        { key: \"item\", label: \"Item\", sortable: true },\r\n        { key: \"descricao\", label: \"Descrição\", sortable: true },\r\n        { key: \"un\", label: \"UND\", sortable: true },\r\n        { key: \"qtde\", label: \"Quant.\", sortable: true },\r\n        { key: \"actions\", label: \"Ações\" },\r\n      ],\r\n\r\n      nfebuttons: [\r\n        {\r\n          key: \"mov\",\r\n          icon: \"box-seam\",\r\n          variant: \"success\",\r\n          size: \"sm\",\r\n          tooltip: \"Movimenta Estoque\",\r\n        },\r\n        {\r\n          key: \"add\",\r\n          icon: \"plus\",\r\n          variant: \"primary\",\r\n          size: \"sm\",\r\n          tooltip: \"Adicionar manual\",\r\n          header: true,\r\n        },\r\n      ],\r\n\r\n      nfelist: [],\r\n      itens: [],\r\n    };\r\n  },\r\n\r\n  components: {\r\n    GaiolasItens,\r\n    TableEditApi,\r\n  },\r\n\r\n  computed: {\r\n    ...mapGetters([\r\n      \"gtxAlmoxnfeData\",\r\n      \"gtxAlmoxnfeError\",\r\n      \"gtxAlmoxnfeDataItens\",\r\n    ]),\r\n\r\n    itnfelist() {\r\n      let itens = [];\r\n      this.nfelist.map((n) => {\r\n        n.itens.map((i) => {\r\n          itens.push({\r\n            idnfe: n.idnfe,\r\n            iditnfe: i.iditnfe,\r\n            item: i.item,\r\n            descricao: i.descricao,\r\n            qtde: i.qtde,\r\n          });\r\n        });\r\n      });\r\n\r\n      return itens;\r\n    },\r\n\r\n    haveitens() {\r\n      return this.itens.length > 0;\r\n    },\r\n  },\r\n\r\n  methods: {\r\n    ...mapActions([\"actAlmoxnfe\", \"actAlmoxnfeClear\"]),\r\n\r\n    buscaNFE() {\r\n      const params = { pesquisa: this.chavenfe };\r\n\r\n      this.actAlmoxnfe(params);\r\n      //.then((res) => { this.$root.toastsuccess('certo'); console.log('actAlmoxnfe.catch:', res) })\r\n      // .catch((err) => { this.$root.toastdanger(err.Error) })\r\n    },\r\n\r\n    newSearch() {\r\n      this.actAlmoxnfeClear();\r\n      this.chavenfe = \"\";\r\n    },\r\n\r\n    addNota() {\r\n      if (!this.nfelist.find((f) => f.idnfe == this.gtxAlmoxnfeData[0].idnfe)) {\r\n        this.nfelist.push(this.gtxAlmoxnfeData[0]);\r\n        this.addItem(this.gtxAlmoxnfeData[0].itens);\r\n        this.newSearch();\r\n      } else {\r\n        // this.$root.toastdanger('Nota já adicionada!')\r\n      }\r\n    },\r\n\r\n    addItem(item) {\r\n      if (!Array.isArray(item)) {\r\n        item = [item];\r\n      }\r\n\r\n      item.map((m) => {\r\n        if (!this.itens.find((i) => i.item == m.item)) {\r\n          this.itens.push({\r\n            item: m.item,\r\n            descricao: m.descricao,\r\n            un: m.unidadeutilizada,\r\n            qtde: parseFloat(m.qtde),\r\n          });\r\n        } else {\r\n          this.itens.find((i) => i.item == m.item).qtde += parseFloat(m.qtde);\r\n        }\r\n      });\r\n    },\r\n\r\n    remItem(item) {\r\n      let i = this.itens.findIndex((i) => i.item == item.item);\r\n      if (i > -1) this.itens.splice(i, 1);\r\n    },\r\n\r\n    addAllItens() {\r\n      //this.$router.push(`/gaiolasitens?itens=${itens}`)\r\n      this.$router.push({ name: \"gaiolasitens\", params: { data: this.itens } });\r\n    },\r\n\r\n    rowInsert(item) {\r\n      console.log(\"Abrir entrada de estoque:\", item);\r\n    },\r\n  },\r\n};\r\n</script>\r\n"]}]}