{"remainingRequest":"C:\\k1-services\\node_modules\\babel-loader\\lib\\index.js!C:\\k1-services\\node_modules\\cache-loader\\dist\\cjs.js??ref--1-0!C:\\k1-services\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\k1-services\\src\\pages\\dashboard_maquina\\components\\DashNavBar.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\k1-services\\src\\pages\\dashboard_maquina\\components\\DashNavBar.vue","mtime":1670977910620},{"path":"C:\\k1-services\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1670977934221},{"path":"C:\\k1-services\\node_modules\\babel-loader\\lib\\index.js","mtime":1670977935138},{"path":"C:\\k1-services\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1670977934221},{"path":"C:\\k1-services\\node_modules\\vue-loader\\lib\\index.js","mtime":1670977935327}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KZXhwb3J0IGRlZmF1bHQgewogIHByb3BzOiB7CiAgICBsaXN0TWFxOiB7CiAgICAgIHR5cGU6IEFycmF5LAoKICAgICAgZGVmYXVsdCgpIHsKICAgICAgICByZXR1cm4gW107CiAgICAgIH0KCiAgICB9CiAgfSwKCiAgZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIHNlYXJjaDogIiIsCiAgICAgIHZhbHVlOiBbXSwKICAgICAgdGltZXI6IG51bGwsCiAgICAgIHRpbWVSZWxvYWQ6IDUsCiAgICAgIHJlbG9naW86IG51bGwsCiAgICAgIG51bWVybzogIjAwOjAwIiwKICAgICAgc3M6IDAsCiAgICAgIG1tOiAwCiAgICB9OwogIH0sCgogIGNvbXB1dGVkOiB7CiAgICBtaW51dG9zKCkgewogICAgICByZXR1cm4gdGhpcy50aW1lUmVsb2FkICogMTAwMCAqIDYwOwogICAgfSwKCiAgICBjcml0ZXJpYSgpIHsKICAgICAgLy8gQ29tcHV0ZSB0aGUgc2VhcmNoIGNyaXRlcmlhCiAgICAgIHJldHVybiB0aGlzLnNlYXJjaC50cmltKCkudG9Mb3dlckNhc2UoKTsKICAgIH0sCgogICAgYXZhaWxhYmxlT3B0aW9ucygpIHsKICAgICAgY29uc3QgY3JpdGVyaWEgPSB0aGlzLmNyaXRlcmlhOyAvLyBGaWx0ZXIgb3V0IGFscmVhZHkgc2VsZWN0ZWQgb3B0aW9ucwoKICAgICAgY29uc3Qgb3B0aW9ucyA9IHRoaXMubGlzdE1hcS5maWx0ZXIob3B0ID0+IHRoaXMudmFsdWUuaW5kZXhPZihvcHQpID09PSAtMSk7CgogICAgICBpZiAoY3JpdGVyaWEpIHsKICAgICAgICAvLyBTaG93IG9ubHkgb3B0aW9ucyB0aGF0IG1hdGNoIGNyaXRlcmlhCiAgICAgICAgcmV0dXJuIG9wdGlvbnMuZmlsdGVyKG9wdCA9PiBvcHQudG9Mb3dlckNhc2UoKS5pbmRleE9mKGNyaXRlcmlhKSA+IC0xKTsKICAgICAgfSAvLyBTaG93IGFsbCBvcHRpb25zIGF2YWlsYWJsZQoKCiAgICAgIHJldHVybiBvcHRpb25zOwogICAgfSwKCiAgICBzZWFyY2hEZXNjKCkgewogICAgICBpZiAodGhpcy5jcml0ZXJpYSAmJiB0aGlzLmF2YWlsYWJsZU9wdGlvbnMubGVuZ3RoID09PSAwKSB7CiAgICAgICAgcmV0dXJuICJOw6NvIGjDoSBtw6FxdWluYXMgZGlzcG/DrXZlaXMiOwogICAgICB9CgogICAgICByZXR1cm4gIiI7CiAgICB9CgogIH0sCiAgbWV0aG9kczogewogICAgYnRuTWFxKCkgewogICAgICB0aGlzLiRlbWl0KCJldnRGaWx0cmFyIiwgdGhpcy52YWx1ZSk7CiAgICB9LAoKICAgIG9uT3B0aW9uQ2xpY2soewogICAgICBvcHRpb24sCiAgICAgIGFkZFRhZwogICAgfSkgewogICAgICBhZGRUYWcob3B0aW9uKTsKICAgICAgdGhpcy5zZWFyY2ggPSAiIjsKICAgIH0sCgogICAgYnRuT2tUaW1lcigpIHsKICAgICAgY2xlYXJJbnRlcnZhbCh0aGlzLnRpbWVyKTsKICAgICAgY2xlYXJJbnRlcnZhbCh0aGlzLnJlbG9naW8pOwogICAgICB0aGlzLnNzID0gMDsKICAgICAgdGhpcy5tbSA9IDA7CiAgICAgIHRoaXMucmVsb2dpbyA9IHNldEludGVydmFsKCgpID0+IHsKICAgICAgICB0aGlzLnJvZGFSZWxvZ2lvKCk7CiAgICAgIH0sIDEwMDApOyAvLzEgc2VndW5kbwoKICAgICAgaWYgKHRoaXMudGltZVJlbG9hZCA+IDAuOSkgewogICAgICAgIGNvbnNvbGUubG9nKCJJbmNpYW5kbyB0aW1lciEiLCB0aGlzLnRpbWVSZWxvYWQpOwogICAgICAgIHRoaXMudGltZXIgPSBzZXRJbnRlcnZhbCh0aGlzLmJ0bk1hcSwgdGhpcy5taW51dG9zKTsKICAgICAgfSBlbHNlIHsKICAgICAgICB0aGlzLiRlbWl0KCJldnRFcnJvciIsICJOZWNlc3PDoXJpbyBpbmZvcm1hciBvIGludGVydmFsbyBkZSBhdHVhbGl6YcOnw7VlcyBwYXJhIG9idGVyIHVtIG1lbGhvciBmdW5jaW9uYW1lbnRvIGRvIHByb2dyYW1hISIpOwogICAgICAgIGNsZWFySW50ZXJ2YWwodGhpcy5yZWxvZ2lvKTsKICAgICAgICB0aGlzLnNzID0gMDsKICAgICAgICB0aGlzLm1tID0gMDsKICAgICAgfQogICAgfSwKCiAgICByb2RhUmVsb2dpbygpIHsKICAgICAgdGhpcy5zcysrOwoKICAgICAgaWYgKHRoaXMuc3MgPT0gNjApIHsKICAgICAgICAvL2RldSA1OSBzZWd1bmRvcwogICAgICAgIHRoaXMubW0rKzsKICAgICAgICB0aGlzLnNzID0gMDsKCiAgICAgICAgaWYgKHRoaXMubW0gPj0gdGhpcy50aW1lUmVsb2FkKSB7CiAgICAgICAgICB0aGlzLm1tID0gMDsKICAgICAgICB9CiAgICAgIH0KCiAgICAgIGxldCBmb3JtYXQgPSAodGhpcy5tbSA8IDEwID8gIjAiICsgdGhpcy5tbSA6IHRoaXMubW0pICsgIjoiICsgKHRoaXMuc3MgPCAxMCA/ICIwIiArIHRoaXMuc3MgOiB0aGlzLnNzKTsKICAgICAgcmV0dXJuIHRoaXMubnVtZXJvID0gZm9ybWF0OwogICAgfQoKICB9LAoKICBiZWZvcmVEZXN0cm95KCkgewogICAgY2xlYXJJbnRlcnZhbCh0aGlzLnRpbWVyKTsKICB9Cgp9Ow=="},{"version":3,"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAgGA;EACAA;IACAC;MACAC,WADA;;MAEAC;QACA;MACA;;IAJA;EADA,CADA;;EAUAC;IACA;MACAC,UADA;MAEAC,SAFA;MAGAC,WAHA;MAIAC,aAJA;MAMAC,aANA;MAOAC,eAPA;MAQAC,KARA;MASAC;IATA;EAWA,CAtBA;;EAuBAC;IACAC;MACA;IACA,CAHA;;IAKAC;MACA;MACA;IACA,CARA;;IASAC;MACA,+BADA,CAEA;;MACA,oCACAC,qCADA;;MAGA;QACA;QACA;MACA,CATA,CAUA;;;MACA;IACA,CArBA;;IAsBAC;MACA;QACA;MACA;;MACA;IACA;;EA3BA,CAvBA;EAoDAC;IACAC;MACA;IACA,CAHA;;IAKAC;MAAAC;MAAAC;IAAA;MACAA;MACA;IACA,CARA;;IASAC;MACAC;MACAA;MACA;MACA;MAEA;QACA;MACA,CAFA,EAEA,IAFA,EANA,CAQA;;MAEA;QACAC;QACA;MACA,CAHA,MAGA;QACA,WACA,UADA,EAEA,iGAFA;QAIAD;QACA;QACA;MACA;IACA,CA/BA;;IAgCAE;MACA;;MAEA;QACA;QACA;QACA;;QACA;UACA;QACA;MACA;;MAEA,aACA,2CACA,GADA,IAEA,sCAFA,CADA;MAKA;IACA;;EAlDA,CApDA;;EAyGAC;IACAH;EACA;;AA3GA","names":["props","listMaq","type","default","data","search","value","timer","timeReload","relogio","numero","ss","mm","computed","minutos","criteria","availableOptions","opt","searchDesc","methods","btnMaq","onOptionClick","option","addTag","btnOkTimer","clearInterval","console","rodaRelogio","beforeDestroy"],"sourceRoot":"src/pages/dashboard_maquina/components","sources":["DashNavBar.vue"],"sourcesContent":["<template >\r\n  <div>\r\n    <b-navbar toggleable=\"lg\" type=\"dark\" variant=\"info\" id=\"btnNav\">\r\n      <b-navbar-nav class=\"ml-auto\">\r\n        <div>\r\n          <b-button\r\n            id=\"btn\"\r\n            @click=\"\r\n              btnMaq();\r\n              btnOkTimer();\r\n            \"\r\n            size=\"sm\"\r\n          >\r\n            Filtrar máquinas\r\n          </b-button>\r\n        </div>\r\n        <b-form-tags\r\n          id=\"tags-with-dropdown\"\r\n          v-model=\"value\"\r\n          no-outer-focus\r\n          class=\"mb-2\"\r\n        >\r\n          <template v-slot=\"{ tags, disabled, addTag, removeTag }\">\r\n            <ul v-if=\"tags.length > 0\" class=\"list-inline d-inline-block mb-2\">\r\n              <li v-for=\"tag in tags\" :key=\"tag\" class=\"list-inline-item\">\r\n                <b-form-tag\r\n                  @remove=\"removeTag(tag)\"\r\n                  :title=\"tag\"\r\n                  :disabled=\"disabled\"\r\n                  variant=\"info\"\r\n                  >{{ tag }}</b-form-tag\r\n                >\r\n              </li>\r\n            </ul>\r\n\r\n            <b-dropdown\r\n              size=\"sm\"\r\n              variant=\"outline-secondary\"\r\n              block\r\n              menu-class=\"w-100\"\r\n            >\r\n              <template #button-content>\r\n                <b-icon icon=\"tag-fill\"></b-icon> Escolha as máquinas\r\n              </template>\r\n              <b-dropdown-form @submit.stop.prevent=\"() => {}\">\r\n                <b-form-group\r\n                  label=\"Procurar Máquinas\"\r\n                  label-for=\"tag-search-input\"\r\n                  label-cols-md=\"auto\"\r\n                  class=\"mb-0\"\r\n                  label-size=\"sm\"\r\n                  :description=\"searchDesc\"\r\n                  :disabled=\"disabled\"\r\n                >\r\n                  <b-form-input\r\n                    v-model=\"search\"\r\n                    id=\"tag-search-input\"\r\n                    type=\"search\"\r\n                    size=\"sm\"\r\n                    autocomplete=\"off\"\r\n                  ></b-form-input>\r\n                </b-form-group>\r\n              </b-dropdown-form>\r\n              <b-dropdown-divider></b-dropdown-divider>\r\n              <b-dropdown-item-button\r\n                v-for=\"option in availableOptions\"\r\n                :key=\"option\"\r\n                @click=\"onOptionClick({ option, addTag })\"\r\n              >\r\n                {{ option }}\r\n              </b-dropdown-item-button>\r\n              <b-dropdown-text v-if=\"availableOptions.length === 0\">\r\n                Não há máquinas disponíveis para selecionar\r\n              </b-dropdown-text>\r\n            </b-dropdown>\r\n          </template>\r\n        </b-form-tags>\r\n        <div>\r\n          <b-button id=\"btn\" size=\"sm\" v-b-modal.modal-1>\r\n            Tempo: {{ numero }}\r\n          </b-button>\r\n        </div>\r\n      </b-navbar-nav>\r\n    </b-navbar>\r\n\r\n    <!-- Modais -->\r\n    <b-modal id=\"modal-1\" title=\"Opções!\" @ok=\"btnOkTimer\">\r\n      <div id=\"Modal\">\r\n        Atualizar tela a cada (minutos):\r\n        <b-form-input type=\"number\" v-model=\"timeReload\"></b-form-input>\r\n      </div>\r\n    </b-modal>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n  props: {\r\n    listMaq: {\r\n      type: Array,\r\n      default() {\r\n        return [];\r\n      }\r\n    }\r\n  },\r\n\r\n  data() {\r\n    return {\r\n      search: \"\",\r\n      value: [],\r\n      timer: null,\r\n      timeReload: 5,\r\n\r\n      relogio: null,\r\n      numero: \"00:00\",\r\n      ss: 0,\r\n      mm: 0\r\n    };\r\n  },\r\n  computed: {\r\n    minutos() {\r\n      return this.timeReload * 1000 * 60;\r\n    },\r\n\r\n    criteria() {\r\n      // Compute the search criteria\r\n      return this.search.trim().toLowerCase();\r\n    },\r\n    availableOptions() {\r\n      const criteria = this.criteria;\r\n      // Filter out already selected options\r\n      const options = this.listMaq.filter(\r\n        opt => this.value.indexOf(opt) === -1\r\n      );\r\n      if (criteria) {\r\n        // Show only options that match criteria\r\n        return options.filter(opt => opt.toLowerCase().indexOf(criteria) > -1);\r\n      }\r\n      // Show all options available\r\n      return options;\r\n    },\r\n    searchDesc() {\r\n      if (this.criteria && this.availableOptions.length === 0) {\r\n        return \"Não há máquinas dispoíveis\";\r\n      }\r\n      return \"\";\r\n    }\r\n  },\r\n  methods: {\r\n    btnMaq() {\r\n      this.$emit(\"evtFiltrar\", this.value);\r\n    },\r\n\r\n    onOptionClick({ option, addTag }) {\r\n      addTag(option);\r\n      this.search = \"\";\r\n    },\r\n    btnOkTimer() {\r\n      clearInterval(this.timer);\r\n      clearInterval(this.relogio);\r\n      this.ss = 0;\r\n      this.mm = 0;\r\n\r\n      this.relogio = setInterval(() => {\r\n        this.rodaRelogio();\r\n      }, 1000); //1 segundo\r\n\r\n      if (this.timeReload > 0.9) {\r\n        console.log(\"Inciando timer!\", this.timeReload);\r\n        this.timer = setInterval(this.btnMaq, this.minutos);\r\n      } else {\r\n        this.$emit(\r\n          \"evtError\",\r\n          \"Necessário informar o intervalo de atualizações para obter um melhor funcionamento do programa!\"\r\n        );\r\n        clearInterval(this.relogio);\r\n        this.ss = 0;\r\n        this.mm = 0;\r\n      }\r\n    },\r\n    rodaRelogio() {\r\n      this.ss++;\r\n\r\n      if (this.ss == 60) {\r\n        //deu 59 segundos\r\n        this.mm++;\r\n        this.ss = 0;\r\n        if (this.mm >= this.timeReload) {\r\n          this.mm = 0;\r\n        }\r\n      }\r\n\r\n      let format =\r\n        (this.mm < 10 ? \"0\" + this.mm : this.mm) +\r\n        \":\" +\r\n        (this.ss < 10 ? \"0\" + this.ss : this.ss);\r\n\r\n      return (this.numero = format);\r\n    }\r\n  },\r\n\r\n  beforeDestroy() {\r\n    clearInterval(this.timer);\r\n  }\r\n};\r\n</script>\r\n\r\n<style scoped>\r\n#btnNav {\r\n  position: relative;\r\n  display: block;\r\n}\r\n#btn {\r\n  width: 150px;\r\n  height: 30px;\r\n  margin: 5px;\r\n  align-content: center;\r\n}\r\n</style>>\r\n    "]}]}