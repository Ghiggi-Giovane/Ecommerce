{"remainingRequest":"C:\\k1-services\\node_modules\\babel-loader\\lib\\index.js!C:\\k1-services\\node_modules\\cache-loader\\dist\\cjs.js??ref--1-0!C:\\k1-services\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\k1-services\\src\\pages\\ramais\\views\\historicoupdate.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\k1-services\\src\\pages\\ramais\\views\\historicoupdate.vue","mtime":1701906516522},{"path":"C:\\k1-services\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1670977934221},{"path":"C:\\k1-services\\node_modules\\babel-loader\\lib\\index.js","mtime":1670977935138},{"path":"C:\\k1-services\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1670977934221},{"path":"C:\\k1-services\\node_modules\\vue-loader\\lib\\index.js","mtime":1674603023821}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCB7IG1hcEFjdGlvbnMsIG1hcEdldHRlcnMgfSBmcm9tICJ2dWV4IjsKaW1wb3J0IEFQSSBmcm9tICIuLi8uLi8uLi9zZXJ2aWNlcy9hcGkuc2VydmljZSI7CmV4cG9ydCBkZWZhdWx0IHsKICBuYW1lOiAiSGlzdG9yaWNvQ2FsbHNVcGRhdGUiLAogIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICBpZGFnZW5kYWNhbGw6IHRoaXMuZGF0YS5pZCB8fCBudWxsLAogICAgICBpZHJhbWFsOiB0aGlzLmRhdGEuaWRBZ2VuZGEgfHwgbnVsbCwKICAgICAgYW5vdGFjYW86IHRoaXMuZGF0YS5Bbm90YWNhbyB8fCAiIiwKICAgICAgYWdlbmRhZGE6IHRoaXMuZGF0YS5BZ2VuZGFkYSB8fCBudWxsLAogICAgICBhbGVydGFtczogdGhpcy5kYXRhLkFsZXJ0YU1TIHx8IG51bGwsCiAgICAgIGFsZXJ0YXRpcG86IHRoaXMuZGF0YS5UZW1wbyB8fCBudWxsLAogICAgICBhbGVydGF0aXBvczogW3sKICAgICAgICB2YWx1ZTogInNlZ3VuZG9zIiwKICAgICAgICB0ZXh0OiAic2VndW5kb3MiCiAgICAgIH0sIHsKICAgICAgICB2YWx1ZTogIm1pbnV0b3MiLAogICAgICAgIHRleHQ6ICJtaW51dG9zIgogICAgICB9LCB7CiAgICAgICAgdmFsdWU6ICJob3JhcyIsCiAgICAgICAgdGV4dDogImhvcmFzIgogICAgICB9LCB7CiAgICAgICAgdmFsdWU6ICJkaWFzIiwKICAgICAgICB0ZXh0OiAiZGlhcyIKICAgICAgfV0KICAgIH07CiAgfSwKICBwcm9wczogewogICAgZGF0YTogewogICAgICB0eXBlOiBPYmplY3QKICAgIH0KICB9LAogIGNvbXB1dGVkOiB7CiAgICAuLi5tYXBHZXR0ZXJzKFsiZ3R4Q29uZmlnRGF0ZXRpbWVQaWNrZXJGb3JtYXQiXSksCiAgICBwYXJhbWFkZCgpIHsKICAgICAgcmV0dXJuIHsKICAgICAgICBpZGFnZW5kYWNhbGw6IHRoaXMuaWRhZ2VuZGFjYWxsLAogICAgICAgIGlkcmFtYWw6IHRoaXMuaWRyYW1hbCwKICAgICAgICBhbm90YWNhbzogdGhpcy5hbm90YWNhbywKICAgICAgICBhZ2VuZGFkYTogdGhpcy5hZ2VuZGFkYSwKICAgICAgICBhbGVydGFtczogdGhpcy5wYXJhbWFsZXJ0YW1zCiAgICAgIH07CiAgICB9LAogICAgcGFyYW1hbGVydGFtcygpIHsKICAgICAgc3dpdGNoICh0aGlzLmFsZXJ0YXRpcG8pIHsKICAgICAgICBjYXNlICJzZWd1bmRvcyI6CiAgICAgICAgICByZXR1cm4gdGhpcy5hbGVydGFtcyAqIDEwMDAgKiAtMTsKICAgICAgICAgIGJyZWFrOwogICAgICAgIGNhc2UgIm1pbnV0b3MiOgogICAgICAgICAgcmV0dXJuIHRoaXMuYWxlcnRhbXMgKiA2MDAwMCAqIC0xOwogICAgICAgICAgYnJlYWs7CiAgICAgICAgY2FzZSAiaG9yYXMiOgogICAgICAgICAgcmV0dXJuIHRoaXMuYWxlcnRhbXMgKiAzNjAwMDAwICogLTE7CiAgICAgICAgICBicmVhazsKICAgICAgICBjYXNlICJkaWFzIjoKICAgICAgICAgIHJldHVybiB0aGlzLmFsZXJ0YW1zICogODY0MDAwMDAgKiAtMTsKICAgICAgICAgIGJyZWFrOwogICAgICAgIGRlZmF1bHQ6CiAgICAgICAgICByZXR1cm4gdGhpcy5hbGVydGFtcyAqIDEwMDAgKiAtMTsKICAgICAgICAgIGJyZWFrOwogICAgICB9CiAgICB9LAogICAgYWxlcnRhbGFiZWwoKSB7CiAgICAgIGNvbnN0IHRlbXBvID0gdGhpcy5hbGVydGFtcyA9PSAxID8gdGhpcy5hbGVydGF0aXBvLnN1YnN0cigwLCB0aGlzLmFsZXJ0YXRpcG8ubGVuZ3RoIC0gMSkgOiB0aGlzLmFsZXJ0YXRpcG87CiAgICAgIGlmICh0aGlzLmFsZXJ0YXRpcG8gJiYgdGhpcy5hbGVydGFtcyA+IDApIHsKICAgICAgICByZXR1cm4gdGhpcy5hbGVydGFtcyArICIgIiArIHRlbXBvICsgIiBhbnRlcyI7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgcmV0dXJuICIiOwogICAgICB9CiAgICB9CiAgfSwKICBtZXRob2RzOiB7CiAgICBzYXZlQ2FsbCgpIHsKICAgICAgQVBJLnBvc3QoInYyL1NlcnZpY29zL1JhbWFpc0NhbGwvVXBkYXRlIiwgdGhpcy5wYXJhbWFkZCkudGhlbihyZXMgPT4gewogICAgICAgIC8vIGNvbnNvbGUubG9nKCJzYXZlQ2FsbCIsIHJlcyk7CiAgICAgICAgdGhpcy4kZW1pdCgiZXZ0c2F2ZWQiLCByZXMpOwogICAgICB9KTsKICAgIH0KICB9Cn07"},{"version":3,"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAoEA;AACA;AACA;EACAA;EAEAC;IACA;MACAC;MACAC;MACAC;MACAC;MACAC;MACAC;MACAC,cACA;QAAAC;QAAAC;MAAA,GACA;QAAAD;QAAAC;MAAA,GACA;QAAAD;QAAAC;MAAA,GACA;QAAAD;QAAAC;MAAA;IAEA;EACA;EAEAC;IACAV;MACAW;IACA;EACA;EAEAC;IACA;IAEAC;MACA;QACAZ;QACAC;QACAC;QACAC;QACAC;MACA;IACA;IAEAS;MACA;QACA;UACA;UACA;QACA;UACA;UACA;QACA;UACA;UACA;QACA;UACA;UACA;QACA;UACA;UACA;MAAA;IAEA;IAEAC;MACA,cACA,qBACA,wDACA;MACA;QACA;MACA;QACA;MACA;IACA;EACA;EAEAC;IACAC;MACAC;QACA;QACA;MACA;IACA;EACA;AACA","names":["name","data","idagendacall","idramal","anotacao","agendada","alertams","alertatipo","alertatipos","value","text","props","type","computed","paramadd","paramalertams","alertalabel","methods","saveCall","API"],"sourceRoot":"src/pages/ramais/views","sources":["historicoupdate.vue"],"sourcesContent":["<template>\r\n  <div>\r\n    <b-row>\r\n      <b-col>\r\n        <label for=\"form-anotacao\">Anotações</label>\r\n        <b-form-textarea\r\n          id=\"textarea\"\r\n          v-model=\"anotacao\"\r\n          placeholder=\"Anotações\"\r\n          rows=\"3\"\r\n          max-rows=\"6\"\r\n        ></b-form-textarea>\r\n      </b-col>\r\n    </b-row>\r\n    <b-row>\r\n      <b-col>\r\n        <label for=\"form-agendada\">Agendar para</label>\r\n        <b-form-datepicker\r\n          id=\"form-agendada\"\r\n          v-model=\"agendada\"\r\n          locale=\"pt\"\r\n          size=\"sm\"\r\n          :date-format-options=\"gtxConfigDatetimePickerFormat\"\r\n        ></b-form-datepicker>\r\n      </b-col>\r\n    </b-row>\r\n    <b-row>\r\n      <b-col cols=\"6\">\r\n        <label for=\"form-alerta\">Notificar {{ alertalabel }}</label>\r\n        <b-form-input\r\n          id=\"form-alerta\"\r\n          type=\"number\"\r\n          v-model=\"alertams\"\r\n          size=\"sm\"\r\n        ></b-form-input>\r\n      </b-col>\r\n      <b-col cols=\"6\">\r\n        <label for=\"form-alertatipo\">Tempo</label>\r\n        <b-form-select\r\n          id=\"form-alertatipo\"\r\n          type=\"number\"\r\n          v-model=\"alertatipo\"\r\n          :options=\"alertatipos\"\r\n          size=\"sm\"\r\n        ></b-form-select>\r\n      </b-col>\r\n    </b-row>\r\n    <b-row>\r\n      <b-col class=\"mt-2 text-right\">\r\n        <b-button variant=\"success\" @click=\"saveCall\">\r\n          Salvar\r\n        </b-button>\r\n      </b-col>\r\n    </b-row>\r\n\r\n    <!--\r\n    alertalabel: {{ alertalabel }}\r\n    <pre>\r\n      paramadd: {{ paramadd }}\r\n    </pre>\r\n    <pre>\r\n      data: {{ data }}\r\n    </pre>\r\n    -->\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { mapActions, mapGetters } from \"vuex\";\r\nimport API from \"../../../services/api.service\";\r\nexport default {\r\n  name: \"HistoricoCallsUpdate\",\r\n\r\n  data() {\r\n    return {\r\n      idagendacall: this.data.id || null,\r\n      idramal: this.data.idAgenda || null,\r\n      anotacao: this.data.Anotacao || \"\",\r\n      agendada: this.data.Agendada || null,\r\n      alertams: this.data.AlertaMS || null,\r\n      alertatipo: this.data.Tempo || null,\r\n      alertatipos: [\r\n        { value: \"segundos\", text: \"segundos\" },\r\n        { value: \"minutos\", text: \"minutos\" },\r\n        { value: \"horas\", text: \"horas\" },\r\n        { value: \"dias\", text: \"dias\" },\r\n      ],\r\n    };\r\n  },\r\n\r\n  props: {\r\n    data: {\r\n      type: Object,\r\n    },\r\n  },\r\n\r\n  computed: {\r\n    ...mapGetters([\"gtxConfigDatetimePickerFormat\"]),\r\n\r\n    paramadd() {\r\n      return {\r\n        idagendacall: this.idagendacall,\r\n        idramal: this.idramal,\r\n        anotacao: this.anotacao,\r\n        agendada: this.agendada,\r\n        alertams: this.paramalertams,\r\n      };\r\n    },\r\n\r\n    paramalertams() {\r\n      switch (this.alertatipo) {\r\n        case \"segundos\":\r\n          return this.alertams * 1000 * -1;\r\n          break;\r\n        case \"minutos\":\r\n          return this.alertams * 60000 * -1;\r\n          break;\r\n        case \"horas\":\r\n          return this.alertams * 3600000 * -1;\r\n          break;\r\n        case \"dias\":\r\n          return this.alertams * 86400000 * -1;\r\n          break;\r\n        default:\r\n          return this.alertams * 1000 * -1;\r\n          break;\r\n      }\r\n    },\r\n\r\n    alertalabel() {\r\n      const tempo =\r\n        this.alertams == 1\r\n          ? this.alertatipo.substr(0, this.alertatipo.length - 1)\r\n          : this.alertatipo;\r\n      if (this.alertatipo && this.alertams > 0) {\r\n        return this.alertams + \" \" + tempo + \" antes\";\r\n      } else {\r\n        return \"\";\r\n      }\r\n    },\r\n  },\r\n\r\n  methods: {\r\n    saveCall() {\r\n      API.post(\"v2/Servicos/RamaisCall/Update\", this.paramadd).then((res) => {\r\n        // console.log(\"saveCall\", res);\r\n        this.$emit(\"evtsaved\", res);\r\n      });\r\n    },\r\n  },\r\n};\r\n</script>\r\n"]}]}