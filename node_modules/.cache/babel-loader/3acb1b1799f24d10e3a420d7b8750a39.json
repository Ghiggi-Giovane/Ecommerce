{"remainingRequest":"C:\\k1-services\\node_modules\\babel-loader\\lib\\index.js!C:\\k1-services\\node_modules\\cache-loader\\dist\\cjs.js??ref--1-0!C:\\k1-services\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\k1-services\\src\\pages\\pedidos\\views\\VisualPedidos.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\k1-services\\src\\pages\\pedidos\\views\\VisualPedidos.vue","mtime":1670977910656},{"path":"C:\\k1-services\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1670977934221},{"path":"C:\\k1-services\\node_modules\\babel-loader\\lib\\index.js","mtime":1670977935138},{"path":"C:\\k1-services\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1670977934221},{"path":"C:\\k1-services\\node_modules\\vue-loader\\lib\\index.js","mtime":1670977935327}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KaW1wb3J0IEFQSSBmcm9tICIuLi8uLi8uLi9zZXJ2aWNlcy9hcGkuc2VydmljZSI7CmltcG9ydCBQZWRpZG9zTGlzdCBmcm9tICIuLi9jb21wb25lbnRzL1BlZGlkb3NMc3QiOwpleHBvcnQgZGVmYXVsdCB7CiAgbmFtZTogIlZpc3VhbGl6YVBlZGlkb3MiLAogIGNvbXBvbmVudHM6IHsKICAgIFBlZGlkb3NMaXN0CiAgfSwKCiAgYmVmb3JlTW91bnQoKSB7CiAgICB0aGlzLmdldFBlZGlkb3MoKTsKICB9LAoKICBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgZm9ybWNvbGxhcHNlZDogdHJ1ZSwKICAgICAgZm9ybTogewogICAgICAgIG51bWVybzogbnVsbCwKICAgICAgICBlbXByZXNhOiA4LAogICAgICAgIHRpcG86ICdWJywKICAgICAgICBlbWlzc2FvOiBuZXcgRGF0ZSgpLAogICAgICAgIGNvbmZpcm1hZG9zOiAwLAogICAgICAgIHByb2dyYW1hZG9zOiAwLAogICAgICAgIGNvbWVyY2lhbDogMCwKICAgICAgICBmaW5hbmNlaXJvOiAwLAogICAgICAgIGJsb3F1ZWFkb3M6IDAsCiAgICAgICAgZmF0dXJhZG9zOiAwLAogICAgICAgIGNhbmNlbGFkb3M6IDAsCiAgICAgICAgdGVzdGU6IDAKICAgICAgfSwKICAgICAgZGF0YTogW10sCiAgICAgIHNlbGVjdGVkOiBudWxsCiAgICB9OwogIH0sCgogIGNvbXB1dGVkOiB7CiAgICBwYXJhbXMoKSB7CiAgICAgIHJldHVybiB0aGlzLmZvcm07CiAgICB9CgogIH0sCiAgbWV0aG9kczogewogICAgZG9zZWxlY3RlZChpdGVtKSB7CiAgICAgIHRoaXMuc2VsZWN0ZWQgPSBpdGVtOwogICAgfSwKCiAgICBnZXRQZWRpZG9zKCkgewogICAgICBBUEkuZ2V0KCJ2Mi9TZXJ2aWNvcy9QZWRpZG9zL0dldCIsIHRoaXMucGFyYW1zKS50aGVuKGFwaWRhdGEgPT4gewogICAgICAgIGlmIChhcGlkYXRhLmRhdGEuU3VjY2VzcyA9PSAiVHJ1ZSIgfHwgYXBpZGF0YS5kYXRhLlN1Y2Nlc3MpIHsKICAgICAgICAgIGNvbnN0IHJlcyA9IEFQSS5wcmVwYXJlRGF0YShhcGlkYXRhLmRhdGEpOwogICAgICAgICAgdGhpcy5kYXRhID0gcmVzLmFwaXJlc3BvbnNlLkRhdGE7CiAgICAgICAgICB0aGlzLmZvcm1jb2xsYXBzZWQgPSBmYWxzZTsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgdGhpcy5kYXRhID0gW107CiAgICAgICAgICB0aGlzLmZvcm1jb2xsYXBzZWQgPSB0cnVlOwogICAgICAgIH0KICAgICAgfSk7CiAgICB9LAoKICAgIG1hcmNhcihjaGVjaykgewogICAgICBjb25zb2xlLmxvZygnbWFyY2FyOicsIGNoZWNrKTsKICAgIH0sCgogICAgZWRpdGFyKHBlZGlkbykgewogICAgICAvLyBjb25zb2xlLmxvZygnZWRpdGFyOiAnLCBwZWRpZG8pOwogICAgICB0aGlzLnNlbGVjdGVkID0gcGVkaWRvOwogICAgICB0aGlzLiRyb3V0ZXIucHVzaCh7CiAgICAgICAgbmFtZTogIlBlZGlkb0ZyYW5xdWlhIiwKICAgICAgICBwYXJhbXM6IHBlZGlkbwogICAgICB9KTsKICAgIH0sCgogICAgY2xhc3NzZWxlY3RlZChpdGVtKSB7CiAgICAgIGlmIChpdGVtICYmIGl0ZW0uaWRwZWRpZG8gJiYgdGhpcy5zZWxlY3RlZCAmJiB0aGlzLnNlbGVjdGVkLmlkcGVkaWRvKSB7CiAgICAgICAgcmV0dXJuIGl0ZW0uaWRwZWRpZG8gPT0gdGhpcy5zZWxlY3RlZC5pZHBlZGlkbyA/ICJwcmltYXJ5IiA6ICIiOwogICAgICB9IGVsc2UgewogICAgICAgIHJldHVybiAiIjsKICAgICAgfQogICAgfQoKICB9Cn07"},{"version":3,"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAkJA;AACA;AAEA;EACAA,wBADA;EAEAC;IAAAC;EAAA,CAFA;;EAGAC;IACA;EACA,CALA;;EAMAC;IACA;MACAC,mBADA;MAEAC;QACAC,YADA;QAEAC,UAFA;QAGAC,SAHA;QAIAC,mBAJA;QAKAC,cALA;QAMAC,cANA;QAOAC,YAPA;QAQAC,aARA;QASAC,aATA;QAUAC,YAVA;QAWAC,aAXA;QAYAC;MAZA,CAFA;MAgBAd,QAhBA;MAiBAe;IAjBA;EAmBA,CA1BA;;EA2BAC;IACAC;MACA;IACA;;EAHA,CA3BA;EAgCAC;IACAC;MACA;IACA,CAHA;;IAIAC;MACAC,gDACAC,IADA,CACAC;QACA;UACA;UACA;UACA;QACA,CAJA,MAIA;UACA;UACA;QACA;MACA,CAVA;IAWA,CAhBA;;IAiBAC;MACAC;IACA,CAnBA;;IAoBAC;MACA;MACA;MACA;QAAA9B;QAAAqB;MAAA;IACA,CAxBA;;IAyBAU;MACA;QACA;MACA,CAFA,MAEA;QACA;MACA;IACA;;EA/BA;AAhCA","names":["name","components","PedidosList","beforeMount","data","formcollapsed","form","numero","empresa","tipo","emissao","confirmados","programados","comercial","financeiro","bloqueados","faturados","cancelados","teste","selected","computed","params","methods","doselected","getPedidos","API","then","apidata","marcar","console","editar","classselected"],"sourceRoot":"src/pages/pedidos/views","sources":["VisualPedidos.vue"],"sourcesContent":["<template>\r\n  <div class=\"mx-auto container\">\r\n    <b-card class=\"my-2\" header-bg-variant=\"primary\" header-text-variant=\"white\">\r\n    <template #header>\r\n    <div class=\"d-flex w-100 justify-content-between\">\r\n      <h4 class=\"mb-0\">Pedidos</h4>\r\n      <span class=\"hspaced\">\r\n        <b-button variant=\"light\" to=\"/PedidoFranquia\">\r\n          <b-icon-plus/>\r\n          Novo\r\n        </b-button>\r\n        <b-button variant=\"light\" v-b-toggle.collapseform>\r\n          <b-icon-caret-up v-if=\"formcollapsed\"/>\r\n          <b-icon-caret-down v-else/>\r\n          Filtros\r\n        </b-button>\r\n      </span>\r\n      </div>\r\n    </template>\r\n\r\n    <b-collapse id=\"collapseform\" v-model=\"formcollapsed\">\r\n    <b-row>\r\n      <b-col cols=\"12\" md=\"2\">\r\n      <b-form-group\r\n        id=\"input-group-numero\"\r\n        label-for=\"input-numero\"\r\n        label=\"Número\"\r\n      >\r\n        <b-form-input\r\n          id=\"input-numero\"\r\n          type=\"number\"\r\n          v-model=\"form.numero\"\r\n        >\r\n        </b-form-input>\r\n      </b-form-group>\r\n      </b-col>\r\n      <b-col cols=\"12\" md=\"3\">\r\n      <b-form-group\r\n        id=\"input-group-emissao\"\r\n        label-for=\"input-emissao\"\r\n        label=\"Emissão\"\r\n      >\r\n        <b-form-datepicker\r\n          id=\"input-emissao\"\r\n          :date-format-options=\"{\r\n            year: 'numeric',\r\n            month: '2-digit',\r\n            day: '2-digit',\r\n          }\"\r\n          locale=\"pt\"\r\n          v-model=\"form.emissao\"\r\n        >\r\n        </b-form-datepicker>\r\n      </b-form-group>\r\n      </b-col>\r\n    </b-row>\r\n\r\n    <b-row>\r\n      <b-col cols=\"12\" class=\"mb-2 text-right\">\r\n\r\n        <b-button variant=\"success\" @click=\"getPedidos()\">\r\n          <b-icon-search />\r\n          Buscar\r\n        </b-button>\r\n        \r\n      </b-col>\r\n    </b-row>\r\n    <hr />\r\n    </b-collapse>\r\n\r\n    <b-row>\r\n    <b-col cols=\"12\">\r\n      <b-list-group>\r\n        <b-list-group-item \r\n          v-for=\"p in data\"\r\n          v-b-toggle=\"`collapse-pedido-${p.idpedido}`\"\r\n          :variant=\"classselected(p)\" \r\n          :key=\"p.idpedido\"\r\n          @click=\"doselected(p)\"\r\n          class=\"flex-column align-items-start\">\r\n\r\n            <div class=\"d-flex w-100 justify-content-between\">\r\n            <div class=\"mb-3\">Número: <span class=\"mb-3\"><b><span v-copy @click.stop=\"\">{{p.Numero}}</span></b></span></div>\r\n            <div style=\"min-width: 80px;\">\r\n              algumacoisa\r\n            </div>\r\n          </div>\r\n          <div class=\"d-flex w-100 justify-content-between\">\r\n            <h5 class=\"mb-3\">{{p.Cliente}} - {{p.clientenome}}</h5>\r\n            <div style=\"min-width: 80px;\">\r\n            <b-row>\r\n              <b-col class=\"text-right\">\r\n                <span class=\"iconbutton\" @click.stop=\"editar(p)\">\r\n                  <b-icon-pencil variant=\"success\" title=\"Editar\" />\r\n                </span>\r\n              </b-col>\r\n              <b-col class=\"text-right\">\r\n                <span>\r\n                  <b-form-checkbox @change=\"marcar\"/>\r\n                </span>\r\n              </b-col>\r\n            </b-row>\r\n            </div>\r\n          </div>\r\n\r\n          <b-collapse \r\n            :id=\"`collapse-pedido-${p.idpedido}`\"\r\n            v-model=\"p.collapsed\">\r\n          <b-list-group>\r\n            <b-list-group-item\r\n              v-for=\"i in p.itensped\"\r\n              :key=\"i.iditensped\"\r\n              @click.stop=\"\">\r\n\r\n              <div class=\"d-flex w-100 justify-content-between\">\r\n                <div class=\"mb-3\">Item: <span class=\"font-weight-bold mb-3\" v-copy @click.stop=\"\">{{i.item}}</span></div>\r\n                <div style=\"min-width: 80px;\">\r\n                  {{i.qtde_solicitada}}\r\n                </div>\r\n              </div>\r\n\r\n              <div class=\"d-flex w-100 justify-content-between\">\r\n                <div class=\"mb-3\"><span class=\"mb-3\" v-copy @click.stop=\"\">{{i.descricao}}</span></div>\r\n              </div>\r\n\r\n              <div class=\"d-flex w-100 justify-content-between\">\r\n                <div style=\"font-weight: italic; font-size: 14px;\">\r\n                  <span class=\"text-nowrap\">Total: <b>{{i.totalcomipi}}</b></span> |\r\n                  <span class=\"text-nowrap\">Volumes: <b>12</b></span>\r\n                </div>\r\n                <!-- <span class=\"font-weight-bold\">{{r.motorista}} [ {{r.placa}} ]</span> -->\r\n              </div>\r\n            </b-list-group-item>\r\n          </b-list-group>\r\n          </b-collapse>          \r\n        </b-list-group-item>\r\n      </b-list-group>\r\n    </b-col>\r\n    </b-row>\r\n\r\n  </b-card>\r\n</div>\r\n\r\n</template>\r\n\r\n<script>\r\nimport API from \"../../../services/api.service\";\r\nimport PedidosList from \"../components/PedidosLst\";\r\n\r\nexport default {\r\n  name: \"VisualizaPedidos\",\r\n  components: { PedidosList },\r\n  beforeMount() {\r\n    this.getPedidos();\r\n  },\r\n  data() {\r\n    return {\r\n      formcollapsed: true,\r\n      form: {\r\n        numero: null,\r\n        empresa: 8,\r\n\t\t    tipo: 'V',\r\n\t\t    emissao: new Date(),\r\n\t\t    confirmados: 0,\r\n\t\t    programados: 0,\r\n\t\t    comercial: 0,\r\n\t\t    financeiro: 0,\r\n\t\t    bloqueados: 0,\r\n\t\t    faturados: 0,\r\n\t\t    cancelados: 0,\r\n\t\t    teste: 0\r\n      },\r\n      data: [],\r\n      selected: null\r\n    };\r\n  },\r\n  computed: {\r\n    params() {\r\n      return this.form\r\n    }\r\n  },\r\n  methods: {\r\n    doselected(item) {\r\n      this.selected = item;\r\n    },\r\n    getPedidos() {\r\n      API.get(\"v2/Servicos/Pedidos/Get\", this.params)\r\n      .then((apidata)=>{\r\n        if ((apidata.data.Success == \"True\") || apidata.data.Success) {\r\n          const res = API.prepareData(apidata.data);\r\n          this.data = res.apiresponse.Data;\r\n          this.formcollapsed = false;\r\n        } else {\r\n          this.data = [];\r\n          this.formcollapsed = true;\r\n        }\r\n      })\r\n    },\r\n    marcar(check) {\r\n      console.log('marcar:', check);\r\n    },\r\n    editar(pedido) {\r\n      // console.log('editar: ', pedido);\r\n      this.selected = pedido;\r\n      this.$router.push({ name: \"PedidoFranquia\", params: pedido });\r\n    },\r\n    classselected(item) {\r\n      if ((item && item.idpedido) && (this.selected && this.selected.idpedido)) {\r\n        return (item.idpedido == this.selected.idpedido) ? \"primary\" : \"\";\r\n      } else {\r\n        return \"\";\r\n      }\r\n    }\r\n  },\r\n};\r\n</script>\r\n\r\n<style>\r\n</style>"]}]}