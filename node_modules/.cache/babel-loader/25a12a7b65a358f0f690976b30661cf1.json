{"remainingRequest":"C:\\k1-services\\node_modules\\babel-loader\\lib\\index.js!C:\\k1-services\\node_modules\\cache-loader\\dist\\cjs.js??ref--1-0!C:\\k1-services\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\k1-services\\src\\pages\\funcionarios\\views\\Ferias.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\k1-services\\src\\pages\\funcionarios\\views\\Ferias.vue","mtime":1701906516488},{"path":"C:\\k1-services\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1670977934221},{"path":"C:\\k1-services\\node_modules\\babel-loader\\lib\\index.js","mtime":1670977935138},{"path":"C:\\k1-services\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1670977934221},{"path":"C:\\k1-services\\node_modules\\vue-loader\\lib\\index.js","mtime":1674603023821}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkucmVkdWNlLmpzIjsKLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCB7IG1hcEdldHRlcnMsIG1hcEFjdGlvbnMgfSBmcm9tICJ2dWV4IjsKZXhwb3J0IGRlZmF1bHQgewogIG5hbWU6ICJGZXJpYXMiLAogIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICBmaWVsZHM6IFsiaW5pY2lhbCIsICJmaW5hbCIsICJkaWFzIl0KICAgIH07CiAgfSwKICBiZWZvcmVNb3VudCgpIHsKICAgIHRoaXMuYWN0ZmVyaWFzYnVzY2FyKCk7CiAgfSwKICBjb21wdXRlZDogewogICAgLi4ubWFwR2V0dGVycyhbImd0eGZlcmlhc0RhdGEiLCAic3lzZGF0ZSJdKSwKICAgIGZlcmlhcygpIHsKICAgICAgY29uc3QgYW5vcyA9IFtdOwogICAgICB0aGlzLmd0eGZlcmlhc0RhdGEubWFwKGYgPT4gewogICAgICAgIGlmICghYW5vcy5maW5kKGEgPT4gYS5hbm8gPT0gZi5hbm8pKSB7CiAgICAgICAgICBhbm9zLnB1c2goewogICAgICAgICAgICBhbm86IGYuYW5vLAogICAgICAgICAgICBkYXRhOiB0aGlzLmd0eGZlcmlhc0RhdGEuZmlsdGVyKHIgPT4gci5hbm8gPT0gZi5hbm8pCiAgICAgICAgICB9KTsKICAgICAgICB9CiAgICAgIH0pOwogICAgICByZXR1cm4gYW5vcy5yZXZlcnNlKCk7CiAgICB9CiAgfSwKICBtZXRob2RzOiB7CiAgICAuLi5tYXBBY3Rpb25zKFsiYWN0ZmVyaWFzYnVzY2FyIl0pLAogICAgdG90YWxkaWFzKGRhdGEpIHsKICAgICAgcmV0dXJuIGRhdGEucmVkdWNlKChhLCBiKSA9PiBwYXJzZUludChhKSArIHBhcnNlSW50KGIuZGlhcyksIDApOwogICAgfQogIH0KfTs="},{"version":3,"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA0DA;AACA;EACAA;EAEAC;IACA;MACAC;IACA;EACA;EAEAC;IACA;EACA;EAEAC;IACA;IACAC;MACA;MACA;QACA;UACAC;YACAC;YACAN;UACA;QACA;MACA;MACA;IACA;EACA;EAEAO;IACA;IACAC;MACA;IACA;EACA;AACA","names":["name","data","fields","beforeMount","computed","ferias","anos","ano","methods","totaldias"],"sourceRoot":"src/pages/funcionarios/views","sources":["Ferias.vue"],"sourcesContent":["<template>\r\n  <div class=\"container mt-2\">\r\n    <b-card>\r\n      <template #header>\r\n        <h4 class=\"mb-0\">FÃ©rias</h4>\r\n      </template>\r\n      <b-card-body>\r\n        <div class=\"accordion\" role=\"tablist\">\r\n          <b-card v-for=\"f of ferias\" :key=\"f.id\" no-body>\r\n            <b-card-header header-tag=\"header\" class=\"p-1\" role=\"tab\">\r\n              <b-button block v-b-toggle=\"f.ano\" variant=\"info\">\r\n                {{ f.ano }} - {{ totaldias(f.data) }} dias</b-button\r\n              >\r\n            </b-card-header>\r\n            <b-collapse\r\n              :id=\"f.ano\"\r\n              accordion=\"ferias\"\r\n              role=\"tabpanel\"\r\n              :visible=\"sysdate.year - 2 == f.ano\"\r\n            >\r\n              <b-card-text>\r\n                <b-table\r\n                  hover\r\n                  striped\r\n                  small\r\n                  foot-clone\r\n                  :items=\"f.data\"\r\n                  :fields=\"fields\"\r\n                >\r\n                  <template #cell(inicial)=\"data\">\r\n                    <span\r\n                      >{{ data.item.inicial | dateBR }} -\r\n                      {{ data.item.inicial | weekname }}</span\r\n                    >\r\n                  </template>\r\n                  <template #cell(final)=\"data\">\r\n                    <span\r\n                      >{{ data.item.final | dateBR }} -\r\n                      {{ data.item.final | weekname }}</span\r\n                    >\r\n                  </template>\r\n                  <template #foot()=\"data\">\r\n                    <span></span>\r\n                  </template>\r\n                  <template #foot(dias)=\"data\">\r\n                    <span>{{ totaldias(f.data) }}</span>\r\n                  </template>\r\n                </b-table>\r\n              </b-card-text>\r\n            </b-collapse>\r\n          </b-card>\r\n        </div>\r\n      </b-card-body>\r\n    </b-card>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { mapGetters, mapActions } from \"vuex\";\r\nexport default {\r\n  name: \"Ferias\",\r\n\r\n  data() {\r\n    return {\r\n      fields: [\"inicial\", \"final\", \"dias\"],\r\n    };\r\n  },\r\n\r\n  beforeMount() {\r\n    this.actferiasbuscar();\r\n  },\r\n\r\n  computed: {\r\n    ...mapGetters([\"gtxferiasData\", \"sysdate\"]),\r\n    ferias() {\r\n      const anos = [];\r\n      this.gtxferiasData.map((f) => {\r\n        if (!anos.find((a) => a.ano == f.ano)) {\r\n          anos.push({\r\n            ano: f.ano,\r\n            data: this.gtxferiasData.filter((r) => r.ano == f.ano),\r\n          });\r\n        }\r\n      });\r\n      return anos.reverse();\r\n    },\r\n  },\r\n\r\n  methods: {\r\n    ...mapActions([\"actferiasbuscar\"]),\r\n    totaldias(data) {\r\n      return data.reduce((a, b) => parseInt(a) + parseInt(b.dias), 0);\r\n    },\r\n  },\r\n};\r\n</script>\r\n\r\n<style scoped></style>\r\n"]}]}