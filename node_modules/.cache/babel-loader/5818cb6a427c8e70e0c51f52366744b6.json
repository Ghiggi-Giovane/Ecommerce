{"remainingRequest":"C:\\k1-services\\node_modules\\babel-loader\\lib\\index.js!C:\\k1-services\\node_modules\\cache-loader\\dist\\cjs.js??ref--1-0!C:\\k1-services\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\k1-services\\src\\pages\\admin\\views\\Usuarios.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\k1-services\\src\\pages\\admin\\views\\Usuarios.vue","mtime":1670977910596},{"path":"C:\\k1-services\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1670977934221},{"path":"C:\\k1-services\\node_modules\\babel-loader\\lib\\index.js","mtime":1670977935138},{"path":"C:\\k1-services\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1670977934221},{"path":"C:\\k1-services\\node_modules\\vue-loader\\lib\\index.js","mtime":1670977935327}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KaW1wb3J0IHsgbWFwR2V0dGVycywgbWFwQWN0aW9ucyB9IGZyb20gInZ1ZXgiOwpleHBvcnQgZGVmYXVsdCB7CiAgbmFtZTogIkFkbWluRGFzaGJvYXJkIiwKCiAgZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIHBlclBhZ2U6IDIwLAogICAgICBtZW51czogewogICAgICAgIGN1cnJlbnRQYWdlOiAxLAogICAgICAgIHRvdGFsUm93czogMCwKICAgICAgICBmaWx0ZXI6ICIiLAogICAgICAgIGNoZWNrOiBmYWxzZSwKICAgICAgICBmaWVsZHM6IFt7CiAgICAgICAgICBrZXk6ICJtZW51IiwKICAgICAgICAgIHNvcnRhYmxlOiB0cnVlCiAgICAgICAgfSwgImNoZWNrIl0sCiAgICAgICAgZGF0YTogW10KICAgICAgfSwKICAgICAgdXN1YXJpb3M6IHsKICAgICAgICBjdXJyZW50UGFnZTogMSwKICAgICAgICB0b3RhbFJvd3M6IDAsCiAgICAgICAgc2VsZWN0ZWQ6IHsKICAgICAgICAgIGlkdXN1YXJpbzogMCwKICAgICAgICAgIHVzdWFyaW86ICIiCiAgICAgICAgfSwKICAgICAgICBmaWVsZG9yZGVyOiAiIiwKICAgICAgICBvcmRlcjogImFzYyIsCiAgICAgICAgZmlsdGVyOiAiIiwKICAgICAgICBmaWVsZHM6IFsKICAgICAgICAvKnsga2V5OiAiaWR1c3VhcmlvIiwgbGFiZWw6ICJJRCIsIHNvcnRhYmxlOiB0cnVlIH0sKi8KICAgICAgICB7CiAgICAgICAgICBrZXk6ICJ1c3VhcmlvIiwKICAgICAgICAgIGxhYmVsOiAiVXN1w6FyaW8iLAogICAgICAgICAgc29ydGFibGU6IHRydWUKICAgICAgICB9LCAiYWN0aW9ucyJdLAogICAgICAgIGRhdGE6IFtdCiAgICAgIH0KICAgIH07CiAgfSwKCiAgY29tcHV0ZWQ6IHsgLi4ubWFwR2V0dGVycyhbImd0eGFkbWludXN1YXJpb3MiLCAiZ3R4YWRtaW5tZW51cyIsICJndHhhZG1pbm1lbnVzdXBkYXRlZCIsICJndHhhZG1pbm1lbnVzYXBpcmVzcG9uc2UiXSksCgogICAgcm93cygpIHsKICAgICAgcmV0dXJuIHRoaXMudXN1YXJpb3MuZGF0YS5sZW5ndGggfHwgMDsKICAgIH0sCgogICAgaWR1c3VhcmlvKCkgewogICAgICByZXR1cm4gewogICAgICAgIGlkdXN1YXJpbzogKHRoaXMudXN1YXJpb3MuZGF0YS5maW5kKGYgPT4gZi51c3VhcmlvID09IHRoaXMudXN1YXJpbykgfHwgewogICAgICAgICAgaWR1c3VhcmlvOiAwCiAgICAgICAgfSkuaWR1c3VhcmlvCiAgICAgIH07CiAgICB9LAoKICAgIHVzdWFyaW9zZWxlY2lvbmFkbygpIHsKICAgICAgY29uc3QgdXNlciA9IHRoaXMudXN1YXJpb3MuZGF0YS5maW5kKGYgPT4gZi51c3VhcmlvID09IHRoaXMudXN1YXJpbyk7CgogICAgICBpZiAodXNlcikgewogICAgICAgIHVzZXI7CiAgICAgIH0KICAgIH0sCgogICAgYXBpbWVudWluY2x1aXJwYXJhbSgpIHsKICAgICAgcmV0dXJuIHsKICAgICAgICBhY2FvOiAiaW5jbHVpciIsCiAgICAgICAgdXN1YXJpb3M6IHRoaXMudXN1YXJpb3Muc2VsZWN0ZWQuaWR1c3VhcmlvLnRvU3RyaW5nKCksCiAgICAgICAgbWVudXM6IHRoaXMubWVudXMuZGF0YS5maWx0ZXIoZiA9PiBmLmNoZWNrKS5tYXAobSA9PiBtLmlkKS5qb2luKCI7IikKICAgICAgfTsKICAgIH0sCgogICAgYXBpbWVudWV4Y2x1aXJwYXJhbSgpIHsKICAgICAgcmV0dXJuIHsKICAgICAgICBhY2FvOiAiZXhjbHVpciIsCiAgICAgICAgdXN1YXJpb3M6IHRoaXMudXN1YXJpb3Muc2VsZWN0ZWQuaWR1c3VhcmlvLnRvU3RyaW5nKCksCiAgICAgICAgbWVudXM6IHRoaXMubWVudXMuZGF0YS5maWx0ZXIoZiA9PiAhZi5jaGVjaykubWFwKG0gPT4gbS5pZCkuam9pbigiOyIpCiAgICAgIH07CiAgICB9CgogIH0sCgogIGJlZm9yZU1vdW50KCkgewogICAgdGhpcy5hY3RBZG1pblVzdWFyaW9zR2V0KCk7CiAgfSwKCiAgbWV0aG9kczogeyAuLi5tYXBBY3Rpb25zKFsiYWN0QWRtaW5Vc3Vhcmlvc0dldCIsICJhY3RBZG1pblVzdWFyaW9zTWVudXNHZXQiLCAiYWN0QWRtaW5Vc3Vhcmlvc01lbnVzVXBkYXRlIl0pLAoKICAgIHByb2ZpbGVyUm91dGUodXN1YXJpbykgewogICAgICB0aGlzLiRyb3V0ZXIucHVzaCh7CiAgICAgICAgcGF0aDogYC91c3VhcmlvLyR7dXN1YXJpby5pZHVzdWFyaW99L3Byb2ZpbGVyYAogICAgICB9KTsKICAgIH0sCgogICAgZGFzaGJvYXJkUm91dGUodXN1YXJpbykgewogICAgICB0aGlzLiRyb3V0ZXIucHVzaCh7CiAgICAgICAgcGF0aDogYC91c3VhcmlvLyR7dXN1YXJpby5pZHVzdWFyaW99L2Rhc2hib2FyZGAKICAgICAgfSk7CiAgICB9LAoKICAgIGJ1c2NhbWVudSh1c3VhcmlvKSB7CiAgICAgIHRoaXMudXN1YXJpb3Muc2VsZWN0ZWQgPSB1c3VhcmlvOwogICAgICB0aGlzLmFjdEFkbWluVXN1YXJpb3NNZW51c0dldCh0aGlzLnVzdWFyaW9zLnNlbGVjdGVkLnVzdWFyaW8pOwogICAgfSwKCiAgICBtZW51c2hlYWRlcmNsaWNrKG1lbnUpIHsKICAgICAgaWYgKG1lbnUgPT0gImNoZWNrIikgewogICAgICAgIHRoaXMubWVudXMuY2hlY2sgPSAhdGhpcy5tZW51cy5jaGVjazsKICAgICAgICB0aGlzLm1lbnVzLmRhdGEubWFwKG0gPT4gbS5jaGVjayA9IHRoaXMubWVudXMuY2hlY2spOwogICAgICB9CiAgICB9LAoKICAgIG1lbnVzdXBkYXRlKCkgewogICAgICB0aGlzLmFjdEFkbWluVXN1YXJpb3NNZW51c1VwZGF0ZSh0aGlzLmFwaW1lbnVpbmNsdWlycGFyYW0pOwogICAgICB0aGlzLmFjdEFkbWluVXN1YXJpb3NNZW51c1VwZGF0ZSh0aGlzLmFwaW1lbnVleGNsdWlycGFyYW0pOwogICAgfSwKCiAgICBvblVzdWFyaW9zRmlsdGVyZWQoZmlsdGVyZWRJdGVtcykgewogICAgICAvLyBUcmlnZ2VyIHBhZ2luYXRpb24gdG8gdXBkYXRlIHRoZSBudW1iZXIgb2YgYnV0dG9ucy9wYWdlcyBkdWUgdG8gZmlsdGVyaW5nCiAgICAgIHRoaXMudXN1YXJpb3MudG90YWxSb3dzID0gZmlsdGVyZWRJdGVtcy5sZW5ndGg7CiAgICAgIHRoaXMudXN1YXJpb3MuY3VycmVudFBhZ2UgPSAxOwogICAgfSwKCiAgICBvbk1lbnVzRmlsdGVyZWQoZmlsdGVyZWRJdGVtcykgewogICAgICAvLyBUcmlnZ2VyIHBhZ2luYXRpb24gdG8gdXBkYXRlIHRoZSBudW1iZXIgb2YgYnV0dG9ucy9wYWdlcyBkdWUgdG8gZmlsdGVyaW5nCiAgICAgIHRoaXMubWVudXMudG90YWxSb3dzID0gZmlsdGVyZWRJdGVtcy5sZW5ndGg7CiAgICB9LAoKICAgIG9uTWVudUNoZWNrKG1lbnUpIHsKICAgICAgaWYgKG1lbnUuY2hlY2spIHsKICAgICAgICBpZiAobWVudS5oYXNPd25Qcm9wZXJ0eSgiaWRNZW51UGFpIikpIHsKICAgICAgICAgIGlmICh0aGlzLm1lbnVzLmRhdGEuZmluZChmID0+IGYuaWRNZW51ID09IG1lbnUuaWRNZW51UGFpKSkgewogICAgICAgICAgICBpZiAoIXRoaXMubWVudXMuZGF0YS5maW5kKGYgPT4gZi5pZE1lbnUgPT0gbWVudS5pZE1lbnVQYWkpLmNoZWNrKSB7CiAgICAgICAgICAgICAgdGhpcy5tZW51cy5kYXRhLmZpbmQoZiA9PiBmLmlkTWVudSA9PSBtZW51LmlkTWVudVBhaSkuY2hlY2sgPSB0cnVlOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfQogICAgICB9CiAgICB9CgogIH0sCiAgd2F0Y2g6IHsKICAgIGd0eGFkbWlubWVudXMobWVudXMpIHsKICAgICAgaWYgKG1lbnVzLmxlbmd0aCA+IDApIHsKICAgICAgICB0aGlzLm1lbnVzLmRhdGEgPSBtZW51czsKICAgICAgICB0aGlzLm1lbnVzLmRhdGEubWFwKG0gPT4gbS5jaGVjayA9IG0uY2hlY2sgPT0gMCA/IGZhbHNlIDogdHJ1ZSk7CiAgICAgICAgdGhpcy5tZW51cy50b3RhbFJvd3MgPSBtZW51cy5sZW5ndGg7CiAgICAgICAgdGhpcy4kYnZNb2RhbC5zaG93KCJtb2RhbC1tZW51cyIpOwogICAgICB9CiAgICB9LAoKICAgIGd0eGFkbWludXN1YXJpb3ModXN1YXJpb3MpIHsKICAgICAgaWYgKHVzdWFyaW9zLmxlbmd0aCA+IDApIHsKICAgICAgICB0aGlzLnVzdWFyaW9zLmRhdGEgPSB1c3VhcmlvczsKICAgICAgICB0aGlzLnVzdWFyaW9zLnRvdGFsUm93cyA9IHVzdWFyaW9zLmxlbmd0aDsKICAgICAgfQogICAgfQoKICB9Cn07"},{"version":3,"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAsIA;AACA;EACAA,sBADA;;EAGAC;IACA;MACAC,WADA;MAEAC;QACAC,cADA;QAEAC,YAFA;QAGAC,UAHA;QAIAC,YAJA;QAKAC;UAAAC;UAAAC;QAAA,WALA;QAMAT;MANA,CAFA;MAUAU;QACAP,cADA;QAEAC,YAFA;QAGAO;UAAAC;UAAAC;QAAA,CAHA;QAIAC,cAJA;QAKAC,YALA;QAMAV,UANA;QAOAE;QACA;QACA;UAAAC;UAAAQ;UAAAP;QAAA,CAFA,EAGA,SAHA,CAPA;QAYAT;MAZA;IAVA;EAyBA,CA7BA;;EA+BAiB,YACA,eACA,kBADA,EAEA,eAFA,EAGA,sBAHA,EAIA,0BAJA,EADA;;IAQAC;MACA;IACA,CAVA;;IAYAN;MACA;QACAA,YACA;UACAA;QADA,CADA,EAIAA;MALA;IAOA,CApBA;;IAsBAO;MACA;;MACA;QACAC;MACA;IACA,CA3BA;;IA6BAC;MACA;QACAC,eADA;QAEAZ,qDAFA;QAGAR,uBACAG,MADA,CACAkB,YADA,EAEAC,GAFA,CAEAC,SAFA,EAGAC,IAHA,CAGA,GAHA;MAHA;IAQA,CAtCA;;IAwCAC;MACA;QACAL,eADA;QAEAZ,qDAFA;QAGAR,uBACAG,MADA,CACAkB,aADA,EAEAC,GAFA,CAEAC,SAFA,EAGAC,IAHA,CAGA,GAHA;MAHA;IAQA;;EAjDA,CA/BA;;EAmFAE;IACA;EACA,CArFA;;EAuFAC,WACA,eACA,qBADA,EAEA,0BAFA,EAGA,6BAHA,EADA;;IAOAC;MACA;QAAAC;MAAA;IACA,CATA;;IAUAC;MACA;QAAAD;MAAA;IACA,CAZA;;IAaAE;MACA;MACA;IACA,CAhBA;;IAiBAC;MACA;QACA;QACA;MACA;IACA,CAtBA;;IAuBAC;MACA;MACA;IACA,CA1BA;;IA2BAC;MACA;MACA;MACA;IACA,CA/BA;;IAgCAC;MACA;MACA;IACA,CAnCA;;IAoCAC;MACA;QACA;UACA;YACA,IACA,4DADA,EAEA;cACA,qBACAf,+BADA,EAEAjB,KAFA,GAEA,IAFA;YAGA;UACA;QACA;MACA;IACA;;EAlDA,CAvFA;EA4IAiC;IACAC;MACA;QACA;QACA;QACA;QACA;MACA;IACA,CARA;;IASAC;MACA;QACA;QACA;MACA;IACA;;EAdA;AA5IA","names":["name","data","perPage","menus","currentPage","totalRows","filter","check","fields","key","sortable","usuarios","selected","idusuario","usuario","fieldorder","order","label","computed","rows","usuarioselecionado","user","apimenuincluirparam","acao","f","map","m","join","apimenuexcluirparam","beforeMount","methods","profilerRoute","path","dashboardRoute","buscamenu","menusheaderclick","menusupdate","onUsuariosFiltered","onMenusFiltered","onMenuCheck","watch","gtxadminmenus","gtxadminusuarios"],"sourceRoot":"src/pages/admin/views","sources":["Usuarios.vue"],"sourcesContent":["<template>\r\n  <div class=\"m-2\">\r\n    <b-card-group deck>\r\n      <b-card>\r\n        <b-card-title>Usuários</b-card-title>\r\n        <b-card-body>\r\n          <b-row>\r\n            <b-col cols=\"12\" md=\"8\">\r\n              <b-input-group prepend=\"Filtro\" size=\"sm\">\r\n                <b-form-input\r\n                  id=\"input-filtro\"\r\n                  class=\"flex-fill\"\r\n                  type=\"search\"\r\n                  v-model=\"usuarios.filter\"\r\n                >\r\n                </b-form-input>\r\n              </b-input-group>\r\n            </b-col>\r\n            <b-col cols=\"12\" md=\"4\">\r\n              <b-pagination\r\n                class=\"float-right\"\r\n                v-model=\"usuarios.currentPage\"\r\n                :total-rows=\"rows\"\r\n                :per-page=\"perPage\"\r\n                size=\"sm\"\r\n                aria-controls=\"tbusuarios\"\r\n              ></b-pagination>\r\n            </b-col>\r\n          </b-row>\r\n\r\n          <b-table\r\n            small\r\n            striped\r\n            hover\r\n            id=\"tbusuarios\"\r\n            :items=\"usuarios.data\"\r\n            :fields=\"usuarios.fields\"\r\n            :filter=\"usuarios.filter\"\r\n            :per-page=\"perPage\"\r\n            :current-page=\"usuarios.currentPage\"\r\n            @filtered=\"onUsuariosFiltered\"\r\n          >\r\n            <template #cell(actions)=\"data\">\r\n              <span class=\"iconbutton\" @click=\"profilerRoute(data.item)\">\r\n                <b-icon-person variant=\"primary\" />\r\n              </span>\r\n              <span class=\"iconbutton\" @click=\"dashboardRoute(data.item)\">\r\n                <b-icon-columns-gap variant=\"primary\" />\r\n              </span>\r\n              <span class=\"iconbutton\" @click=\"buscamenu(data.item)\">\r\n                <b-icon-menu-app variant=\"primary\" />\r\n              </span>\r\n            </template>\r\n          </b-table>\r\n          <hr />\r\n          <div class=\"d-flex justify-content-between\">\r\n            <span class=\"mr-4 font-weight-bolder\">\r\n              Total: {{ usuarios.totalRows }}\r\n            </span>\r\n            <b-pagination\r\n              class=\"my-0\"\r\n              v-model=\"usuarios.currentPage\"\r\n              align=\"fill\"\r\n              size=\"sm\"\r\n              :total-rows=\"rows\"\r\n              :per-page=\"perPage\"\r\n              aria-controls=\"tbusuarios\"\r\n            ></b-pagination>\r\n          </div>\r\n        </b-card-body>\r\n      </b-card>\r\n    </b-card-group>\r\n\r\n    <!--\r\n    menus\r\n    <pre>{{ menus }}</pre>\r\n    <br />\r\n    usuarios.selected:\r\n    <pre>{{ usuarios.selected }}</pre>\r\n    <br />\r\n    incluir:\r\n    <pre>{{ apimenuincluirparam }}</pre>\r\n    <br />\r\n    gtxadminmenusupdated\r\n    <pre>{{ gtxadminmenusupdated }}</pre>\r\n    <br />\r\n    excluir:\r\n    <pre>{{ apimenuexcluirparam }}</pre>\r\n    -->\r\n\r\n    <b-modal\r\n      scrollable\r\n      id=\"modal-menus\"\r\n      :title=\"usuarios.selected.usuario\"\r\n      ok-title=\"Salvar\"\r\n      ok-variant=\"success\"\r\n      cancel-title=\"Cancelar\"\r\n      @ok=\"menusupdate\"\r\n    >\r\n      <b-input-group prepend=\"Filtro\" size=\"sm\" class=\"mb-2\">\r\n        <b-form-input\r\n          id=\"input-menu-filtro\"\r\n          type=\"search\"\r\n          v-model=\"menus.filter\"\r\n        >\r\n        </b-form-input>\r\n      </b-input-group>\r\n      <b-table\r\n        small\r\n        striped\r\n        hover\r\n        :items=\"menus.data\"\r\n        :fields=\"menus.fields\"\r\n        :filter=\"menus.filter\"\r\n        @head-clicked=\"menusheaderclick\"\r\n        @filtered=\"onMenusFiltered\"\r\n      >\r\n        <template #cell(check)=\"data\">\r\n          <b-form-checkbox\r\n            switch\r\n            v-model=\"data.item.check\"\r\n            @change=\"onMenuCheck(data.item)\"\r\n          ></b-form-checkbox>\r\n        </template>\r\n      </b-table>\r\n      <hr />\r\n      <span class=\"mr-4 font-weight-bolder\">\r\n        Total: {{ menus.totalRows }}\r\n      </span>\r\n    </b-modal>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { mapGetters, mapActions } from \"vuex\";\r\nexport default {\r\n  name: \"AdminDashboard\",\r\n\r\n  data() {\r\n    return {\r\n      perPage: 20,\r\n      menus: {\r\n        currentPage: 1,\r\n        totalRows: 0,\r\n        filter: \"\",\r\n        check: false,\r\n        fields: [{ key: \"menu\", sortable: true }, \"check\"],\r\n        data: [],\r\n      },\r\n      usuarios: {\r\n        currentPage: 1,\r\n        totalRows: 0,\r\n        selected: { idusuario: 0, usuario: \"\" },\r\n        fieldorder: \"\",\r\n        order: \"asc\",\r\n        filter: \"\",\r\n        fields: [\r\n          /*{ key: \"idusuario\", label: \"ID\", sortable: true },*/\r\n          { key: \"usuario\", label: \"Usuário\", sortable: true },\r\n          \"actions\",\r\n        ],\r\n        data: [],\r\n      },\r\n    };\r\n  },\r\n\r\n  computed: {\r\n    ...mapGetters([\r\n      \"gtxadminusuarios\",\r\n      \"gtxadminmenus\",\r\n      \"gtxadminmenusupdated\",\r\n      \"gtxadminmenusapiresponse\",\r\n    ]),\r\n\r\n    rows() {\r\n      return this.usuarios.data.length || 0;\r\n    },\r\n\r\n    idusuario() {\r\n      return {\r\n        idusuario: (\r\n          this.usuarios.data.find((f) => f.usuario == this.usuario) || {\r\n            idusuario: 0,\r\n          }\r\n        ).idusuario,\r\n      };\r\n    },\r\n\r\n    usuarioselecionado() {\r\n      const user = this.usuarios.data.find((f) => f.usuario == this.usuario);\r\n      if (user) {\r\n        user;\r\n      }\r\n    },\r\n\r\n    apimenuincluirparam() {\r\n      return {\r\n        acao: \"incluir\",\r\n        usuarios: this.usuarios.selected.idusuario.toString(),\r\n        menus: this.menus.data\r\n          .filter((f) => f.check)\r\n          .map((m) => m.id)\r\n          .join(\";\"),\r\n      };\r\n    },\r\n\r\n    apimenuexcluirparam() {\r\n      return {\r\n        acao: \"excluir\",\r\n        usuarios: this.usuarios.selected.idusuario.toString(),\r\n        menus: this.menus.data\r\n          .filter((f) => !f.check)\r\n          .map((m) => m.id)\r\n          .join(\";\"),\r\n      };\r\n    },\r\n  },\r\n\r\n  beforeMount() {\r\n    this.actAdminUsuariosGet();\r\n  },\r\n\r\n  methods: {\r\n    ...mapActions([\r\n      \"actAdminUsuariosGet\",\r\n      \"actAdminUsuariosMenusGet\",\r\n      \"actAdminUsuariosMenusUpdate\",\r\n    ]),\r\n\r\n    profilerRoute(usuario) {\r\n      this.$router.push({ path: `/usuario/${usuario.idusuario}/profiler` });\r\n    },\r\n    dashboardRoute(usuario) {\r\n      this.$router.push({ path: `/usuario/${usuario.idusuario}/dashboard` });\r\n    },\r\n    buscamenu(usuario) {\r\n      this.usuarios.selected = usuario;\r\n      this.actAdminUsuariosMenusGet(this.usuarios.selected.usuario);\r\n    },\r\n    menusheaderclick(menu) {\r\n      if (menu == \"check\") {\r\n        this.menus.check = !this.menus.check;\r\n        this.menus.data.map((m) => (m.check = this.menus.check));\r\n      }\r\n    },\r\n    menusupdate() {\r\n      this.actAdminUsuariosMenusUpdate(this.apimenuincluirparam);\r\n      this.actAdminUsuariosMenusUpdate(this.apimenuexcluirparam);\r\n    },\r\n    onUsuariosFiltered(filteredItems) {\r\n      // Trigger pagination to update the number of buttons/pages due to filtering\r\n      this.usuarios.totalRows = filteredItems.length;\r\n      this.usuarios.currentPage = 1;\r\n    },\r\n    onMenusFiltered(filteredItems) {\r\n      // Trigger pagination to update the number of buttons/pages due to filtering\r\n      this.menus.totalRows = filteredItems.length;\r\n    },\r\n    onMenuCheck(menu) {\r\n      if (menu.check) {\r\n        if (menu.hasOwnProperty(\"idMenuPai\")) {\r\n          if (this.menus.data.find((f) => f.idMenu == menu.idMenuPai)) {\r\n            if (\r\n              !this.menus.data.find((f) => f.idMenu == menu.idMenuPai).check\r\n            ) {\r\n              this.menus.data.find(\r\n                (f) => f.idMenu == menu.idMenuPai\r\n              ).check = true;\r\n            }\r\n          }\r\n        }\r\n      }\r\n    },\r\n  },\r\n\r\n  watch: {\r\n    gtxadminmenus(menus) {\r\n      if (menus.length > 0) {\r\n        this.menus.data = menus;\r\n        this.menus.data.map((m) => (m.check = m.check == 0 ? false : true));\r\n        this.menus.totalRows = menus.length;\r\n        this.$bvModal.show(\"modal-menus\");\r\n      }\r\n    },\r\n    gtxadminusuarios(usuarios) {\r\n      if (usuarios.length > 0) {\r\n        this.usuarios.data = usuarios;\r\n        this.usuarios.totalRows = usuarios.length;\r\n      }\r\n    },\r\n  },\r\n};\r\n</script>\r\n"]}]}