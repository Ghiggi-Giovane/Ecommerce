{"remainingRequest":"C:\\k1-services\\node_modules\\babel-loader\\lib\\index.js!C:\\k1-services\\node_modules\\cache-loader\\dist\\cjs.js??ref--1-0!C:\\k1-services\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\k1-services\\src\\pages\\om\\views\\Qr_codes_imob.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\k1-services\\src\\pages\\om\\views\\Qr_codes_imob.vue","mtime":1701906516504},{"path":"C:\\k1-services\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1670977934221},{"path":"C:\\k1-services\\node_modules\\babel-loader\\lib\\index.js","mtime":1670977935138},{"path":"C:\\k1-services\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1670977934221},{"path":"C:\\k1-services\\node_modules\\vue-loader\\lib\\index.js","mtime":1674603023821}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmV4cG9ydCBkZWZhdWx0IHsKICBuYW1lOiAiUVJDb2RlcyIsCiAgZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIGZvcm1wcmludDogewogICAgICAgIGNvZGlnb3M6ICIiLAogICAgICAgIGVtcHJlc2E6ICIiLAogICAgICAgIG1hcmdlbTogMAogICAgICB9LAogICAgICBlbXByZXNhOiAiIiwKICAgICAgY29kaWdvczogIiIsCiAgICAgIGNvZGlnb3MyOiBbXSwKICAgICAgbWVzc2FnZV90b2FzdDogIiIsCiAgICAgIGNhblByaW50OiBmYWxzZQogICAgfTsKICB9LAogIG1ldGhvZHM6IHsKICAgIGdldFFyQ29kZSgpIHsKICAgICAgLy8gdm9sdGEgYSBzb2xpY2l0YXIgYSBjb25maXJtYcOnw6NvIGRhIGltcHJlc3PDo28uLi4KICAgICAgdGhpcy5jYW5QcmludCA9IGZhbHNlOwoKICAgICAgLy8ganVudGEgYXMgdGFncyBkZSBjw7NkaWdvcyBpbmZvcm1hZGFzIC4uLgogICAgICB0aGlzLmZvcm1wcmludC5jb2RpZ29zID0gdGhpcy5jb2RpZ29zMi5qb2luKCI7Iik7CiAgICAgIHRoaXMuZm9ybXByaW50LmVtcHJlc2EgPSB0aGlzLmVtcHJlc2E7CiAgICAgIHRoaXMuJGJ2TW9kYWwuc2hvdygibW9kYWwtaW1wcmltaXIiKTsKICAgIH0sCiAgICByZW5kZXJRcmNvZGUoaSwgZSkgewogICAgICB2YXIgb2JqZWN0ID0gYHsnSW1vYmlsaXphZG8nOiAnJHtpfScsICdlbXByZXNhJzogJyR7ZX0nfWA7CiAgICAgIHJldHVybiBgaHR0cDovL2NoYXJ0LmFwaXMuZ29vZ2xlLmNvbS9jaGFydD9jaHQ9cXImY2hzPTIwMHgyMDAmY2hsPSR7b2JqZWN0fSZjaG9lPVVURi04JmNobGQ9dW5kZWZpbmVkYDsKICAgIH0sCiAgICBpbXByaW1pcih0YWdpZCkgewogICAgICBjb25zdCBlbCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKHRhZ2lkKS5pbm5lckhUTUw7CiAgICAgIHRoaXMucHJpbnRFbGVtZW50Q29udGVudChlbCk7CiAgICB9LAogICAgcHJpbnRFbGVtZW50Q29udGVudChlbCkgewogICAgICB2YXIgcHJpbnRXaW5kb3cgPSB3aW5kb3cub3BlbigiIiwgIkltcHJlc3PDo28gZGUgUVJDb2RlcyIsICJyZXNpemFibGUsc2Nyb2xsYmFycyxzdGF0dXMiKTsKICAgICAgcHJpbnRXaW5kb3cuZG9jdW1lbnQud3JpdGUoIjxodG1sPjxoZWFkPjx0aXRsZT4iICsgZG9jdW1lbnQudGl0bGUgKyAiPC90aXRsZT4iKTsKICAgICAgcHJpbnRXaW5kb3cuZG9jdW1lbnQud3JpdGUoJzxsaW5rIHR5cGU9InRleHQvY3NzIiByZWw9InN0eWxlc2hlZXQiIGhyZWY9Ii8vdW5wa2cuY29tL2Jvb3RzdHJhcC9kaXN0L2Nzcy9ib290c3RyYXAubWluLmNzcyIvPicpOwogICAgICBwcmludFdpbmRvdy5kb2N1bWVudC53cml0ZSgiPC9oZWFkPjxib2R5PiIpOwogICAgICBwcmludFdpbmRvdy5kb2N1bWVudC53cml0ZShlbCk7CiAgICAgIHByaW50V2luZG93LmRvY3VtZW50LndyaXRlKCI8L2JvZHk+PC9odG1sPiIpOwoKICAgICAgLy9wcmludFdpbmRvdy5kb2N1bWVudC5jbG9zZSgpOyAvLyBuZWNlc3NhcnkgZm9yIElFID49IDEwCiAgICAgIHByaW50V2luZG93LmZvY3VzKCk7IC8vIG5lY2Vzc2FyeSBmb3IgSUUgPj0gMTAqLwoKICAgICAgc2V0VGltZW91dCgoKSA9PiB7CiAgICAgICAgcHJpbnRXaW5kb3cucHJpbnQoKTsKICAgICAgICBwcmludFdpbmRvdy5jbG9zZSgpOwogICAgICAgIHRoaXMuJGJ2TW9kYWwuaGlkZSgibW9kYWwtaW1wcmltaXIiKTsKICAgICAgfSwgMjAwMCk7CiAgICAgIHJldHVybiB0cnVlOwogICAgfSAvLyBwcmludEVsZW1lbnRDb250ZW50KGVsKQogIH0gLy8gbWV0aG9kcwp9Ow=="},{"version":3,"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAqGA;EACAA;EAEAC;IACA;MACAC;QACAC;QACAC;QACAC;MACA;MACAD;MACAD;MACAG;MACAC;MACAC;IACA;EACA;EAEAC;IACAC;MACA;MACA;;MAEA;MACA;MACA;MAEA;IACA;IAEAC;MACA;MACA;IACA;IAEAC;MACA;MACA;IACA;IAEAC;MACA,8BACA,IACA,wBACA,8BACA;MAEAC,2BACA,oDACA;MAEAA,2BACA,mGACA;MAEAA;MACAA;MACAA;;MAEA;MACAA;;MAEAC;QACAD;QACAA;QACA;MACA;MAEA;IACA;EACA;AACA","names":["name","data","formprint","codigos","empresa","margem","codigos2","message_toast","canPrint","methods","getQrCode","renderQrcode","imprimir","printElementContent","printWindow","setTimeout"],"sourceRoot":"src/pages/om/views","sources":["Qr_codes_imob.vue"],"sourcesContent":["<template>\r\n  <div id=\"appprint\" class=\"m-2\">\r\n    <b-toast id=\"success-toast\" title=\"Sucesso\" variant=\"success\" solid>{{\r\n      message_toast\r\n    }}</b-toast>\r\n\r\n    <b-toast\r\n      id=\"danger-toast\"\r\n      title=\"Ops, falha na execução\"\r\n      variant=\"danger\"\r\n      solid\r\n      >{{ message_toast }}</b-toast\r\n    >\r\n\r\n    <b-card>\r\n      <template #header>\r\n        <h3 class=\"mb-0\">Impressão de QR Codes</h3>\r\n      </template>\r\n      <b-row>\r\n        <b-col>\r\n          <b-form-group\r\n            id=\"input-group-empresa\"\r\n            label-for=\"input-empresa\"\r\n            label=\"Empresa\"\r\n          >\r\n            <b-form-input\r\n              input-id=\"input-codigos\"\r\n              v-model=\"empresa\"\r\n              placeholder=\"Informe a empresa do Imobilizado. Ex: 8, 15\"\r\n            ></b-form-input>\r\n          </b-form-group>\r\n        </b-col>\r\n      </b-row>\r\n      <b-row>\r\n        <b-col>\r\n          <b-form-group\r\n            id=\"input-group-codigos\"\r\n            label-for=\"input-codigos\"\r\n            label=\"Códigos dos Imobilizados\"\r\n          >\r\n            <b-form-tags\r\n              input-id=\"input-codigos\"\r\n              v-model=\"codigos2\"\r\n              separator=\";\"\r\n              remove-on-delete\r\n              placeholder=\"Informe os Códigos do Imobilizado.\"\r\n            ></b-form-tags>\r\n          </b-form-group>\r\n        </b-col>\r\n      </b-row>\r\n\r\n      <b-row>\r\n        <b-col style=\"text-align: right\">\r\n          <b-form-group>\r\n            <b-button type=\"button\" variant=\"success\" @click=\"getQrCode\">\r\n              <b-icon icon=\"search\" class=\"mr-2\"></b-icon>Gerar\r\n            </b-button>\r\n          </b-form-group>\r\n        </b-col>\r\n      </b-row>\r\n\r\n      <b-modal\r\n        id=\"modal-imprimir\"\r\n        title=\"Impressão QRCodes\"\r\n        size=\"xl\"\r\n        scrollable\r\n      >\r\n        <div id=\"printarea\">\r\n          <b-container fluid style=\"display: flex;flex-flow: wrap;\">\r\n            <div\r\n              v-for=\"(imob, i) of codigos2\"\r\n              :key=\"i\"\r\n              style=\"margin: 5px;width: 200px; text-align: center;\"\r\n            >\r\n              <img :src=\"renderQrcode(imob, empresa)\" />\r\n              <h5>{{ imob }}</h5>\r\n            </div>\r\n          </b-container>\r\n        </div>\r\n        <b-alert variant=\"warning\" show>\r\n          <b-form-checkbox id=\"canPrint\" v-model=\"canPrint\" name=\"canPrint\">\r\n            Confirme se todos os QRCodes foram carregados antes de imprimir.\r\n          </b-form-checkbox>\r\n        </b-alert>\r\n        <template #modal-footer=\"{ ok, cancel }\">\r\n          <b-button\r\n            type=\"button\"\r\n            variant=\"primary\"\r\n            @click=\"imprimir('printarea')\"\r\n            :disabled=\"!canPrint\"\r\n            >Imprimir</b-button\r\n          >\r\n          <b-button type=\"button\" variant=\"secondary\" @click=\"cancel\"\r\n            >Cancelar</b-button\r\n          >\r\n        </template>\r\n      </b-modal>\r\n    </b-card>\r\n  </div>\r\n</template>\r\n<script>\r\nexport default {\r\n  name: \"QRCodes\",\r\n\r\n  data() {\r\n    return {\r\n      formprint: {\r\n        codigos: \"\",\r\n        empresa: \"\",\r\n        margem: 0,\r\n      },\r\n      empresa: \"\",\r\n      codigos: \"\",\r\n      codigos2: [],\r\n      message_toast: \"\",\r\n      canPrint: false,\r\n    };\r\n  },\r\n\r\n  methods: {\r\n    getQrCode() {\r\n      // volta a solicitar a confirmação da impressão...\r\n      this.canPrint = false;\r\n\r\n      // junta as tags de códigos informadas ...\r\n      this.formprint.codigos = this.codigos2.join(\";\");\r\n      this.formprint.empresa = this.empresa;\r\n\r\n      this.$bvModal.show(\"modal-imprimir\");\r\n    },\r\n\r\n    renderQrcode(i, e) {\r\n      var object = `{'Imobilizado': '${i}', 'empresa': '${e}'}`;\r\n      return `http://chart.apis.google.com/chart?cht=qr&chs=200x200&chl=${object}&choe=UTF-8&chld=undefined`;\r\n    },\r\n\r\n    imprimir(tagid) {\r\n      const el = document.getElementById(tagid).innerHTML;\r\n      this.printElementContent(el);\r\n    },\r\n\r\n    printElementContent(el) {\r\n      var printWindow = window.open(\r\n        \"\",\r\n        \"Impressão de QRCodes\",\r\n        \"resizable,scrollbars,status\"\r\n      );\r\n\r\n      printWindow.document.write(\r\n        \"<html><head><title>\" + document.title + \"</title>\"\r\n      );\r\n\r\n      printWindow.document.write(\r\n        '<link type=\"text/css\" rel=\"stylesheet\" href=\"//unpkg.com/bootstrap/dist/css/bootstrap.min.css\"/>'\r\n      );\r\n\r\n      printWindow.document.write(\"</head><body>\");\r\n      printWindow.document.write(el);\r\n      printWindow.document.write(\"</body></html>\");\r\n\r\n      //printWindow.document.close(); // necessary for IE >= 10\r\n      printWindow.focus(); // necessary for IE >= 10*/\r\n\r\n      setTimeout(() => {\r\n        printWindow.print();\r\n        printWindow.close();\r\n        this.$bvModal.hide(\"modal-imprimir\");\r\n      }, 2000);\r\n\r\n      return true;\r\n    }, // printElementContent(el)\r\n  }, // methods\r\n};\r\n</script>\r\n"]}]}