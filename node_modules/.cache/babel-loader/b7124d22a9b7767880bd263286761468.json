{"remainingRequest":"C:\\k1-services\\node_modules\\babel-loader\\lib\\index.js!C:\\k1-services\\src\\store\\error.js","dependencies":[{"path":"C:\\k1-services\\src\\store\\error.js","mtime":1670977910678},{"path":"C:\\k1-services\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1670977934221},{"path":"C:\\k1-services\\node_modules\\babel-loader\\lib\\index.js","mtime":1670977935138}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IHsgc2V0VGltZW91dCB9IGZyb20gImNvcmUtanMiOwppbXBvcnQgQXBpU2VydmljZSBmcm9tICIuLi9zZXJ2aWNlcy9hcGkuc2VydmljZSI7CmV4cG9ydCBkZWZhdWx0IHsKICBjb25zdHJ1Y3RvcigpIHsKICAgIGNvbnNvbGUubG9nKCJjb25zdHJ1Y3RvciIpOwogIH0sCgogIHNldHVwKHsKICAgIGRpc3BhdGNoCiAgfSkgewogICAgY29uc29sZS5sb2coInNldHVwIik7CiAgICBBcGlTZXJ2aWNlLmVycm9yT2JzZXJ2ZXIuc3Vic2NyaWJlKGRpc3BhdGNoKCJzZXRlcnJvcnMiKSk7CiAgfSwKCiAgaW5pdCgpIHsKICAgIGNvbnNvbGUubG9nKCJpbml0Iik7CiAgfSwKCiAgc3RhdGU6IHsKICAgIGVycm9yczogW10KICB9LAogIGdldHRlcnM6IHsKICAgIGdldGVycm9yczogc3RhdGUgPT4gc3RhdGUuZXJyb3JzLAogICAgZ2V0ZXJyb3JzbGVuZ2h0OiBzdGF0ZSA9PiBzdGF0ZS5lcnJvcnMubGVuZ3RoLAogICAgZ2V0bGFzdGVycm9yczogc3RhdGUgPT4gc3RhdGUuZXJyb3JzW3N0YXRlLmVycm9ycy5sZW5ndGhdLAogICAgZ2V0ZXJyb3JzdmlzaWJsZXM6IHN0YXRlID0+IHN0YXRlLmVycm9ycy5maWx0ZXIoZSA9PiBlLnZpc2libGUpLAogICAgZ2V0ZXJyb3JzdmlzaWJsZXNsZW5naHQ6IHN0YXRlID0+IHN0YXRlLmVycm9ycy5maWx0ZXIoZSA9PiBlLnZpc2libGUpLmxlbmd0aCwKICAgIGdldGxhc3RlcnJvcnN2aXNpYmxlczogKHN0YXRlLCBnZXR0ZXJzKSA9PiBnZXR0ZXJzLmdldGVycm9yc3Zpc2libGVzW2dldHRlcnMuZ2V0ZXJyb3JzdmlzaWJsZXNsZW5naHRdCiAgfSwKICBtdXRhdGlvbnM6IHsKICAgIHNldGVycm9ycyhzdGF0ZSwgdmFsdWUpIHsKICAgICAgaWYgKEFycmF5LmlzQXJyYXkodmFsdWUpKSB7CiAgICAgICAgc3RhdGUuZXJyb3JzID0gdmFsdWU7CiAgICAgIH0KCiAgICAgIGlmICh0eXBlb2YgdmFsdWUgPT09ICJvYmplY3QiKSB7CiAgICAgICAgc3RhdGUuZXJyb3JzLnB1c2godmFsdWUpOwogICAgICB9CiAgICB9LAoKICAgIGRlbGV0ZWVycm9yc2l0ZW0oc3RhdGUsIGlkKSB7CiAgICAgIGNvbnN0IGluZGV4ID0gc3RhdGUuZXJyb3JzLmZpbmRJbmRleChmID0+IGYuaWQgPT09IGlkKTsKCiAgICAgIGlmIChpbmRleCA+IC0xKSB7CiAgICAgICAgc3RhdGUuZXJyb3JzLnNwbGljZShpbmRleCwgMSk7CiAgICAgIH0KICAgIH0sCgogICAgZGlzbWlzc2Vycm9yc2l0ZW0oc3RhdGUsIGlkKSB7CiAgICAgIGNvbnN0IGluZGV4ID0gc3RhdGUuZXJyb3JzLmZpbmRJbmRleChmID0+IGYuaWQgPT09IGlkKTsKCiAgICAgIGlmIChpbmRleCA+IC0xKSB7CiAgICAgICAgc3RhdGUuZXJyb3JzLnZpc2libGUgPSBmYWxzZTsKICAgICAgfQogICAgfQoKICB9LAogIGFjdGlvbnM6IHsKICAgIHNldGVycm9ycyh7CiAgICAgIGNvbW1pdAogICAgfSwgdmFsdWUpIHsKICAgICAgY29uc29sZS5sb2coImVycm9yLmFjdGlvbnMuc2V0ZXJyb3JzLnZhbHVlOiIsIHZhbHVlKTsKICAgICAgY29uc3QgewogICAgICAgIGVycm9yLAogICAgICAgIHJlc3BvbnNlLAogICAgICAgIHJvdXRlLAogICAgICAgIHN0YXR1cywKICAgICAgICBkYXRhLAogICAgICAgIGhlYWRlcnMsCiAgICAgICAgbWVzc2FnZSwKICAgICAgICB2YXJpYW50CiAgICAgIH0gPSB2YWx1ZTsKICAgICAgY29uc3QgZXJyb3JzID0gewogICAgICAgIGlkOiBEYXRlLm5vdygpLnRvU3RyaW5nKDM2KSArIE1hdGgucmFuZG9tKCkudG9TdHJpbmcoMzYpLnN1YnN0cigyKSwKICAgICAgICB0aW1lc3RhbXA6IG5ldyBEYXRlKCksCiAgICAgICAgcmVzcG9uc2U6IHJlc3BvbnNlLAogICAgICAgIGRhdGE6IGRhdGEsCiAgICAgICAgaGVhZGVyczogaGVhZGVycywKICAgICAgICBzdGF0dXM6IHN0YXR1cywKICAgICAgICB2YXJpYW50OiB2YXJpYW50LAogICAgICAgIGVycm9yOiBlcnJvciwKICAgICAgICBtZXNzYWdlOiBtZXNzYWdlLAogICAgICAgIHJvdXRlOiByb3V0ZSwKICAgICAgICB2aXNpYmxlOiB0cnVlCiAgICAgIH07CiAgICAgIGNvbW1pdCgic2V0ZXJyb3JzIiwgZXJyb3JzKTsKICAgICAgc2V0VGltZW91dCgoKSA9PiBjb21taXQoImRlbGV0ZWVycm9yc2l0ZW0iLCBlcnJvcnMuaWQpLCA1MDAwKTsKICAgIH0sCgogICAgZGVsZXRlZXJyb3JzaXRlbSh7CiAgICAgIGNvbW1pdAogICAgfSwgaWQpIHsKICAgICAgY29tbWl0KCJkZWxldGVlcnJvcnNpdGVtIiwgaWQpOwogICAgfSwKCiAgICBkaXNtaXNzZXJyb3JzaXRlbSh7CiAgICAgIGNvbW1pdAogICAgfSwgaWQpIHsKICAgICAgY29tbWl0KCJkZWxldGVlcnJvcnNpdGVtIiwgaWQpOwogICAgfQoKICB9Cn07"},{"version":3,"names":["setTimeout","ApiService","constructor","console","log","setup","dispatch","errorObserver","subscribe","init","state","errors","getters","geterrors","geterrorslenght","length","getlasterrors","geterrorsvisibles","filter","e","visible","geterrorsvisibleslenght","getlasterrorsvisibles","mutations","seterrors","value","Array","isArray","push","deleteerrorsitem","id","index","findIndex","f","splice","dismisserrorsitem","actions","commit","error","response","route","status","data","headers","message","variant","Date","now","toString","Math","random","substr","timestamp"],"sources":["C:/k1-services/src/store/error.js"],"sourcesContent":["import { setTimeout } from \"core-js\";\r\nimport ApiService from \"../services/api.service\";\r\n\r\nexport default {\r\n  constructor() {\r\n    console.log(\"constructor\");\r\n  },\r\n\r\n  setup({ dispatch }) {\r\n    console.log(\"setup\");\r\n    ApiService.errorObserver.subscribe(dispatch(\"seterrors\"));\r\n  },\r\n\r\n  init() {\r\n    console.log(\"init\");\r\n  },\r\n\r\n  state: {\r\n    errors: [],\r\n  },\r\n\r\n  getters: {\r\n    geterrors: (state) => state.errors,\r\n    geterrorslenght: (state) => state.errors.length,\r\n    getlasterrors: (state) => state.errors[state.errors.length],\r\n    geterrorsvisibles: (state) => state.errors.filter((e) => e.visible),\r\n    geterrorsvisibleslenght: (state) =>\r\n      state.errors.filter((e) => e.visible).length,\r\n    getlasterrorsvisibles: (state, getters) =>\r\n      getters.geterrorsvisibles[getters.geterrorsvisibleslenght],\r\n  },\r\n\r\n  mutations: {\r\n    seterrors(state, value) {\r\n      if (Array.isArray(value)) {\r\n        state.errors = value;\r\n      }\r\n      if (typeof value === \"object\") {\r\n        state.errors.push(value);\r\n      }\r\n    },\r\n    deleteerrorsitem(state, id) {\r\n      const index = state.errors.findIndex((f) => f.id === id);\r\n      if (index > -1) {\r\n        state.errors.splice(index, 1);\r\n      }\r\n    },\r\n    dismisserrorsitem(state, id) {\r\n      const index = state.errors.findIndex((f) => f.id === id);\r\n      if (index > -1) {\r\n        state.errors.visible = false;\r\n      }\r\n    },\r\n  },\r\n\r\n  actions: {\r\n    seterrors({ commit }, value) {\r\n      console.log(\"error.actions.seterrors.value:\", value);\r\n      const {\r\n        error,\r\n        response,\r\n        route,\r\n        status,\r\n        data,\r\n        headers,\r\n        message,\r\n        variant,\r\n      } = value;\r\n\r\n      const errors = {\r\n        id:\r\n          Date.now().toString(36) +\r\n          Math.random()\r\n            .toString(36)\r\n            .substr(2),\r\n        timestamp: new Date(),\r\n        response: response,\r\n        data: data,\r\n        headers: headers,\r\n        status: status,\r\n        variant: variant,\r\n        error: error,\r\n        message: message,\r\n        route: route,\r\n        visible: true,\r\n      };\r\n      commit(\"seterrors\", errors);\r\n      setTimeout(() => commit(\"deleteerrorsitem\", errors.id), 5000);\r\n    },\r\n    deleteerrorsitem({ commit }, id) {\r\n      commit(\"deleteerrorsitem\", id);\r\n    },\r\n    dismisserrorsitem({ commit }, id) {\r\n      commit(\"deleteerrorsitem\", id);\r\n    },\r\n  },\r\n};\r\n"],"mappings":"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"}]}