{"remainingRequest":"C:\\k1-services\\node_modules\\babel-loader\\lib\\index.js!C:\\k1-services\\node_modules\\cache-loader\\dist\\cjs.js??ref--1-0!C:\\k1-services\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\k1-services\\src\\pages\\ramais\\views\\index.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\k1-services\\src\\pages\\ramais\\views\\index.vue","mtime":1701906516522},{"path":"C:\\k1-services\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1670977934221},{"path":"C:\\k1-services\\node_modules\\babel-loader\\lib\\index.js","mtime":1670977935138},{"path":"C:\\k1-services\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1670977934221},{"path":"C:\\k1-services\\node_modules\\vue-loader\\lib\\index.js","mtime":1674603023821}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCB7IG1hcEFjdGlvbnMsIG1hcEdldHRlcnMgfSBmcm9tICJ2dWV4IjsKaW1wb3J0IEFQSSBmcm9tICIuLi8uLi8uLi9zZXJ2aWNlcy9hcGkuc2VydmljZSI7CmltcG9ydCBIaXN0b3JpY29DYWxscyBmcm9tICIuL2hpc3Rvcmljby52dWUiOwppbXBvcnQgSGlzdG9yaWNvQ2FsbHNVcGRhdGUgZnJvbSAiLi9oaXN0b3JpY291cGRhdGUudnVlIjsKZXhwb3J0IGRlZmF1bHQgewogIG5hbWU6ICJSYW1haXMiLAogIGNvbXBvbmVudHM6IHsKICAgIEhpc3Rvcmljb0NhbGxzLAogICAgSGlzdG9yaWNvQ2FsbHNVcGRhdGUKICB9LAogIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICB0b3RhbFJvd3M6IDEsCiAgICAgIGN1cnJlbnRQYWdlOiAxLAogICAgICBwZXJQYWdlOiA1MCwKICAgICAgZmlsdHJvOiAiIiwKICAgICAgbGV0cmE6ICIiLAogICAgICBmaWx0ZXJPbjogWyJyYW1hbCIsICJub21lIl0sCiAgICAgIHNlbGVjdGVkOiB7fSwKICAgICAgY2FsbHM6IHsKICAgICAgICBkYXRhYmFzZTogbmV3IERhdGUobmV3IERhdGUoKS5zZXREYXRlKG5ldyBEYXRlKCkuZ2V0RGF0ZSgpIC0gMSkpLAogICAgICAgIGlkcmFtYWw6IG51bGwsCiAgICAgICAgcmFtYWw6ICIiCiAgICAgIH0sCiAgICAgIGZpZWxkczogW3sKICAgICAgICBrZXk6ICJub21lIiwKICAgICAgICBzb3J0YWJsZTogdHJ1ZQogICAgICB9LCB7CiAgICAgICAga2V5OiAicmFtYWwiLAogICAgICAgIHNvcnRhYmxlOiB0cnVlCiAgICAgIH0sIHsKICAgICAgICBrZXk6ICJhY3Rpb25zIiwKICAgICAgICBsYWJlbDogIiIsCiAgICAgICAgc29ydGFibGU6IGZhbHNlCiAgICAgIH1dCiAgICB9OwogIH0sCiAgY29tcHV0ZWQ6IHsKICAgIC4uLm1hcEdldHRlcnMoWyJndHhSYW1haXNEYXRhIiwgImd0eFJhbWFpc0xldHJhIiwgImd0eFJhbWFpc0xldHJhRXhpc3RzIiwgImd0eFJhbWFpc0J1c3kiXSksCiAgICBsZXRyYXMoKSB7CiAgICAgIHJldHVybiBbLi4uQXJyYXkoMjYpLmtleXMoKV0ubWFwKGEgPT4gU3RyaW5nLmZyb21DaGFyQ29kZShhICsgNjUpKTsKICAgIH0sCiAgICBwYXJhbXNjYWxscygpIHsKICAgICAgcmV0dXJuIHsKICAgICAgICBkYXRhYmFzZTogdGhpcy5zZWxlY3RlZC5kYXRhYmFzZSB8fCBuZXcgRGF0ZShuZXcgRGF0ZSgpLnNldERhdGUobmV3IERhdGUoKS5nZXREYXRlKCkgLSAxKSksCiAgICAgICAgaWRyYW1hbDogcGFyc2VJbnQodGhpcy5zZWxlY3RlZC5pZCkgfHwgbnVsbCwKICAgICAgICByYW1hbDogdGhpcy5zZWxlY3RlZC5yYW1hbCB8fCAiIgogICAgICB9OwogICAgfQogIH0sCiAgYmVmb3JlTW91bnQoKSB7CiAgICBpZiAoIXRoaXMuZ3R4UmFtYWlzRGF0YSB8fCB0aGlzLmd0eFJhbWFpc0RhdGEubGVuZ3RoID09IDApIHsKICAgICAgdGhpcy5hY3RSYW1haXMoKS50aGVuKCgpID0+IHsKICAgICAgICB0aGlzLnRvdGFsUm93cyA9IHRoaXMuZ3R4UmFtYWlzTGV0cmEodGhpcy5sZXRyYSkubGVuZ3RoOwogICAgICB9KTsKICAgIH0KICAgIHRoaXMudG90YWxSb3dzID0gdGhpcy5ndHhSYW1haXNMZXRyYSh0aGlzLmxldHJhKS5sZW5ndGg7CiAgfSwKICBtb3VudGVkKCkgewogICAgaWYgKHRoaXMuJHJvdXRlLnF1ZXJ5LmxldHJhKSB7CiAgICAgIHRoaXMubGV0cmEgPSB0aGlzLiRyb3V0ZS5xdWVyeS5sZXRyYS50b1VwcGVyQ2FzZSgpIHx8ICIiOwogICAgfQogICAgaWYgKHRoaXMuJHJvdXRlLnF1ZXJ5LmZpbHRybykgewogICAgICB0aGlzLmZpbHRybyA9IHRoaXMuJHJvdXRlLnF1ZXJ5LmZpbHRyby50b1VwcGVyQ2FzZSgpIHx8ICIiOwogICAgfQogICAgaWYgKHRoaXMuJHJvdXRlLnF1ZXJ5LmlkKSB7CiAgICAgIGNvbnN0IGlkID0gdGhpcy4kcm91dGUucXVlcnkuaWQudG9TdHJpbmcoKSB8fCAiIjsKICAgICAgdGhpcy5sZXRyYSA9IGlkOwogICAgICB0aGlzLmZpbHRybyA9ICIiOwogICAgfQogICAgdGhpcy50b3RhbFJvd3MgPSB0aGlzLmd0eFJhbWFpc0xldHJhKHRoaXMubGV0cmEpLmxlbmd0aDsKICB9LAogIG1ldGhvZHM6IHsKICAgIC4uLm1hcEFjdGlvbnMoWyJhY3RSYW1haXMiLCAiYWN0UmFtYWlzTGV0cmEiXSksCiAgICBhZGRDYWxsKHJhbWFsKSB7CiAgICAgIGNvbnN0IHBhcmFtID0gewogICAgICAgIGlkQWdlbmRhOiByYW1hbC5pZAogICAgICB9OwogICAgICB0aGlzLnNlbGVjdGVkID0gcGFyYW07CiAgICAgIHRoaXMuJHJlZnNbIm1vZGFsLXVwZGF0ZSJdLnNob3coKTsKICAgIH0sCiAgICBlZGl0Q2FsbChyYW1hbCkgewogICAgICB0aGlzLnNlbGVjdGVkID0gcmFtYWw7CiAgICAgIHRoaXMuJHJlZnNbIm1vZGFsLXVwZGF0ZSJdLnNob3coKTsKICAgIH0sCiAgICBnZXRDYWxscyhyYW1hbCkgewogICAgICB0aGlzLnNlbGVjdGVkID0gcmFtYWw7CiAgICAgIHRoaXMuJHJlZnNbIm1vZGFsLWNhbGxzIl0uc2hvdygpOwogICAgfSwKICAgIGRlbGV0ZUNhbGwoY2FsbCkgewogICAgICBjb25zdCBwYXJhbSA9IHsKICAgICAgICBpZGFnZW5kYWNhbGw6IGNhbGwuaWQsCiAgICAgICAgZXhjbHVpOiB0cnVlCiAgICAgIH07CiAgICAgIEFQSS5wb3N0KCJ2Mi9TZXJ2aWNvcy9SYW1haXNDYWxsL1VwZGF0ZSIsIHBhcmFtKS50aGVuKHJlcyA9PiB7CiAgICAgICAgdGhpcy4kcmVmcy5IaXN0b3JpY29DYWxscy5nZXRDYWxscygpOwogICAgICB9KTsKICAgIH0sCiAgICBsZXRyYUNsaWNrKGxldHJhKSB7CiAgICAgIHRoaXMuZmlsdHJvID0gIiI7CiAgICAgIHRoaXMubGV0cmEgPSBsZXRyYTsKICAgICAgdGhpcy50b3RhbFJvd3MgPSB0aGlzLmd0eFJhbWFpc0xldHJhKGxldHJhKS5sZW5ndGg7CiAgICB9LAogICAgb25GaWx0ZXJlZChmaWx0ZXJlZEl0ZW1zKSB7CiAgICAgIC8vIFRyaWdnZXIgcGFnaW5hdGlvbiB0byB1cGRhdGUgdGhlIG51bWJlciBvZiBidXR0b25zL3BhZ2VzIGR1ZSB0byBmaWx0ZXJpbmcKICAgICAgdGhpcy50b3RhbFJvd3MgPSBmaWx0ZXJlZEl0ZW1zLmxlbmd0aDsKICAgICAgdGhpcy5jdXJyZW50UGFnZSA9IDE7CiAgICB9LAogICAgbGluayhsaW5rKSB7CiAgICAgIHRoaXMuJHJvb3QuY29weWNsaXAoYGh0dHBzOi8vaW50cmFuZXQuZ3J1cG9rMS5jb20uYnIvcmFtYWlzP2lkPSR7bGluay5pZH1gKTsKICAgIH0sCiAgICBvbkhpc3Rvcmljb0NhbGxzQWN0aW9ucyhldmVudCkgewogICAgICBpZiAoZXZlbnQuYnV0dG9uLnZhbHVlID09ICJidEVkaXRhciIpIHRoaXMuZWRpdENhbGwoZXZlbnQuZGF0YSk7CiAgICAgIGlmIChldmVudC5idXR0b24udmFsdWUgPT0gImJ0RXhjbHVpciIpIHRoaXMuJHJvb3Quc2hvd21lc3NhZ2UoIkRlc2VqYSByZWFsbWVudGUgZXhjbHVpciBlc3RhIGxpZ2HDp8OjbyA/IiwgIkludHJhbmV0IikudGhlbihjaG9pY2UgPT4gewogICAgICAgIGlmIChjaG9pY2UpIHRoaXMuZGVsZXRlQ2FsbChldmVudC5kYXRhKTsKICAgICAgfSk7CiAgICB9LAogICAgb25IaXN0b3JpY29DYWxsc1NhdmVkKCkgewogICAgICB0aGlzLiRyZWZzWyJtb2RhbC11cGRhdGUiXS5oaWRlKCk7CiAgICAgIGlmICh0aGlzLiRyZWZzLkhpc3Rvcmljb0NhbGxzKSB0aGlzLiRyZWZzLkhpc3Rvcmljb0NhbGxzLmdldENhbGxzKCk7CiAgICB9CiAgfQp9Ow=="},{"version":3,"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA4JA;AACA;AACA;AACA;AACA;EACAA;EAEAC;IACAC;IACAC;EACA;EAEAC;IACA;MACAC;MACAC;MACAC;MACAC;MACAC;MACAC;MACAC;MACAC;QACAC;QACAC;QACAC;MACA;MACAC,SACA;QAAAC;QAAAC;MAAA,GACA;QAAAD;QAAAC;MAAA,GACA;QAAAD;QAAAE;QAAAD;MAAA;IAEA;EACA;EAEAE;IACA,eACA,iBACA,kBACA,wBACA,gBACA;IAEAC;MACA;IACA;IAEAC;MACA;QACAT,UACA,0BACA;QACAC;QACAC;MACA;IACA;EACA;EAEAQ;IACA;MACA;QACA;MACA;IACA;IACA;EACA;EAEAC;IACA;MACA;IACA;IACA;MACA;IACA;IACA;MACA;MACA;MACA;IACA;IACA;EACA;EAEAC;IACA;IAEAC;MACA;QACAC;MACA;MACA;MACA;IACA;IAEAC;MACA;MACA;IACA;IAEAC;MACA;MACA;IACA;IAEAC;MACA;QACAC;QACAC;MACA;MACAC;QACA;MACA;IACA;IAEAC;MACA;MACA;MACA;IACA;IAEAC;MACA;MACA;MACA;IACA;IAEAC;MACA,oBACA,uDACA;IACA;IAEAC;MACA;MAEA,uCACA,WACAC,mEACAC;QACA;MACA;IACA;IACAC;MACA;MACA;IACA;EACA;AACA","names":["name","components","HistoricoCalls","HistoricoCallsUpdate","data","totalRows","currentPage","perPage","filtro","letra","filterOn","selected","calls","database","idramal","ramal","fields","key","sortable","label","computed","letras","paramscalls","beforeMount","mounted","methods","addCall","idAgenda","editCall","getCalls","deleteCall","idagendacall","exclui","API","letraClick","onFiltered","link","onHistoricoCallsActions","showmessage","then","onHistoricoCallsSaved"],"sourceRoot":"src/pages/ramais/views","sources":["index.vue"],"sourcesContent":["<template>\r\n  <div class=\"container-fluid mt-2 mb-2\">\r\n    <b-card\r\n      header-bg-variant=\"dark\"\r\n      header-text-variant=\"white\"\r\n      header=\"Ramais\"\r\n    >\r\n      <b-row>\r\n        <b-col cols=\"12\" lg=\"9\" md=\"8\" class=\"mb-2\">\r\n          <b-button-toolbar v-model=\"letra\">\r\n            <b-button\r\n              @click=\"letraClick('')\"\r\n              class=\"btnGroup\"\r\n              size=\"sm\"\r\n              :class=\"letra == '' ? 'bg-primary' : ''\"\r\n              >Todos</b-button\r\n            >\r\n            <b-button\r\n              v-for=\"(l, i) of letras\"\r\n              :key=\"i\"\r\n              size=\"sm\"\r\n              class=\"btnGroup\"\r\n              :class=\"letra == l ? 'bg-primary' : ''\"\r\n              :disabled=\"!gtxRamaisLetraExists(l)\"\r\n              @click=\"letraClick(l)\"\r\n              >{{ l }}</b-button\r\n            >\r\n          </b-button-toolbar>\r\n        </b-col>\r\n        <b-col cols=\"12\" lg=\"3\" md=\"4\" class=\"mb-2\">\r\n          <span class=\"float-right\">\r\n            <b-pagination\r\n              id=\"input-pagination\"\r\n              v-model=\"currentPage\"\r\n              :total-rows=\"totalRows\"\r\n              :per-page=\"perPage\"\r\n              align=\"fill\"\r\n              size=\"sm\"\r\n              class=\"my-0\"\r\n            >\r\n            </b-pagination>\r\n          </span>\r\n        </b-col>\r\n      </b-row>\r\n\r\n      <b-row>\r\n        <b-col>\r\n          <b-input-group prepend=\"Filtro\" size=\"sm\" class=\"mb-2\">\r\n            <b-form-input\r\n              id=\"input-filtro\"\r\n              type=\"search\"\r\n              v-model=\"filtro\"\r\n              placeholder=\"Informe o ramal ou nome\"\r\n            ></b-form-input>\r\n          </b-input-group>\r\n        </b-col>\r\n      </b-row>\r\n\r\n      <b-overlay :show=\"gtxRamaisBusy\" rounded=\"sm\">\r\n        <b-table\r\n          small\r\n          striped\r\n          hover\r\n          sort-icon-left\r\n          :items=\"gtxRamaisLetra(letra)\"\r\n          :fields=\"fields\"\r\n          :filter=\"filtro\"\r\n          :current-page=\"currentPage\"\r\n          :per-page=\"perPage\"\r\n          :filter-included-fields=\"filterOn\"\r\n          @filtered=\"onFiltered\"\r\n        >\r\n          <template #cell(ramal)=\"data\">\r\n            <span v-copy>{{ data.item.ramal }}</span>\r\n          </template>\r\n          <template #cell(actions)=\"data\">\r\n            <span\r\n              class=\"iconbutton\"\r\n              title=\"Histórico de ligações\"\r\n              @click=\"getCalls(data.item)\"\r\n            >\r\n              <b-icon-card-list variant=\"primary\" />\r\n            </span>\r\n            <span\r\n              class=\"iconbutton\"\r\n              title=\"Registrar\"\r\n              @click=\"addCall(data.item)\"\r\n            >\r\n              <b-icon-telephone-plus variant=\"success\" />\r\n            </span>\r\n          </template>\r\n          <template #foot()=\"data\">\r\n            <i>Total: {{ data.label }}</i>\r\n          </template>\r\n        </b-table>\r\n      </b-overlay>\r\n      <hr />\r\n\r\n      <b-form-group label-for=\"input-pagination-footer\">\r\n        <div class=\"d-flex justify-content-between\">\r\n          <span class=\"mr-4 font-weight-bolder\"> Total: {{ totalRows }} </span>\r\n          <b-pagination\r\n            id=\"input-pagination-footer\"\r\n            v-model=\"currentPage\"\r\n            :total-rows=\"totalRows\"\r\n            :per-page=\"perPage\"\r\n            align=\"fill\"\r\n            size=\"sm\"\r\n            class=\"my-0\"\r\n          ></b-pagination>\r\n        </div>\r\n      </b-form-group>\r\n\r\n      <!--\r\n        gtxRamaisLetra(letra): {{gtxRamaisLetra(letra)}}<br>\r\n        gtxRamaisLetra(3256): {{gtxRamaisLetra(3256)}}<br>\r\n        letra: {{letra}}<br>\r\n      -->\r\n    </b-card>\r\n\r\n    <!-- JANELAS MODAIS -->\r\n    <b-modal\r\n      ok-only\r\n      id=\"modal-calls\"\r\n      ref=\"modal-calls\"\r\n      size=\"xl\"\r\n      scrollable\r\n      title=\"Últimas ligações\"\r\n      ok-title=\"Fechar\"\r\n    >\r\n      <HistoricoCalls\r\n        ref=\"HistoricoCalls\"\r\n        :database=\"paramscalls.database\"\r\n        :idramal=\"paramscalls.idramal\"\r\n        :ramal=\"paramscalls.ramal\"\r\n        @evt-actions=\"onHistoricoCallsActions\"\r\n      />\r\n    </b-modal>\r\n\r\n    <b-modal\r\n      ok-only\r\n      id=\"modal-update\"\r\n      ref=\"modal-update\"\r\n      size=\"xl\"\r\n      scrollable\r\n      title=\"Anotações\"\r\n      ok-title=\"Fechar\"\r\n    >\r\n      <HistoricoCallsUpdate\r\n        :data=\"selected\"\r\n        @evtsaved=\"onHistoricoCallsSaved\"\r\n      />\r\n    </b-modal>\r\n  </div>\r\n</template>\r\n<script>\r\nimport { mapActions, mapGetters } from \"vuex\";\r\nimport API from \"../../../services/api.service\";\r\nimport HistoricoCalls from \"./historico.vue\";\r\nimport HistoricoCallsUpdate from \"./historicoupdate.vue\";\r\nexport default {\r\n  name: \"Ramais\",\r\n\r\n  components: {\r\n    HistoricoCalls,\r\n    HistoricoCallsUpdate,\r\n  },\r\n\r\n  data() {\r\n    return {\r\n      totalRows: 1,\r\n      currentPage: 1,\r\n      perPage: 50,\r\n      filtro: \"\",\r\n      letra: \"\",\r\n      filterOn: [\"ramal\", \"nome\"],\r\n      selected: {},\r\n      calls: {\r\n        database: new Date(new Date().setDate(new Date().getDate() - 1)),\r\n        idramal: null,\r\n        ramal: \"\",\r\n      },\r\n      fields: [\r\n        { key: \"nome\", sortable: true },\r\n        { key: \"ramal\", sortable: true },\r\n        { key: \"actions\", label: \"\", sortable: false },\r\n      ],\r\n    };\r\n  },\r\n\r\n  computed: {\r\n    ...mapGetters([\r\n      \"gtxRamaisData\",\r\n      \"gtxRamaisLetra\",\r\n      \"gtxRamaisLetraExists\",\r\n      \"gtxRamaisBusy\",\r\n    ]),\r\n\r\n    letras() {\r\n      return [...Array(26).keys()].map((a) => String.fromCharCode(a + 65));\r\n    },\r\n\r\n    paramscalls() {\r\n      return {\r\n        database:\r\n          this.selected.database ||\r\n          new Date(new Date().setDate(new Date().getDate() - 1)),\r\n        idramal: parseInt(this.selected.id) || null,\r\n        ramal: this.selected.ramal || \"\",\r\n      };\r\n    },\r\n  },\r\n\r\n  beforeMount() {\r\n    if (!this.gtxRamaisData || this.gtxRamaisData.length == 0) {\r\n      this.actRamais().then(() => {\r\n        this.totalRows = this.gtxRamaisLetra(this.letra).length;\r\n      });\r\n    }\r\n    this.totalRows = this.gtxRamaisLetra(this.letra).length;\r\n  },\r\n\r\n  mounted() {\r\n    if (this.$route.query.letra) {\r\n      this.letra = this.$route.query.letra.toUpperCase() || \"\";\r\n    }\r\n    if (this.$route.query.filtro) {\r\n      this.filtro = this.$route.query.filtro.toUpperCase() || \"\";\r\n    }\r\n    if (this.$route.query.id) {\r\n      const id = this.$route.query.id.toString() || \"\";\r\n      this.letra = id;\r\n      this.filtro = \"\";\r\n    }\r\n    this.totalRows = this.gtxRamaisLetra(this.letra).length;\r\n  },\r\n\r\n  methods: {\r\n    ...mapActions([\"actRamais\", \"actRamaisLetra\"]),\r\n\r\n    addCall(ramal) {\r\n      const param = {\r\n        idAgenda: ramal.id,\r\n      };\r\n      this.selected = param;\r\n      this.$refs[\"modal-update\"].show();\r\n    },\r\n\r\n    editCall(ramal) {\r\n      this.selected = ramal;\r\n      this.$refs[\"modal-update\"].show();\r\n    },\r\n\r\n    getCalls(ramal) {\r\n      this.selected = ramal;\r\n      this.$refs[\"modal-calls\"].show();\r\n    },\r\n\r\n    deleteCall(call) {\r\n      const param = {\r\n        idagendacall: call.id,\r\n        exclui: true,\r\n      };\r\n      API.post(\"v2/Servicos/RamaisCall/Update\", param).then((res) => {\r\n        this.$refs.HistoricoCalls.getCalls();\r\n      });\r\n    },\r\n\r\n    letraClick(letra) {\r\n      this.filtro = \"\";\r\n      this.letra = letra;\r\n      this.totalRows = this.gtxRamaisLetra(letra).length;\r\n    },\r\n\r\n    onFiltered(filteredItems) {\r\n      // Trigger pagination to update the number of buttons/pages due to filtering\r\n      this.totalRows = filteredItems.length;\r\n      this.currentPage = 1;\r\n    },\r\n\r\n    link(link) {\r\n      this.$root.copyclip(\r\n        `https://intranet.grupok1.com.br/ramais?id=${link.id}`\r\n      );\r\n    },\r\n\r\n    onHistoricoCallsActions(event) {\r\n      if (event.button.value == \"btEditar\") this.editCall(event.data);\r\n\r\n      if (event.button.value == \"btExcluir\")\r\n        this.$root\r\n          .showmessage(\"Deseja realmente excluir esta ligação ?\", \"Intranet\")\r\n          .then((choice) => {\r\n            if (choice) this.deleteCall(event.data);\r\n          });\r\n    },\r\n    onHistoricoCallsSaved() {\r\n      this.$refs[\"modal-update\"].hide();\r\n      if (this.$refs.HistoricoCalls) this.$refs.HistoricoCalls.getCalls();\r\n    },\r\n  },\r\n};\r\n</script>\r\n\r\n<style>\r\n.btnGroup {\r\n  border-radius: 0;\r\n  min-width: 27px;\r\n}\r\n.btnGroup:first-child {\r\n  border-radius: 3px;\r\n  border-top-right-radius: 0;\r\n  border-bottom-right-radius: 0;\r\n}\r\n.btnGroup:last-child {\r\n  border-radius: 3px;\r\n  border-top-left-radius: 0;\r\n  border-bottom-left-radius: 0;\r\n}\r\n</style>\r\n"]}]}