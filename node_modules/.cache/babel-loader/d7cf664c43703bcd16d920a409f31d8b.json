{"remainingRequest":"C:\\k1-services\\node_modules\\babel-loader\\lib\\index.js!C:\\k1-services\\node_modules\\cache-loader\\dist\\cjs.js??ref--1-0!C:\\k1-services\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\k1-services\\src\\pages\\transp\\views\\Romaneios.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\k1-services\\src\\pages\\transp\\views\\Romaneios.vue","mtime":1701906516538},{"path":"C:\\k1-services\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1670977934221},{"path":"C:\\k1-services\\node_modules\\babel-loader\\lib\\index.js","mtime":1670977935138},{"path":"C:\\k1-services\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1670977934221},{"path":"C:\\k1-services\\node_modules\\vue-loader\\lib\\index.js","mtime":1674603023821}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCB7IG1hcEFjdGlvbnMsIG1hcEdldHRlcnMgfSBmcm9tICJ2dWV4IjsKZXhwb3J0IGRlZmF1bHQgewogIG5hbWU6ICJSb21hbmVpb3NQYWdlIiwKICBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgZmlsdHJvOiAiIiwKICAgICAgcGFyYW1zOiB7CiAgICAgICAgUGFnZU51bWJlcjogMSwKICAgICAgICBQYWdlU2l6ZTogMTAKICAgICAgfSwKICAgICAgY29sdW5hc3JvbWFuZWlvOiBbewogICAgICAgIGtleTogIk51bWVybyIsCiAgICAgICAgbGFiZWw6ICJSb21hbmVpbyIKICAgICAgfSwgewogICAgICAgIGtleTogIkFiZXJ0dXJhIiwKICAgICAgICBsYWJlbDogIkFiZXJ0dXJhIgogICAgICB9LCB7CiAgICAgICAga2V5OiAibm90YXMiLAogICAgICAgIGxhYmVsOiAiTm90YXMiCiAgICAgIH0sICJhY3Rpb25zIl0sCiAgICAgIGNvbHVuYXNub3RhczogW3sKICAgICAgICBrZXk6ICJudW1lcm9fbm90YSIsCiAgICAgICAgbGFiZWw6ICJOb3RhIiwKICAgICAgICBzb3J0YWJsZTogdHJ1ZQogICAgICB9LCB7CiAgICAgICAga2V5OiAibnVtZXJvX3BlZGlkbyIsCiAgICAgICAgbGFiZWw6ICJQZWRpZG8iLAogICAgICAgIHNvcnRhYmxlOiB0cnVlCiAgICAgIH0sIHsKICAgICAgICBrZXk6ICJlbWlzc2FvIiwKICAgICAgICBsYWJlbDogIkVtaXNzw6NvIiwKICAgICAgICBzb3J0YWJsZTogdHJ1ZQogICAgICB9LCB7CiAgICAgICAga2V5OiAicmF6YW9zb2NpYWwiLAogICAgICAgIGxhYmVsOiAiQ2xpZW50ZSIsCiAgICAgICAgc29ydGFibGU6IHRydWUKICAgICAgfSwgewogICAgICAgIGtleTogInBsYWNhX3ZlaWN1bG8iLAogICAgICAgIGxhYmVsOiAiUGxhY2EgVmXDrWN1bG8iLAogICAgICAgIHNvcnRhYmxlOiB0cnVlCiAgICAgIH0sICJhY3Rpb25zIl0KICAgIH07CiAgfSwKICBjb21wdXRlZDogewogICAgLi4ubWFwR2V0dGVycyhbImd0eHJvbWFuZWlvc0RhdGEiLCAiZ3R4cm9tYW5laW9zbGlzdGEiLCAiZ3R4cm9tYW5laW9zcGFnaW5hY2FvIiwgImd0eHJvbWFuZWlvc1BhZ2luYXMiLCAiZ3R4cm9tYW5laW9zcGFnaW5hY2FvIl0pLAogICAgaXRlbXMoKSB7CiAgICAgIHJldHVybiB0aGlzLmd0eHJvbWFuZWlvc0RhdGEubWFwKChtLCBpKSA9PiB7CiAgICAgICAgcmV0dXJuIHsKICAgICAgICAgIC4uLm0sCiAgICAgICAgICAuLi57CiAgICAgICAgICAgIGFjdGlvbnM6ICIiCiAgICAgICAgICB9CiAgICAgICAgfTsKICAgICAgfSk7CiAgICB9LAogICAgcm93cygpIHsKICAgICAgcmV0dXJuIHBhcnNlSW50KHRoaXMuZ3R4cm9tYW5laW9zcGFnaW5hY2FvLnJvd3MpIHx8IDEwOwogICAgfSwKICAgIHBhZ2UoKSB7CiAgICAgIHJldHVybiBwYXJzZUludCh0aGlzLmd0eHJvbWFuZWlvc3BhZ2luYWNhby5QYWdlTnVtYmVyKSB8fCAxOwogICAgfSwKICAgIHBlclBhZ2UoKSB7CiAgICAgIHJldHVybiBwYXJzZUludCh0aGlzLmd0eHJvbWFuZWlvc3BhZ2luYWNhby5QYWdlU2l6ZSkgfHwgMTA7CiAgICB9CiAgfSwKICBjcmVhdGVkKCkgewogICAgdGhpcy5hY3RSb21hbmVpb3MoewogICAgICBwYXJhbXM6IHRoaXMucGFyYW1zCiAgICB9KTsKICB9LAogIG1ldGhvZHM6IHsKICAgIC4uLm1hcEFjdGlvbnMoWyJhY3RSb21hbmVpb3MiXSksCiAgICBidG5CdXNjYXJFdGlxdWV0YXMoKSB7CiAgICAgIGFsZXJ0KCJCdXNjYXIgZXRpcXVldGFzIGRvcyByb21hbmVpb3M6ICIgKyB0aGlzLnJvbWFuZWlvcyk7CiAgICB9LAogICAgb25GaWx0ZXJlZChmaWx0ZXJlZEl0ZW1zKSB7CiAgICAgIC8vIFRyaWdnZXIgcGFnaW5hdGlvbiB0byB1cGRhdGUgdGhlIG51bWJlciBvZiBidXR0b25zL3BhZ2VzIGR1ZSB0byBmaWx0ZXJpbmcKICAgICAgdGhpcy50b3RhbFJvd3MgPSBmaWx0ZXJlZEl0ZW1zLmxlbmd0aDsKICAgICAgdGhpcy5jdXJyZW50UGFnZSA9IDE7CiAgICB9LAogICAgb25Sb21hbmVpb1NlbGVjdChzZWwpIHsKICAgICAgY29uc29sZS5sb2coIm9uUm9tYW5laW9TZWxlY3Q6Iiwgc2VsKTsKICAgIH0sCiAgICBvblJvbWFuZWlvUGFnaW5hdGUocGFnZSkgewogICAgICBjb25zb2xlLmxvZygib25Sb21hbmVpb1BhZ2luYXRlOiIsIHBhZ2UpOwogICAgICB0aGlzLnBhcmFtcy5QYWdlTnVtYmVyID0gcGFnZTsKICAgICAgdGhpcy5hY3RSb21hbmVpb3MoewogICAgICAgIHBhcmFtczogdGhpcy5wYXJhbXMKICAgICAgfSk7CiAgICB9CiAgfQp9Ow=="},{"version":3,"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAiIA;AACA;EACAA;EAEAC;IACA;MACAC;MACAC;QACAC;QACAC;MACA;MACAC,kBACA;QAAAC;QAAAC;MAAA,GACA;QAAAD;QAAAC;MAAA,GACA;QAAAD;QAAAC;MAAA,GACA,UACA;MACAC,eACA;QAAAF;QAAAC;QAAAE;MAAA,GACA;QAAAH;QAAAC;QAAAE;MAAA,GACA;QAAAH;QAAAC;QAAAE;MAAA,GACA;QAAAH;QAAAC;QAAAE;MAAA,GACA;QAAAH;QAAAC;QAAAE;MAAA,GACA;IAEA;EACA;EAEAC;IACA,eACA,oBACA,qBACA,yBACA,uBACA,wBACA;IACAC;MACA;QACA;UAAA;UAAA;YAAAC;UAAA;QAAA;MACA;IACA;IACAC;MACA;IACA;IACAC;MACA;IACA;IACAC;MACA;IACA;EACA;EAEAC;IACA;MAAAd;IAAA;EACA;EAEAe;IACA;IAEAC;MACAC;IACA;IAEAC;MACA;MACA;MACA;IACA;IAEAC;MACAC;IACA;IAEAC;MACAD;MACA;MACA;QAAApB;MAAA;IACA;EACA;AACA","names":["name","data","filtro","params","PageNumber","PageSize","colunasromaneio","key","label","colunasnotas","sortable","computed","items","actions","rows","page","perPage","created","methods","btnBuscarEtiquetas","alert","onFiltered","onRomaneioSelect","console","onRomaneioPaginate"],"sourceRoot":"src/pages/transp/views","sources":["Romaneios.vue"],"sourcesContent":["<template>\r\n  <div class=\"container mt-2 mb-2\">\r\n    <b-card\r\n      header-bg-variant=\"dark\"\r\n      header-text-variant=\"white\"\r\n      header=\"Romaneios\"\r\n    >\r\n      <b-row>\r\n        <b-col cols=\"12\" lg=\"9\" md=\"7\" class=\"mb-2\">\r\n          <b-input-group prepend=\"Filtro\" size=\"sm\" class=\"mb-2\">\r\n            <b-form-input\r\n              id=\"input-filtro\"\r\n              type=\"search\"\r\n              v-model=\"filtro\"\r\n              placeholder=\"Informe os dados da pesquisa\"\r\n            ></b-form-input>\r\n          </b-input-group>\r\n        </b-col>\r\n        <b-col cols=\"12\" lg=\"3\" md=\"5\" class=\"mb-2\">\r\n          <span class=\"float-right\">\r\n            <b-pagination\r\n              size=\"sm\"\r\n              v-model=\"params.PageNumber\"\r\n              :total-rows=\"rows\"\r\n              :per-page=\"perPage\"\r\n              aria-controls=\"my-table\"\r\n              @change=\"onRomaneioPaginate\"\r\n            ></b-pagination>\r\n          </span>\r\n        </b-col>\r\n      </b-row>\r\n\r\n      <b-table\r\n        striped\r\n        hover\r\n        responsive\r\n        size=\"sm\"\r\n        :items=\"items\"\r\n        :fields=\"colunasromaneio\"\r\n        :filter=\"filtro\"\r\n        :page=\"params.PageNumber\"\r\n        :perPage=\"perPage\"\r\n        @filtered=\"onFiltered\"\r\n      >\r\n        <template #cell(Abertura)=\"data\">\r\n          <div class=\"columnhide\">\r\n            {{ data.item.Abertura | dateBR }}\r\n          </div>\r\n        </template>\r\n        <template #cell(Fechamento)=\"data\">\r\n          <div>\r\n            {{ data.item.Fechamento | dateBR }}\r\n          </div>\r\n        </template>\r\n        <template #cell(notas)=\"data\">\r\n          <span v-if=\"data.item.notas.length == 1\">\r\n            {{ data.item.notas[0].numero_nota }}\r\n          </span>\r\n          <span v-else> {{ data.item.notas.length }} Notas </span>\r\n        </template>\r\n        <template #cell(actions)=\"data\">\r\n          <span class=\"float-right\">\r\n            <b-button\r\n              variant=\"primary\"\r\n              title=\"Abrir detalhes da nota\"\r\n              class=\"mx-1 my-1\"\r\n              @click=\"data.toggleDetails\"\r\n            >\r\n              <b-icon-caret-up v-if=\"data.detailsShowing\" />\r\n              <b-icon-caret-down v-else />\r\n            </b-button>\r\n            <b-button\r\n              variant=\"success\"\r\n              title=\"Baixar arquivo de coletas\"\r\n              class=\"mx-1 my-1\"\r\n            >\r\n              <b-icon-upc />\r\n            </b-button>\r\n          </span>\r\n        </template>\r\n        <template #row-details=\"row\">\r\n          <b-card class=\"bg-light\">\r\n            <b-table\r\n              striped\r\n              hover\r\n              size=\"sm\"\r\n              :fields=\"colunasnotas\"\r\n              :items=\"row.item.notas\"\r\n            >\r\n              <template #cell(emissao)=\"data\">\r\n                <div>\r\n                  {{ data.item.emissao | dateBR }}\r\n                </div>\r\n              </template>\r\n            </b-table>\r\n          </b-card>\r\n        </template>\r\n      </b-table>\r\n\r\n      <b-row>\r\n        <b-col cols=\"12\" lg=\"9\" md=\"7\" class=\"mb-2\">\r\n          <span class=\"mr-4 font-weight-bolder\"\r\n            ><!--se quiser adiconar um total--></span\r\n          >\r\n        </b-col>\r\n        <b-col cols=\"12\" lg=\"3\" md=\"5\" class=\"mb-2\">\r\n          <span class=\"float-right\">\r\n            <b-pagination\r\n              size=\"sm\"\r\n              v-model=\"params.PageNumber\"\r\n              :total-rows=\"rows\"\r\n              :per-page=\"perPage\"\r\n              aria-controls=\"my-table\"\r\n              @change=\"onRomaneioPaginate\"\r\n            ></b-pagination>\r\n          </span>\r\n        </b-col>\r\n      </b-row>\r\n\r\n      <!--\r\n    gtxromaneiosData: {{ gtxromaneiosData }}<br />\r\n    gtxromaneiosPaginas: {{ gtxromaneiosPaginas }}<br />\r\n    gtxromaneiospaginacao: {{ gtxromaneiospaginacao }}\r\n-->\r\n    </b-card>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { mapActions, mapGetters } from \"vuex\";\r\nexport default {\r\n  name: \"RomaneiosPage\",\r\n\r\n  data() {\r\n    return {\r\n      filtro: \"\",\r\n      params: {\r\n        PageNumber: 1,\r\n        PageSize: 10,\r\n      },\r\n      colunasromaneio: [\r\n        { key: \"Numero\", label: \"Romaneio\" },\r\n        { key: \"Abertura\", label: \"Abertura\" },\r\n        { key: \"notas\", label: \"Notas\" },\r\n        \"actions\",\r\n      ],\r\n      colunasnotas: [\r\n        { key: \"numero_nota\", label: \"Nota\", sortable: true },\r\n        { key: \"numero_pedido\", label: \"Pedido\", sortable: true },\r\n        { key: \"emissao\", label: \"Emissão\", sortable: true },\r\n        { key: \"razaosocial\", label: \"Cliente\", sortable: true },\r\n        { key: \"placa_veiculo\", label: \"Placa Veículo\", sortable: true },\r\n        \"actions\",\r\n      ],\r\n    };\r\n  },\r\n\r\n  computed: {\r\n    ...mapGetters([\r\n      \"gtxromaneiosData\",\r\n      \"gtxromaneioslista\",\r\n      \"gtxromaneiospaginacao\",\r\n      \"gtxromaneiosPaginas\",\r\n      \"gtxromaneiospaginacao\",\r\n    ]),\r\n    items() {\r\n      return this.gtxromaneiosData.map((m, i) => {\r\n        return { ...m, ...{ actions: \"\" } };\r\n      });\r\n    },\r\n    rows() {\r\n      return parseInt(this.gtxromaneiospaginacao.rows) || 10;\r\n    },\r\n    page() {\r\n      return parseInt(this.gtxromaneiospaginacao.PageNumber) || 1;\r\n    },\r\n    perPage() {\r\n      return parseInt(this.gtxromaneiospaginacao.PageSize) || 10;\r\n    },\r\n  },\r\n\r\n  created() {\r\n    this.actRomaneios({ params: this.params });\r\n  },\r\n\r\n  methods: {\r\n    ...mapActions([\"actRomaneios\"]),\r\n\r\n    btnBuscarEtiquetas() {\r\n      alert(\"Buscar etiquetas dos romaneios: \" + this.romaneios);\r\n    },\r\n\r\n    onFiltered(filteredItems) {\r\n      // Trigger pagination to update the number of buttons/pages due to filtering\r\n      this.totalRows = filteredItems.length;\r\n      this.currentPage = 1;\r\n    },\r\n\r\n    onRomaneioSelect(sel) {\r\n      console.log(\"onRomaneioSelect:\", sel);\r\n    },\r\n\r\n    onRomaneioPaginate(page) {\r\n      console.log(\"onRomaneioPaginate:\", page);\r\n      this.params.PageNumber = page;\r\n      this.actRomaneios({ params: this.params });\r\n    },\r\n  },\r\n};\r\n</script>\r\n\r\n<style scoped>\r\n@media screen and (max-width: 700px) {\r\n  .columnhide {\r\n    display: none;\r\n  }\r\n}\r\n</style>\r\n"]}]}