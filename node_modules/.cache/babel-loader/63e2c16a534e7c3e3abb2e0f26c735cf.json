{"remainingRequest":"C:\\k1-services\\node_modules\\babel-loader\\lib\\index.js!C:\\k1-services\\node_modules\\cache-loader\\dist\\cjs.js??ref--1-0!C:\\k1-services\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\k1-services\\src\\pages\\funcionarios\\views\\CartaoPonto.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\k1-services\\src\\pages\\funcionarios\\views\\CartaoPonto.vue","mtime":1670977910628},{"path":"C:\\k1-services\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1670977934221},{"path":"C:\\k1-services\\node_modules\\babel-loader\\lib\\index.js","mtime":1670977935138},{"path":"C:\\k1-services\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1670977934221},{"path":"C:\\k1-services\\node_modules\\vue-loader\\lib\\index.js","mtime":1670977935327}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkucmVkdWNlLmpzIjsKLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KaW1wb3J0IHsgbWFwR2V0dGVycywgbWFwQWN0aW9ucyB9IGZyb20gInZ1ZXgiOwppbXBvcnQgbWVzZXMgZnJvbSAiLi4vLi4vLi4vYXNzZXRzL2pzb24vbWVzZXMuanNvbiI7CmV4cG9ydCBkZWZhdWx0IHsKICBuYW1lOiAiQ2FydGFvUG9udG8iLAoKICBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgcmVhZHk6IGZhbHNlLAogICAgICBtZXNlczogbWVzZXMsCiAgICAgIGFubzogMjAyMSwKICAgICAgbWVzOiAxMiwKICAgICAgZmllbGRzOiBbImRpYSIsICJyZWdpc3Ryb3MiLCAiaG9yYXMiXQogICAgfTsKICB9LAoKICBtb3VudGVkKCkgewogICAgdGhpcy5hbm8gPSB0aGlzLnN5c2RhdGUueWVhcjsKICAgIHRoaXMubWVzID0gdGhpcy5zeXNkYXRlLm1vbnRoOwogICAgdGhpcy5yZWFkeSA9IHRydWU7CiAgICAvKg0KICAgIGlmICh0aGlzLnN5c2RhdGUuZGF5ID4gMjApIHsNCiAgICAgIHRoaXMubWVzKys7DQogICAgICBpZiAodGhpcy5tZXMgPiAxMikgew0KICAgICAgICB0aGlzLmFubysrOw0KICAgICAgICB0aGlzLm1lcyA9IDE7DQogICAgICB9DQogICAgfQ0KICAgICovCiAgfSwKCiAgY29tcHV0ZWQ6IHsgLi4ubWFwR2V0dGVycyhbImd0eGNhcnRhb3BvbnRvRGF0YSIsICJzeXNkYXRlIl0pLAoKICAgIHBvbnRvKCkgewogICAgICByZXR1cm4gdGhpcy5ndHhjYXJ0YW9wb250b0RhdGEubWFwKGMgPT4gKHsgLi4uYywKICAgICAgICBfcm93VmFyaWFudDogYy5pbnZhbGlkbyA9PSAxID8gJ2RhbmdlcicgOiAnJwogICAgICB9KSk7CiAgICB9LAoKICAgIHBhcmFtYnVzY2EoKSB7CiAgICAgIHJldHVybiB7CiAgICAgICAgYW5vOiB0aGlzLmFubywKICAgICAgICBtZXM6IHRoaXMubWVzCiAgICAgIH07CiAgICB9LAoKICAgIG1lc2VzcmVkdXppZG8oKSB7CiAgICAgIHJldHVybiB0aGlzLm1lc2VzLm1hcChtID0+IG0udGV4dC5zdWJzdHIoMCwgMykpOwogICAgfSwKCiAgICB0b3RhbGhvcmFzKCkgewogICAgICByZXR1cm4gdGhpcy5wb250by5yZWR1Y2UoKGEsIGIpID0+IHBhcnNlRmxvYXQoYSkgKyBwYXJzZUZsb2F0KGIuaG9yYXMpLCAwKTsKICAgIH0KCiAgfSwKICBtZXRob2RzOiB7IC4uLm1hcEFjdGlvbnMoWyJhY3RjYXJ0YW9wb250b2J1c2NhciJdKSwKCiAgICBtZXNjbGljayhtZXMpIHsKICAgICAgdGhpcy5tZXMgPSBtZXM7CiAgICB9LAoKICAgIGJ0bm1lcyhtZXMpIHsKICAgICAgcmV0dXJuIG1lcyA9PSB0aGlzLm1lcyAtIDEgPyAiYmctcHJpbWFyeSIgOiAiIjsKICAgIH0KCiAgfSwKICB3YXRjaDogewogICAgcGFyYW1idXNjYShwYXJhbSkgewogICAgICBpZiAodGhpcy5yZWFkeSkgdGhpcy5hY3RjYXJ0YW9wb250b2J1c2NhcihwYXJhbSk7CiAgICB9CgogIH0KfTs="},{"version":3,"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAkEA;AACA;AACA;EACAA,mBADA;;EAGAC;IACA;MACAC,YADA;MAEAC,YAFA;MAGAC,SAHA;MAIAC,OAJA;MAKAC;IALA;EAOA,CAXA;;EAaAC;IACA;IACA;IACA;IACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;EACA,CA1BA;;EA4BAC,YACA,gDADA;;IAEAC;MACA;QAAAC;MAAA;IACA,CAJA;;IAKAC;MACA;QACAP,aADA;QAEAC;MAFA;IAIA,CAVA;;IAWAO;MACA;IACA,CAbA;;IAcAC;MACA,yBACA,6CADA,EAEA,CAFA;IAIA;;EAnBA,CA5BA;EAkDAC,WACA,uCADA;;IAEAC;MACA;IACA,CAJA;;IAKAC;MACA;IACA;;EAPA,CAlDA;EA4DAC;IACAN;MACA;IACA;;EAHA;AA5DA","names":["name","data","ready","meses","ano","mes","fields","mounted","computed","ponto","_rowVariant","parambusca","mesesreduzido","totalhoras","methods","mesclick","btnmes","watch"],"sourceRoot":"src/pages/funcionarios/views","sources":["CartaoPonto.vue"],"sourcesContent":["<template>\r\n  <div class=\"container mt-2\">\r\n    <b-card>\r\n      <template #header>\r\n        <h4 class=\"mb-0\">Cart√£o Ponto</h4>\r\n      </template>\r\n      <b-card-sub-title class=\"mb-2\">\r\n        <div class=\"d-inline-flex\">\r\n          <b-form-input\r\n            class=\"mr-2\"\r\n            type=\"number\"\r\n            v-model=\"ano\"\r\n            placeholder=\"Informe o ano\"\r\n            style=\"width: 65px\"\r\n          ></b-form-input>\r\n          <b-button-group style=\"flex-wrap: wrap\">\r\n            <b-button\r\n              v-for=\"(mes, i) of mesesreduzido\"\r\n              :key=\"i\"\r\n              :class=\"btnmes(i)\"\r\n              @click=\"mesclick(i + 1)\"\r\n            >\r\n              {{ mes }}\r\n            </b-button>\r\n          </b-button-group>\r\n        </div>\r\n      </b-card-sub-title>\r\n      <b-table hover striped small foot-clone :items=\"ponto\" :fields=\"fields\">\r\n        <template #cell(dia)=\"data\">\r\n          <span>\r\n            {{ data.item.data | dateDAY | LZero(2) }}\r\n            {{ data.item.data | weekname }}\r\n          </span>\r\n        </template>\r\n        <template #cell(registros)=\"data\">\r\n          <span>\r\n            {{ data.item.entrada_1 | Time }} -\r\n            {{ data.item.saida_1 | Time }}&nbsp;&nbsp;&nbsp;\r\n            {{ data.item.entrada_2 | Time }} - {{ data.item.saida_2 | Time }}\r\n          </span>\r\n        </template>\r\n        <template #cell(horas)=\"data\">\r\n          <!-- <span>{{ data.item.horas | decimals(2) }} | {{ (data.item.horas - 8.98) | decimals(2) }}</span> -->\r\n          <span>{{ data.item.horas | decimals(2) }}</span>\r\n        </template>\r\n        <template #foot(dia)=\"data\">\r\n          <span>{{ gtxcartaopontoData.length }}</span>\r\n        </template>\r\n        <template #foot()=\"data\">\r\n          <span></span>\r\n        </template>\r\n        <template #foot(horas)=\"data\">\r\n          <span>{{ totalhoras | decimals(2) }}</span>\r\n        </template>\r\n      </b-table>\r\n      <!--\r\n      <b-card-text>\r\n        {{ parambusca }} <br />\r\n        {{ sysdate }}\r\n        {{ \"900.566.980-20\" | RSecret }}\r\n      </b-card-text>\r\n      -->\r\n    </b-card>\r\n  </div>\r\n</template>\r\n<script>\r\nimport { mapGetters, mapActions } from \"vuex\";\r\nimport meses from \"../../../assets/json/meses.json\";\r\nexport default {\r\n  name: \"CartaoPonto\",\r\n\r\n  data() {\r\n    return {\r\n      ready: false,\r\n      meses: meses,\r\n      ano: 2021,\r\n      mes: 12,\r\n      fields: [\"dia\", \"registros\", \"horas\"],\r\n    };\r\n  },\r\n\r\n  mounted() {\r\n    this.ano = this.sysdate.year;\r\n    this.mes = this.sysdate.month;\r\n    this.ready = true;\r\n    /*\r\n    if (this.sysdate.day > 20) {\r\n      this.mes++;\r\n      if (this.mes > 12) {\r\n        this.ano++;\r\n        this.mes = 1;\r\n      }\r\n    }\r\n    */\r\n  },\r\n\r\n  computed: {\r\n    ...mapGetters([\"gtxcartaopontoData\", \"sysdate\"]),\r\n    ponto() {\r\n      return this.gtxcartaopontoData.map(c=>({...c, _rowVariant: c.invalido==1 ? 'danger' : ''}));\r\n    },\r\n    parambusca() {\r\n      return {\r\n        ano: this.ano,\r\n        mes: this.mes,\r\n      };\r\n    },\r\n    mesesreduzido() {\r\n      return this.meses.map(m=>(m.text.substr(0,3)));\r\n    },\r\n    totalhoras() {\r\n      return this.ponto.reduce(\r\n        (a, b) => parseFloat(a) + parseFloat(b.horas),\r\n        0\r\n      );\r\n    },\r\n  },\r\n\r\n  methods: {\r\n    ...mapActions([\"actcartaopontobuscar\"]),\r\n    mesclick(mes) {\r\n      this.mes = mes;\r\n    },\r\n    btnmes(mes) {\r\n      return mes == this.mes - 1 ? \"bg-primary\" : \"\";\r\n    },\r\n  },\r\n\r\n  watch: {\r\n    parambusca(param) {\r\n      if (this.ready) this.actcartaopontobuscar(param);\r\n    },\r\n  },\r\n};\r\n</script>\r\n"]}]}