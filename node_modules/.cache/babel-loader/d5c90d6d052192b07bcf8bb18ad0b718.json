{"remainingRequest":"C:\\k1-services\\node_modules\\babel-loader\\lib\\index.js!C:\\k1-services\\src\\router\\guard.js","dependencies":[{"path":"C:\\k1-services\\src\\router\\guard.js","mtime":1701905648761},{"path":"C:\\k1-services\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1670977934221},{"path":"C:\\k1-services\\node_modules\\babel-loader\\lib\\index.js","mtime":1670977935138}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IGNvb2tpZXMgZnJvbSAiLi4vc2VydmljZXMvY29va2llIjsKaW1wb3J0IEFwaVNlcnZpY2UgZnJvbSAiLi4vc2VydmljZXMvYXBpLnNlcnZpY2UiOwppbXBvcnQgc3RvcmUgZnJvbSAiLi4vc3RvcmUiOwpleHBvcnQgZnVuY3Rpb24gcm91dGVHdWFyZCh0bywgZnJvbSwgbmV4dCkgewogIHN0b3JlLmRpc3BhdGNoKCJhY3RMYXN0Um91dGUiLCB0by5mdWxsUGF0aC5yZXBsYWNlKCIvIiwgIiIpKTsKICBpZiAoY29va2llcy5nZXRjb29raWUoInRva2VuIikgIT09ICIiKSB7CiAgICBpZiAobG9jYWxTdG9yYWdlLmdldEl0ZW0oIkFzc2lub3VUZXJtb1ByaXZhY2lkYWRlIikgPyBsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgiQXNzaW5vdVRlcm1vUHJpdmFjaWRhZGUiKSA9PSAiMCIgOiBmYWxzZSkgewogICAgICBuZXh0KHsKICAgICAgICBuYW1lOiAiUG9saXRpY2FTZWd1cmFuY2EiLAogICAgICAgIHF1ZXJ5OiB7CiAgICAgICAgICByZWRpcjogdG8uZnVsbFBhdGgucmVwbGFjZSgiLyIsICIiKQogICAgICAgIH0KICAgICAgfSk7CiAgICB9IGVsc2UgbmV4dCgpOwogIH0gZWxzZSB7CiAgICAvL0FwaVNlcnZpY2UuZXJyb3JPYnNlcnZlci5ub3RpZnkoeyBzdGF0dXM6IDQwMSwgbWVzc2FnZTogIk5lY2Vzc8OhcmlvIGVmZXR1YXIgbG9naW4gcGFyYSBhY2Vzc2FyIGVzc2EgcMOhZ2luYSIgfSk7CiAgICBBcGlTZXJ2aWNlLnRvYXN0ZXJyb3IoIk5lY2Vzc8OhcmlvIGVmZXR1YXIgbG9naW4gcGFyYSBhY2Vzc2FyIGVzc2EgcMOhZ2luYSIpOwogICAgbmV4dCh7CiAgICAgIG5hbWU6ICJMb2dpbiIsCiAgICAgIHF1ZXJ5OiB7CiAgICAgICAgcmVkaXI6IHRvLmZ1bGxQYXRoLnJlcGxhY2UoIi8iLCAiIikKICAgICAgfQogICAgfSk7CiAgfQp9CmV4cG9ydCBmdW5jdGlvbiByb3V0ZUFkbWluR3VhcmQodG8sIGZyb20sIG5leHQpIHsKICBpZiAoY29va2llcy5nZXRjb29raWUoInRva2VuIikgIT09ICIiKSB7CiAgICBpZiAoc3RvcmUuZ2V0dGVyc1siZ3R4QXV0aFByb2ZpbGVBZG1pbiJdKSB7CiAgICAgIG5leHQoKTsKICAgIH0gZWxzZSB7CiAgICAgIGNvbnNvbGUubG9nKCJsb2dpbiB1bmF1dGhvcml6ZWQgZm9yIHJvdXRlOiIsIHRvLmZ1bGxQYXRoKTsKICAgICAgbmV4dChmYWxzZSk7CiAgICB9CiAgfSBlbHNlIHsKICAgIG5leHQoewogICAgICBuYW1lOiAiTG9naW4iLAogICAgICBxdWVyeTogewogICAgICAgIHJlZGlyOiB0by5mdWxsUGF0aC5yZXBsYWNlKCIvIiwgIiIpCiAgICAgIH0KICAgIH0pOwogIH0KfQ=="},{"version":3,"names":["cookies","ApiService","store","routeGuard","to","from","next","dispatch","fullPath","replace","getcookie","localStorage","getItem","name","query","redir","toasterror","routeAdminGuard","getters","console","log"],"sources":["C:/k1-services/src/router/guard.js"],"sourcesContent":["import cookies from \"../services/cookie\";\r\nimport ApiService from \"../services/api.service\";\r\nimport store from \"../store\";\r\n\r\nexport function routeGuard(to, from, next) {\r\n  store.dispatch(\"actLastRoute\", to.fullPath.replace(\"/\", \"\"));\r\n\tif (cookies.getcookie(\"token\") !== \"\") {\r\n\t\tif (localStorage.getItem(\"AssinouTermoPrivacidade\") ? localStorage.getItem(\"AssinouTermoPrivacidade\") == \"0\" : false) {\r\n\t\t\tnext({ name: \"PoliticaSeguranca\", query: { redir: to.fullPath.replace(\"/\", \"\") } });\r\n\t\t}else\r\n    next();\r\n  } else {\r\n    //ApiService.errorObserver.notify({ status: 401, message: \"Necess치rio efetuar login para acessar essa p치gina\" });\r\n    ApiService.toasterror(\"Necess치rio efetuar login para acessar essa p치gina\");\r\n    next({ name: \"Login\", query: { redir: to.fullPath.replace(\"/\", \"\") } });\r\n  }\r\n}\r\n\r\nexport function routeAdminGuard(to, from, next) {\r\n\tif (cookies.getcookie(\"token\") !== \"\") {\r\n\t\tif (store.getters[\"gtxAuthProfileAdmin\"]) {\r\n\t\t\tnext();\r\n\t\t}\r\n\t\telse {\r\n\t\t\tconsole.log(\"login unauthorized for route:\", to.fullPath);\r\n\t\t\tnext(false);\r\n\t }\r\n\t}\r\n  else {\r\n\t\tnext({ name: \"Login\", query: { redir: to.fullPath.replace(\"/\", \"\") } });\r\n\t}\r\n}\r\n"],"mappings":"AAAA,OAAOA,OAAO,MAAM,oBAAoB;AACxC,OAAOC,UAAU,MAAM,yBAAyB;AAChD,OAAOC,KAAK,MAAM,UAAU;AAE5B,OAAO,SAASC,UAAU,CAACC,EAAE,EAAEC,IAAI,EAAEC,IAAI,EAAE;EACzCJ,KAAK,CAACK,QAAQ,CAAC,cAAc,EAAEH,EAAE,CAACI,QAAQ,CAACC,OAAO,CAAC,GAAG,EAAE,EAAE,CAAC,CAAC;EAC7D,IAAIT,OAAO,CAACU,SAAS,CAAC,OAAO,CAAC,KAAK,EAAE,EAAE;IACtC,IAAIC,YAAY,CAACC,OAAO,CAAC,yBAAyB,CAAC,GAAGD,YAAY,CAACC,OAAO,CAAC,yBAAyB,CAAC,IAAI,GAAG,GAAG,KAAK,EAAE;MACrHN,IAAI,CAAC;QAAEO,IAAI,EAAE,mBAAmB;QAAEC,KAAK,EAAE;UAAEC,KAAK,EAAEX,EAAE,CAACI,QAAQ,CAACC,OAAO,CAAC,GAAG,EAAE,EAAE;QAAE;MAAE,CAAC,CAAC;IACpF,CAAC,MACCH,IAAI,EAAE;EACR,CAAC,MAAM;IACL;IACAL,UAAU,CAACe,UAAU,CAAC,mDAAmD,CAAC;IAC1EV,IAAI,CAAC;MAAEO,IAAI,EAAE,OAAO;MAAEC,KAAK,EAAE;QAAEC,KAAK,EAAEX,EAAE,CAACI,QAAQ,CAACC,OAAO,CAAC,GAAG,EAAE,EAAE;MAAE;IAAE,CAAC,CAAC;EACzE;AACF;AAEA,OAAO,SAASQ,eAAe,CAACb,EAAE,EAAEC,IAAI,EAAEC,IAAI,EAAE;EAC/C,IAAIN,OAAO,CAACU,SAAS,CAAC,OAAO,CAAC,KAAK,EAAE,EAAE;IACtC,IAAIR,KAAK,CAACgB,OAAO,CAAC,qBAAqB,CAAC,EAAE;MACzCZ,IAAI,EAAE;IACP,CAAC,MACI;MACJa,OAAO,CAACC,GAAG,CAAC,+BAA+B,EAAEhB,EAAE,CAACI,QAAQ,CAAC;MACzDF,IAAI,CAAC,KAAK,CAAC;IACZ;EACD,CAAC,MACK;IACLA,IAAI,CAAC;MAAEO,IAAI,EAAE,OAAO;MAAEC,KAAK,EAAE;QAAEC,KAAK,EAAEX,EAAE,CAACI,QAAQ,CAACC,OAAO,CAAC,GAAG,EAAE,EAAE;MAAE;IAAE,CAAC,CAAC;EACxE;AACD"}]}