{"remainingRequest":"C:\\k1-services\\node_modules\\babel-loader\\lib\\index.js!C:\\k1-services\\node_modules\\cache-loader\\dist\\cjs.js??ref--1-0!C:\\k1-services\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\k1-services\\src\\pages\\ramais\\views\\index.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\k1-services\\src\\pages\\ramais\\views\\index.vue","mtime":1670977910663},{"path":"C:\\k1-services\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1670977934221},{"path":"C:\\k1-services\\node_modules\\babel-loader\\lib\\index.js","mtime":1670977935138},{"path":"C:\\k1-services\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1670977934221},{"path":"C:\\k1-services\\node_modules\\vue-loader\\lib\\index.js","mtime":1670977935327}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KaW1wb3J0IHsgbWFwQWN0aW9ucywgbWFwR2V0dGVycyB9IGZyb20gInZ1ZXgiOwppbXBvcnQgQVBJIGZyb20gIi4uLy4uLy4uL3NlcnZpY2VzL2FwaS5zZXJ2aWNlIjsKaW1wb3J0IEhpc3Rvcmljb0NhbGxzIGZyb20gIi4vaGlzdG9yaWNvLnZ1ZSI7CmltcG9ydCBIaXN0b3JpY29DYWxsc1VwZGF0ZSBmcm9tICIuL2hpc3Rvcmljb3VwZGF0ZS52dWUiOwpleHBvcnQgZGVmYXVsdCB7CiAgbmFtZTogIlJhbWFpcyIsCiAgY29tcG9uZW50czogewogICAgSGlzdG9yaWNvQ2FsbHMsCiAgICBIaXN0b3JpY29DYWxsc1VwZGF0ZQogIH0sCgogIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICB0b3RhbFJvd3M6IDEsCiAgICAgIGN1cnJlbnRQYWdlOiAxLAogICAgICBwZXJQYWdlOiA1MCwKICAgICAgZmlsdHJvOiAiIiwKICAgICAgbGV0cmE6ICIiLAogICAgICBmaWx0ZXJPbjogWyJyYW1hbCIsICJub21lIl0sCiAgICAgIHNlbGVjdGVkOiB7fSwKICAgICAgY2FsbHM6IHsKICAgICAgICBkYXRhYmFzZTogbmV3IERhdGUobmV3IERhdGUoKS5zZXREYXRlKG5ldyBEYXRlKCkuZ2V0RGF0ZSgpIC0gMSkpLAogICAgICAgIGlkcmFtYWw6IG51bGwsCiAgICAgICAgcmFtYWw6ICIiCiAgICAgIH0sCiAgICAgIGZpZWxkczogW3sKICAgICAgICBrZXk6ICJub21lIiwKICAgICAgICBzb3J0YWJsZTogdHJ1ZQogICAgICB9LCB7CiAgICAgICAga2V5OiAicmFtYWwiLAogICAgICAgIHNvcnRhYmxlOiB0cnVlCiAgICAgIH0sIHsKICAgICAgICBrZXk6ICJhY3Rpb25zIiwKICAgICAgICBsYWJlbDogIiIsCiAgICAgICAgc29ydGFibGU6IGZhbHNlCiAgICAgIH1dCiAgICB9OwogIH0sCgogIGNvbXB1dGVkOiB7IC4uLm1hcEdldHRlcnMoWyJndHhSYW1haXNEYXRhIiwgImd0eFJhbWFpc0xldHJhIiwgImd0eFJhbWFpc0xldHJhRXhpc3RzIiwgImd0eFJhbWFpc0J1c3kiXSksCgogICAgbGV0cmFzKCkgewogICAgICByZXR1cm4gWy4uLkFycmF5KDI2KS5rZXlzKCldLm1hcChhID0+IFN0cmluZy5mcm9tQ2hhckNvZGUoYSArIDY1KSk7CiAgICB9LAoKICAgIHBhcmFtc2NhbGxzKCkgewogICAgICByZXR1cm4gewogICAgICAgIGRhdGFiYXNlOiB0aGlzLnNlbGVjdGVkLmRhdGFiYXNlIHx8IG5ldyBEYXRlKG5ldyBEYXRlKCkuc2V0RGF0ZShuZXcgRGF0ZSgpLmdldERhdGUoKSAtIDEpKSwKICAgICAgICBpZHJhbWFsOiBwYXJzZUludCh0aGlzLnNlbGVjdGVkLmlkKSB8fCBudWxsLAogICAgICAgIHJhbWFsOiB0aGlzLnNlbGVjdGVkLnJhbWFsIHx8ICIiCiAgICAgIH07CiAgICB9CgogIH0sCgogIGJlZm9yZU1vdW50KCkgewogICAgaWYgKCF0aGlzLmd0eFJhbWFpc0RhdGEgfHwgdGhpcy5ndHhSYW1haXNEYXRhLmxlbmd0aCA9PSAwKSB7CiAgICAgIHRoaXMuYWN0UmFtYWlzKCkudGhlbigoKSA9PiB7CiAgICAgICAgdGhpcy50b3RhbFJvd3MgPSB0aGlzLmd0eFJhbWFpc0xldHJhKHRoaXMubGV0cmEpLmxlbmd0aDsKICAgICAgfSk7CiAgICB9CgogICAgdGhpcy50b3RhbFJvd3MgPSB0aGlzLmd0eFJhbWFpc0xldHJhKHRoaXMubGV0cmEpLmxlbmd0aDsKICB9LAoKICBtb3VudGVkKCkgewogICAgaWYgKHRoaXMuJHJvdXRlLnF1ZXJ5LmxldHJhKSB7CiAgICAgIHRoaXMubGV0cmEgPSB0aGlzLiRyb3V0ZS5xdWVyeS5sZXRyYS50b1VwcGVyQ2FzZSgpIHx8ICIiOwogICAgfQoKICAgIGlmICh0aGlzLiRyb3V0ZS5xdWVyeS5maWx0cm8pIHsKICAgICAgdGhpcy5maWx0cm8gPSB0aGlzLiRyb3V0ZS5xdWVyeS5maWx0cm8udG9VcHBlckNhc2UoKSB8fCAiIjsKICAgIH0KCiAgICBpZiAodGhpcy4kcm91dGUucXVlcnkuaWQpIHsKICAgICAgY29uc3QgaWQgPSB0aGlzLiRyb3V0ZS5xdWVyeS5pZC50b1N0cmluZygpIHx8ICIiOwogICAgICB0aGlzLmxldHJhID0gaWQ7CiAgICAgIHRoaXMuZmlsdHJvID0gIiI7CiAgICB9CgogICAgdGhpcy50b3RhbFJvd3MgPSB0aGlzLmd0eFJhbWFpc0xldHJhKHRoaXMubGV0cmEpLmxlbmd0aDsKICB9LAoKICBtZXRob2RzOiB7IC4uLm1hcEFjdGlvbnMoWyJhY3RSYW1haXMiLCAiYWN0UmFtYWlzTGV0cmEiXSksCgogICAgYWRkQ2FsbChyYW1hbCkgewogICAgICBjb25zdCBwYXJhbSA9IHsKICAgICAgICBpZEFnZW5kYTogcmFtYWwuaWQKICAgICAgfTsKICAgICAgdGhpcy5zZWxlY3RlZCA9IHBhcmFtOwogICAgICB0aGlzLiRyZWZzWyJtb2RhbC11cGRhdGUiXS5zaG93KCk7CiAgICB9LAoKICAgIGVkaXRDYWxsKHJhbWFsKSB7CiAgICAgIHRoaXMuc2VsZWN0ZWQgPSByYW1hbDsKICAgICAgdGhpcy4kcmVmc1sibW9kYWwtdXBkYXRlIl0uc2hvdygpOwogICAgfSwKCiAgICBnZXRDYWxscyhyYW1hbCkgewogICAgICB0aGlzLnNlbGVjdGVkID0gcmFtYWw7CiAgICAgIHRoaXMuJHJlZnNbIm1vZGFsLWNhbGxzIl0uc2hvdygpOwogICAgfSwKCiAgICBkZWxldGVDYWxsKGNhbGwpIHsKICAgICAgY29uc3QgcGFyYW0gPSB7CiAgICAgICAgaWRhZ2VuZGFjYWxsOiBjYWxsLmlkLAogICAgICAgIGV4Y2x1aTogdHJ1ZQogICAgICB9OwogICAgICBBUEkucG9zdCgidjIvU2Vydmljb3MvUmFtYWlzQ2FsbC9VcGRhdGUiLCBwYXJhbSkudGhlbihyZXMgPT4gewogICAgICAgIHRoaXMuJHJlZnMuSGlzdG9yaWNvQ2FsbHMuZ2V0Q2FsbHMoKTsKICAgICAgfSk7CiAgICB9LAoKICAgIGxldHJhQ2xpY2sobGV0cmEpIHsKICAgICAgdGhpcy5maWx0cm8gPSAiIjsKICAgICAgdGhpcy5sZXRyYSA9IGxldHJhOwogICAgICB0aGlzLnRvdGFsUm93cyA9IHRoaXMuZ3R4UmFtYWlzTGV0cmEobGV0cmEpLmxlbmd0aDsKICAgIH0sCgogICAgb25GaWx0ZXJlZChmaWx0ZXJlZEl0ZW1zKSB7CiAgICAgIC8vIFRyaWdnZXIgcGFnaW5hdGlvbiB0byB1cGRhdGUgdGhlIG51bWJlciBvZiBidXR0b25zL3BhZ2VzIGR1ZSB0byBmaWx0ZXJpbmcKICAgICAgdGhpcy50b3RhbFJvd3MgPSBmaWx0ZXJlZEl0ZW1zLmxlbmd0aDsKICAgICAgdGhpcy5jdXJyZW50UGFnZSA9IDE7CiAgICB9LAoKICAgIGxpbmsobGluaykgewogICAgICB0aGlzLiRyb290LmNvcHljbGlwKGBodHRwczovL2ludHJhbmV0LmdydXBvazEuY29tLmJyL3JhbWFpcz9pZD0ke2xpbmsuaWR9YCk7CiAgICB9LAoKICAgIG9uSGlzdG9yaWNvQ2FsbHNBY3Rpb25zKGV2ZW50KSB7CiAgICAgIGlmIChldmVudC5idXR0b24udmFsdWUgPT0gImJ0RWRpdGFyIikgdGhpcy5lZGl0Q2FsbChldmVudC5kYXRhKTsKICAgICAgaWYgKGV2ZW50LmJ1dHRvbi52YWx1ZSA9PSAiYnRFeGNsdWlyIikgdGhpcy4kcm9vdC5zaG93bWVzc2FnZSgiRGVzZWphIHJlYWxtZW50ZSBleGNsdWlyIGVzdGEgbGlnYcOnw6NvID8iLCAiSW50cmFuZXQiKS50aGVuKGNob2ljZSA9PiB7CiAgICAgICAgaWYgKGNob2ljZSkgdGhpcy5kZWxldGVDYWxsKGV2ZW50LmRhdGEpOwogICAgICB9KTsKICAgIH0sCgogICAgb25IaXN0b3JpY29DYWxsc1NhdmVkKCkgewogICAgICB0aGlzLiRyZWZzWyJtb2RhbC11cGRhdGUiXS5oaWRlKCk7CiAgICAgIGlmICh0aGlzLiRyZWZzLkhpc3Rvcmljb0NhbGxzKSB0aGlzLiRyZWZzLkhpc3Rvcmljb0NhbGxzLmdldENhbGxzKCk7CiAgICB9CgogIH0KfTs="},{"version":3,"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA4JA;AACA;AACA;AACA;AACA;EACAA,cADA;EAGAC;IACAC,cADA;IAEAC;EAFA,CAHA;;EAQAC;IACA;MACAC,YADA;MAEAC,cAFA;MAGAC,WAHA;MAIAC,UAJA;MAKAC,SALA;MAMAC,2BANA;MAOAC,YAPA;MAQAC;QACAC,gEADA;QAEAC,aAFA;QAGAC;MAHA,CARA;MAaAC,SACA;QAAAC;QAAAC;MAAA,CADA,EAEA;QAAAD;QAAAC;MAAA,CAFA,EAGA;QAAAD;QAAAE;QAAAD;MAAA,CAHA;IAbA;EAmBA,CA5BA;;EA8BAE,YACA,eACA,eADA,EAEA,gBAFA,EAGA,sBAHA,EAIA,eAJA,EADA;;IAQAC;MACA;IACA,CAVA;;IAYAC;MACA;QACAT,UACA,0BACA,sDAHA;QAIAC,2CAJA;QAKAC;MALA;IAOA;;EApBA,CA9BA;;EAqDAQ;IACA;MACA;QACA;MACA,CAFA;IAGA;;IACA;EACA,CA5DA;;EA8DAC;IACA;MACA;IACA;;IACA;MACA;IACA;;IACA;MACA;MACA;MACA;IACA;;IACA;EACA,CA3EA;;EA6EAC,WACA,8CADA;;IAGAC;MACA;QACAC;MADA;MAGA;MACA;IACA,CATA;;IAWAC;MACA;MACA;IACA,CAdA;;IAgBAC;MACA;MACA;IACA,CAnBA;;IAqBAC;MACA;QACAC,qBADA;QAEAC;MAFA;MAIAC;QACA;MACA,CAFA;IAGA,CA7BA;;IA+BAC;MACA;MACA;MACA;IACA,CAnCA;;IAqCAC;MACA;MACA;MACA;IACA,CAzCA;;IA2CAC;MACA,oBACA,sDADA;IAGA,CA/CA;;IAiDAC;MACA;MAEA,uCACA,WACAC,WADA,CACA,yCADA,EACA,UADA,EAEAC,IAFA,CAEAC;QACA;MACA,CAJA;IAKA,CA1DA;;IA2DAC;MACA;MACA;IACA;;EA9DA;AA7EA","names":["name","components","HistoricoCalls","HistoricoCallsUpdate","data","totalRows","currentPage","perPage","filtro","letra","filterOn","selected","calls","database","idramal","ramal","fields","key","sortable","label","computed","letras","paramscalls","beforeMount","mounted","methods","addCall","idAgenda","editCall","getCalls","deleteCall","idagendacall","exclui","API","letraClick","onFiltered","link","onHistoricoCallsActions","showmessage","then","choice","onHistoricoCallsSaved"],"sourceRoot":"src/pages/ramais/views","sources":["index.vue"],"sourcesContent":["<template>\r\n  <div class=\"container-fluid mt-2 mb-2\">\r\n    <b-card\r\n      header-bg-variant=\"dark\"\r\n      header-text-variant=\"white\"\r\n      header=\"Ramais\"\r\n    >\r\n      <b-row>\r\n        <b-col cols=\"12\" lg=\"9\" md=\"8\" class=\"mb-2\">\r\n          <b-button-toolbar v-model=\"letra\">\r\n            <b-button\r\n              @click=\"letraClick('')\"\r\n              class=\"btnGroup\"\r\n              size=\"sm\"\r\n              :class=\"letra == '' ? 'bg-primary' : ''\"\r\n              >Todos</b-button\r\n            >\r\n            <b-button\r\n              v-for=\"(l, i) of letras\"\r\n              :key=\"i\"\r\n              size=\"sm\"\r\n              class=\"btnGroup\"\r\n              :class=\"letra == l ? 'bg-primary' : ''\"\r\n              :disabled=\"!gtxRamaisLetraExists(l)\"\r\n              @click=\"letraClick(l)\"\r\n              >{{ l }}</b-button\r\n            >\r\n          </b-button-toolbar>\r\n        </b-col>\r\n        <b-col cols=\"12\" lg=\"3\" md=\"4\" class=\"mb-2\">\r\n          <span class=\"float-right\">\r\n            <b-pagination\r\n              id=\"input-pagination\"\r\n              v-model=\"currentPage\"\r\n              :total-rows=\"totalRows\"\r\n              :per-page=\"perPage\"\r\n              align=\"fill\"\r\n              size=\"sm\"\r\n              class=\"my-0\"\r\n            >\r\n            </b-pagination>\r\n          </span>\r\n        </b-col>\r\n      </b-row>\r\n\r\n      <b-row>\r\n        <b-col>\r\n          <b-input-group prepend=\"Filtro\" size=\"sm\" class=\"mb-2\">\r\n            <b-form-input\r\n              id=\"input-filtro\"\r\n              type=\"search\"\r\n              v-model=\"filtro\"\r\n              placeholder=\"Informe o ramal ou nome\"\r\n            ></b-form-input>\r\n          </b-input-group>\r\n        </b-col>\r\n      </b-row>\r\n\r\n      <b-overlay :show=\"gtxRamaisBusy\" rounded=\"sm\">\r\n        <b-table\r\n          small\r\n          striped\r\n          hover\r\n          sort-icon-left\r\n          :items=\"gtxRamaisLetra(letra)\"\r\n          :fields=\"fields\"\r\n          :filter=\"filtro\"\r\n          :current-page=\"currentPage\"\r\n          :per-page=\"perPage\"\r\n          :filter-included-fields=\"filterOn\"\r\n          @filtered=\"onFiltered\"\r\n        >\r\n          <template #cell(ramal)=\"data\">\r\n            <span v-copy>{{ data.item.ramal }}</span>\r\n          </template>\r\n          <template #cell(actions)=\"data\">\r\n            <span\r\n              class=\"iconbutton\"\r\n              title=\"Histórico de ligações\"\r\n              @click=\"getCalls(data.item)\"\r\n            >\r\n              <b-icon-card-list variant=\"primary\" />\r\n            </span>\r\n            <span\r\n              class=\"iconbutton\"\r\n              title=\"Registrar\"\r\n              @click=\"addCall(data.item)\"\r\n            >\r\n              <b-icon-telephone-plus variant=\"success\" />\r\n            </span>\r\n          </template>\r\n          <template #foot()=\"data\">\r\n            <i>Total: {{ data.label }}</i>\r\n          </template>\r\n        </b-table>\r\n      </b-overlay>\r\n      <hr />\r\n\r\n      <b-form-group label-for=\"input-pagination-footer\">\r\n        <div class=\"d-flex justify-content-between\">\r\n          <span class=\"mr-4 font-weight-bolder\"> Total: {{ totalRows }} </span>\r\n          <b-pagination\r\n            id=\"input-pagination-footer\"\r\n            v-model=\"currentPage\"\r\n            :total-rows=\"totalRows\"\r\n            :per-page=\"perPage\"\r\n            align=\"fill\"\r\n            size=\"sm\"\r\n            class=\"my-0\"\r\n          ></b-pagination>\r\n        </div>\r\n      </b-form-group>\r\n\r\n      <!--\r\n        gtxRamaisLetra(letra): {{gtxRamaisLetra(letra)}}<br>\r\n        gtxRamaisLetra(3256): {{gtxRamaisLetra(3256)}}<br>\r\n        letra: {{letra}}<br>\r\n      -->\r\n    </b-card>\r\n\r\n    <!-- JANELAS MODAIS -->\r\n    <b-modal\r\n      ok-only\r\n      id=\"modal-calls\"\r\n      ref=\"modal-calls\"\r\n      size=\"xl\"\r\n      scrollable\r\n      title=\"Últimas ligações\"\r\n      ok-title=\"Fechar\"\r\n    >\r\n      <HistoricoCalls\r\n        ref=\"HistoricoCalls\"\r\n        :database=\"paramscalls.database\"\r\n        :idramal=\"paramscalls.idramal\"\r\n        :ramal=\"paramscalls.ramal\"\r\n        @evt-actions=\"onHistoricoCallsActions\"\r\n      />\r\n    </b-modal>\r\n\r\n    <b-modal\r\n      ok-only\r\n      id=\"modal-update\"\r\n      ref=\"modal-update\"\r\n      size=\"xl\"\r\n      scrollable\r\n      title=\"Anotações\"\r\n      ok-title=\"Fechar\"\r\n    >\r\n      <HistoricoCallsUpdate\r\n        :data=\"selected\"\r\n        @evtsaved=\"onHistoricoCallsSaved\"\r\n      />\r\n    </b-modal>\r\n  </div>\r\n</template>\r\n<script>\r\nimport { mapActions, mapGetters } from \"vuex\";\r\nimport API from \"../../../services/api.service\";\r\nimport HistoricoCalls from \"./historico.vue\";\r\nimport HistoricoCallsUpdate from \"./historicoupdate.vue\";\r\nexport default {\r\n  name: \"Ramais\",\r\n\r\n  components: {\r\n    HistoricoCalls,\r\n    HistoricoCallsUpdate,\r\n  },\r\n\r\n  data() {\r\n    return {\r\n      totalRows: 1,\r\n      currentPage: 1,\r\n      perPage: 50,\r\n      filtro: \"\",\r\n      letra: \"\",\r\n      filterOn: [\"ramal\", \"nome\"],\r\n      selected: {},\r\n      calls: {\r\n        database: new Date(new Date().setDate(new Date().getDate() - 1)),\r\n        idramal: null,\r\n        ramal: \"\",\r\n      },\r\n      fields: [\r\n        { key: \"nome\", sortable: true },\r\n        { key: \"ramal\", sortable: true },\r\n        { key: \"actions\", label: \"\", sortable: false },\r\n      ],\r\n    };\r\n  },\r\n\r\n  computed: {\r\n    ...mapGetters([\r\n      \"gtxRamaisData\",\r\n      \"gtxRamaisLetra\",\r\n      \"gtxRamaisLetraExists\",\r\n      \"gtxRamaisBusy\",\r\n    ]),\r\n\r\n    letras() {\r\n      return [...Array(26).keys()].map((a) => String.fromCharCode(a + 65));\r\n    },\r\n\r\n    paramscalls() {\r\n      return {\r\n        database:\r\n          this.selected.database ||\r\n          new Date(new Date().setDate(new Date().getDate() - 1)),\r\n        idramal: parseInt(this.selected.id) || null,\r\n        ramal: this.selected.ramal || \"\",\r\n      };\r\n    },\r\n  },\r\n\r\n  beforeMount() {\r\n    if (!this.gtxRamaisData || this.gtxRamaisData.length == 0) {\r\n      this.actRamais().then(() => {\r\n        this.totalRows = this.gtxRamaisLetra(this.letra).length;\r\n      });\r\n    }\r\n    this.totalRows = this.gtxRamaisLetra(this.letra).length;\r\n  },\r\n\r\n  mounted() {\r\n    if (this.$route.query.letra) {\r\n      this.letra = this.$route.query.letra.toUpperCase() || \"\";\r\n    }\r\n    if (this.$route.query.filtro) {\r\n      this.filtro = this.$route.query.filtro.toUpperCase() || \"\";\r\n    }\r\n    if (this.$route.query.id) {\r\n      const id = this.$route.query.id.toString() || \"\";\r\n      this.letra = id;\r\n      this.filtro = \"\";\r\n    }\r\n    this.totalRows = this.gtxRamaisLetra(this.letra).length;\r\n  },\r\n\r\n  methods: {\r\n    ...mapActions([\"actRamais\", \"actRamaisLetra\"]),\r\n\r\n    addCall(ramal) {\r\n      const param = {\r\n        idAgenda: ramal.id,\r\n      };\r\n      this.selected = param;\r\n      this.$refs[\"modal-update\"].show();\r\n    },\r\n\r\n    editCall(ramal) {\r\n      this.selected = ramal;\r\n      this.$refs[\"modal-update\"].show();\r\n    },\r\n\r\n    getCalls(ramal) {\r\n      this.selected = ramal;\r\n      this.$refs[\"modal-calls\"].show();\r\n    },\r\n\r\n    deleteCall(call) {\r\n      const param = {\r\n        idagendacall: call.id,\r\n        exclui: true,\r\n      };\r\n      API.post(\"v2/Servicos/RamaisCall/Update\", param).then((res) => {\r\n        this.$refs.HistoricoCalls.getCalls();\r\n      });\r\n    },\r\n\r\n    letraClick(letra) {\r\n      this.filtro = \"\";\r\n      this.letra = letra;\r\n      this.totalRows = this.gtxRamaisLetra(letra).length;\r\n    },\r\n\r\n    onFiltered(filteredItems) {\r\n      // Trigger pagination to update the number of buttons/pages due to filtering\r\n      this.totalRows = filteredItems.length;\r\n      this.currentPage = 1;\r\n    },\r\n\r\n    link(link) {\r\n      this.$root.copyclip(\r\n        `https://intranet.grupok1.com.br/ramais?id=${link.id}`\r\n      );\r\n    },\r\n\r\n    onHistoricoCallsActions(event) {\r\n      if (event.button.value == \"btEditar\") this.editCall(event.data);\r\n\r\n      if (event.button.value == \"btExcluir\")\r\n        this.$root\r\n          .showmessage(\"Deseja realmente excluir esta ligação ?\", \"Intranet\")\r\n          .then((choice) => {\r\n            if (choice) this.deleteCall(event.data);\r\n          });\r\n    },\r\n    onHistoricoCallsSaved() {\r\n      this.$refs[\"modal-update\"].hide();\r\n      if (this.$refs.HistoricoCalls) this.$refs.HistoricoCalls.getCalls();\r\n    },\r\n  },\r\n};\r\n</script>\r\n\r\n<style>\r\n.btnGroup {\r\n  border-radius: 0;\r\n  min-width: 27px;\r\n}\r\n.btnGroup:first-child {\r\n  border-radius: 3px;\r\n  border-top-right-radius: 0;\r\n  border-bottom-right-radius: 0;\r\n}\r\n.btnGroup:last-child {\r\n  border-radius: 3px;\r\n  border-top-left-radius: 0;\r\n  border-bottom-left-radius: 0;\r\n}\r\n</style>\r\n"]}]}