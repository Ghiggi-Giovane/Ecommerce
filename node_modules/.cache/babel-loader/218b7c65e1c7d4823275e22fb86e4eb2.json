{"remainingRequest":"C:\\k1-services\\node_modules\\babel-loader\\lib\\index.js!C:\\k1-services\\node_modules\\cache-loader\\dist\\cjs.js??ref--1-0!C:\\k1-services\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\k1-services\\src\\pages\\ramais\\views\\historicoupdate.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\k1-services\\src\\pages\\ramais\\views\\historicoupdate.vue","mtime":1670977910663},{"path":"C:\\k1-services\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1670977934221},{"path":"C:\\k1-services\\node_modules\\babel-loader\\lib\\index.js","mtime":1670977935138},{"path":"C:\\k1-services\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1670977934221},{"path":"C:\\k1-services\\node_modules\\vue-loader\\lib\\index.js","mtime":1670977935327}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KaW1wb3J0IHsgbWFwQWN0aW9ucywgbWFwR2V0dGVycyB9IGZyb20gInZ1ZXgiOwppbXBvcnQgQVBJIGZyb20gIi4uLy4uLy4uL3NlcnZpY2VzL2FwaS5zZXJ2aWNlIjsKZXhwb3J0IGRlZmF1bHQgewogIG5hbWU6ICJIaXN0b3JpY29DYWxsc1VwZGF0ZSIsCgogIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICBpZGFnZW5kYWNhbGw6IHRoaXMuZGF0YS5pZCB8fCBudWxsLAogICAgICBpZHJhbWFsOiB0aGlzLmRhdGEuaWRBZ2VuZGEgfHwgbnVsbCwKICAgICAgYW5vdGFjYW86IHRoaXMuZGF0YS5Bbm90YWNhbyB8fCAiIiwKICAgICAgYWdlbmRhZGE6IHRoaXMuZGF0YS5BZ2VuZGFkYSB8fCBudWxsLAogICAgICBhbGVydGFtczogdGhpcy5kYXRhLkFsZXJ0YU1TIHx8IG51bGwsCiAgICAgIGFsZXJ0YXRpcG86IHRoaXMuZGF0YS5UZW1wbyB8fCBudWxsLAogICAgICBhbGVydGF0aXBvczogW3sKICAgICAgICB2YWx1ZTogInNlZ3VuZG9zIiwKICAgICAgICB0ZXh0OiAic2VndW5kb3MiCiAgICAgIH0sIHsKICAgICAgICB2YWx1ZTogIm1pbnV0b3MiLAogICAgICAgIHRleHQ6ICJtaW51dG9zIgogICAgICB9LCB7CiAgICAgICAgdmFsdWU6ICJob3JhcyIsCiAgICAgICAgdGV4dDogImhvcmFzIgogICAgICB9LCB7CiAgICAgICAgdmFsdWU6ICJkaWFzIiwKICAgICAgICB0ZXh0OiAiZGlhcyIKICAgICAgfV0KICAgIH07CiAgfSwKCiAgcHJvcHM6IHsKICAgIGRhdGE6IHsKICAgICAgdHlwZTogT2JqZWN0CiAgICB9CiAgfSwKICBjb21wdXRlZDogeyAuLi5tYXBHZXR0ZXJzKFsiZ3R4Q29uZmlnRGF0ZXRpbWVQaWNrZXJGb3JtYXQiXSksCgogICAgcGFyYW1hZGQoKSB7CiAgICAgIHJldHVybiB7CiAgICAgICAgaWRhZ2VuZGFjYWxsOiB0aGlzLmlkYWdlbmRhY2FsbCwKICAgICAgICBpZHJhbWFsOiB0aGlzLmlkcmFtYWwsCiAgICAgICAgYW5vdGFjYW86IHRoaXMuYW5vdGFjYW8sCiAgICAgICAgYWdlbmRhZGE6IHRoaXMuYWdlbmRhZGEsCiAgICAgICAgYWxlcnRhbXM6IHRoaXMucGFyYW1hbGVydGFtcwogICAgICB9OwogICAgfSwKCiAgICBwYXJhbWFsZXJ0YW1zKCkgewogICAgICBzd2l0Y2ggKHRoaXMuYWxlcnRhdGlwbykgewogICAgICAgIGNhc2UgInNlZ3VuZG9zIjoKICAgICAgICAgIHJldHVybiB0aGlzLmFsZXJ0YW1zICogMTAwMCAqIC0xOwogICAgICAgICAgYnJlYWs7CgogICAgICAgIGNhc2UgIm1pbnV0b3MiOgogICAgICAgICAgcmV0dXJuIHRoaXMuYWxlcnRhbXMgKiA2MDAwMCAqIC0xOwogICAgICAgICAgYnJlYWs7CgogICAgICAgIGNhc2UgImhvcmFzIjoKICAgICAgICAgIHJldHVybiB0aGlzLmFsZXJ0YW1zICogMzYwMDAwMCAqIC0xOwogICAgICAgICAgYnJlYWs7CgogICAgICAgIGNhc2UgImRpYXMiOgogICAgICAgICAgcmV0dXJuIHRoaXMuYWxlcnRhbXMgKiA4NjQwMDAwMCAqIC0xOwogICAgICAgICAgYnJlYWs7CgogICAgICAgIGRlZmF1bHQ6CiAgICAgICAgICByZXR1cm4gdGhpcy5hbGVydGFtcyAqIDEwMDAgKiAtMTsKICAgICAgICAgIGJyZWFrOwogICAgICB9CiAgICB9LAoKICAgIGFsZXJ0YWxhYmVsKCkgewogICAgICBjb25zdCB0ZW1wbyA9IHRoaXMuYWxlcnRhbXMgPT0gMSA/IHRoaXMuYWxlcnRhdGlwby5zdWJzdHIoMCwgdGhpcy5hbGVydGF0aXBvLmxlbmd0aCAtIDEpIDogdGhpcy5hbGVydGF0aXBvOwoKICAgICAgaWYgKHRoaXMuYWxlcnRhdGlwbyAmJiB0aGlzLmFsZXJ0YW1zID4gMCkgewogICAgICAgIHJldHVybiB0aGlzLmFsZXJ0YW1zICsgIiAiICsgdGVtcG8gKyAiIGFudGVzIjsKICAgICAgfSBlbHNlIHsKICAgICAgICByZXR1cm4gIiI7CiAgICAgIH0KICAgIH0KCiAgfSwKICBtZXRob2RzOiB7CiAgICBzYXZlQ2FsbCgpIHsKICAgICAgQVBJLnBvc3QoInYyL1NlcnZpY29zL1JhbWFpc0NhbGwvVXBkYXRlIiwgdGhpcy5wYXJhbWFkZCkudGhlbihyZXMgPT4gewogICAgICAgIC8vIGNvbnNvbGUubG9nKCJzYXZlQ2FsbCIsIHJlcyk7CiAgICAgICAgdGhpcy4kZW1pdCgiZXZ0c2F2ZWQiLCByZXMpOwogICAgICB9KTsKICAgIH0KCiAgfQp9Ow=="},{"version":3,"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAoEA;AACA;AACA;EACAA,4BADA;;EAGAC;IACA;MACAC,kCADA;MAEAC,mCAFA;MAGAC,kCAHA;MAIAC,oCAJA;MAKAC,oCALA;MAMAC,mCANA;MAOAC,cACA;QAAAC;QAAAC;MAAA,CADA,EAEA;QAAAD;QAAAC;MAAA,CAFA,EAGA;QAAAD;QAAAC;MAAA,CAHA,EAIA;QAAAD;QAAAC;MAAA,CAJA;IAPA;EAcA,CAlBA;;EAoBAC;IACAV;MACAW;IADA;EADA,CApBA;EA0BAC,YACA,gDADA;;IAGAC;MACA;QACAZ,+BADA;QAEAC,qBAFA;QAGAC,uBAHA;QAIAC,uBAJA;QAKAC;MALA;IAOA,CAXA;;IAaAS;MACA;QACA;UACA;UACA;;QACA;UACA;UACA;;QACA;UACA;UACA;;QACA;UACA;UACA;;QACA;UACA;UACA;MAfA;IAiBA,CA/BA;;IAiCAC;MACA,cACA,qBACA,qDADA,GAEA,eAHA;;MAIA;QACA;MACA,CAFA,MAEA;QACA;MACA;IACA;;EA3CA,CA1BA;EAwEAC;IACAC;MACAC;QACA;QACA;MACA,CAHA;IAIA;;EANA;AAxEA","names":["name","data","idagendacall","idramal","anotacao","agendada","alertams","alertatipo","alertatipos","value","text","props","type","computed","paramadd","paramalertams","alertalabel","methods","saveCall","API"],"sourceRoot":"src/pages/ramais/views","sources":["historicoupdate.vue"],"sourcesContent":["<template>\r\n  <div>\r\n    <b-row>\r\n      <b-col>\r\n        <label for=\"form-anotacao\">Anotações</label>\r\n        <b-form-textarea\r\n          id=\"textarea\"\r\n          v-model=\"anotacao\"\r\n          placeholder=\"Anotações\"\r\n          rows=\"3\"\r\n          max-rows=\"6\"\r\n        ></b-form-textarea>\r\n      </b-col>\r\n    </b-row>\r\n    <b-row>\r\n      <b-col>\r\n        <label for=\"form-agendada\">Agendar para</label>\r\n        <b-form-datepicker\r\n          id=\"form-agendada\"\r\n          v-model=\"agendada\"\r\n          locale=\"pt\"\r\n          size=\"sm\"\r\n          :date-format-options=\"gtxConfigDatetimePickerFormat\"\r\n        ></b-form-datepicker>\r\n      </b-col>\r\n    </b-row>\r\n    <b-row>\r\n      <b-col cols=\"6\">\r\n        <label for=\"form-alerta\">Notificar {{ alertalabel }}</label>\r\n        <b-form-input\r\n          id=\"form-alerta\"\r\n          type=\"number\"\r\n          v-model=\"alertams\"\r\n          size=\"sm\"\r\n        ></b-form-input>\r\n      </b-col>\r\n      <b-col cols=\"6\">\r\n        <label for=\"form-alertatipo\">Tempo</label>\r\n        <b-form-select\r\n          id=\"form-alertatipo\"\r\n          type=\"number\"\r\n          v-model=\"alertatipo\"\r\n          :options=\"alertatipos\"\r\n          size=\"sm\"\r\n        ></b-form-select>\r\n      </b-col>\r\n    </b-row>\r\n    <b-row>\r\n      <b-col class=\"mt-2 text-right\">\r\n        <b-button variant=\"success\" @click=\"saveCall\">\r\n          Salvar\r\n        </b-button>\r\n      </b-col>\r\n    </b-row>\r\n\r\n    <!--\r\n    alertalabel: {{ alertalabel }}\r\n    <pre>\r\n      paramadd: {{ paramadd }}\r\n    </pre>\r\n    <pre>\r\n      data: {{ data }}\r\n    </pre>\r\n    -->\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { mapActions, mapGetters } from \"vuex\";\r\nimport API from \"../../../services/api.service\";\r\nexport default {\r\n  name: \"HistoricoCallsUpdate\",\r\n\r\n  data() {\r\n    return {\r\n      idagendacall: this.data.id || null,\r\n      idramal: this.data.idAgenda || null,\r\n      anotacao: this.data.Anotacao || \"\",\r\n      agendada: this.data.Agendada || null,\r\n      alertams: this.data.AlertaMS || null,\r\n      alertatipo: this.data.Tempo || null,\r\n      alertatipos: [\r\n        { value: \"segundos\", text: \"segundos\" },\r\n        { value: \"minutos\", text: \"minutos\" },\r\n        { value: \"horas\", text: \"horas\" },\r\n        { value: \"dias\", text: \"dias\" },\r\n      ],\r\n    };\r\n  },\r\n\r\n  props: {\r\n    data: {\r\n      type: Object,\r\n    },\r\n  },\r\n\r\n  computed: {\r\n    ...mapGetters([\"gtxConfigDatetimePickerFormat\"]),\r\n\r\n    paramadd() {\r\n      return {\r\n        idagendacall: this.idagendacall,\r\n        idramal: this.idramal,\r\n        anotacao: this.anotacao,\r\n        agendada: this.agendada,\r\n        alertams: this.paramalertams,\r\n      };\r\n    },\r\n\r\n    paramalertams() {\r\n      switch (this.alertatipo) {\r\n        case \"segundos\":\r\n          return this.alertams * 1000 * -1;\r\n          break;\r\n        case \"minutos\":\r\n          return this.alertams * 60000 * -1;\r\n          break;\r\n        case \"horas\":\r\n          return this.alertams * 3600000 * -1;\r\n          break;\r\n        case \"dias\":\r\n          return this.alertams * 86400000 * -1;\r\n          break;\r\n        default:\r\n          return this.alertams * 1000 * -1;\r\n          break;\r\n      }\r\n    },\r\n\r\n    alertalabel() {\r\n      const tempo =\r\n        this.alertams == 1\r\n          ? this.alertatipo.substr(0, this.alertatipo.length - 1)\r\n          : this.alertatipo;\r\n      if (this.alertatipo && this.alertams > 0) {\r\n        return this.alertams + \" \" + tempo + \" antes\";\r\n      } else {\r\n        return \"\";\r\n      }\r\n    },\r\n  },\r\n\r\n  methods: {\r\n    saveCall() {\r\n      API.post(\"v2/Servicos/RamaisCall/Update\", this.paramadd).then((res) => {\r\n        // console.log(\"saveCall\", res);\r\n        this.$emit(\"evtsaved\", res);\r\n      });\r\n    },\r\n  },\r\n};\r\n</script>\r\n"]}]}