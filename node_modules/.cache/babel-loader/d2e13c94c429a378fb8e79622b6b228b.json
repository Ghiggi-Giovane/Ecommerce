{"remainingRequest":"C:\\k1-services\\node_modules\\babel-loader\\lib\\index.js!C:\\k1-services\\node_modules\\cache-loader\\dist\\cjs.js??ref--1-0!C:\\k1-services\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\k1-services\\src\\pages\\carregamento\\views\\index.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\k1-services\\src\\pages\\carregamento\\views\\index.vue","mtime":1670977910604},{"path":"C:\\k1-services\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1670977934221},{"path":"C:\\k1-services\\node_modules\\babel-loader\\lib\\index.js","mtime":1670977935138},{"path":"C:\\k1-services\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1670977934221},{"path":"C:\\k1-services\\node_modules\\vue-loader\\lib\\index.js","mtime":1670977935327}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KaW1wb3J0IEFQSSBmcm9tICIuLi8uLi8uLi9zZXJ2aWNlcy9hcGkuc2VydmljZSI7CmltcG9ydCBTaWduYXR1cmUgZnJvbSAiLi4vLi4vLi4vY29tcG9uZW50cy9TaWduYXR1cmUiOwppbXBvcnQgUHJvcGVydGllcyBmcm9tICIuLi8uLi8uLi9jb21wb25lbnRzL1Byb3BlcnRpZXMiOwpleHBvcnQgZGVmYXVsdCB7CiAgbmFtZTogIkNhcnJlZ2FtZW50byIsCiAgY29tcG9uZW50czogewogICAgU2lnbmF0dXJlLAogICAgUHJvcGVydGllcwogIH0sCgogIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICBmb3JtOiB7CiAgICAgICAgaWRDYXJyZWdhbWVudG86IDAsCiAgICAgICAgZW50cmFkYTogbmV3IERhdGUoKSwKICAgICAgICBub21ldHJhbnNwOiAiIiwKICAgICAgICBtb3RvcmlzdGE6ICIiLAogICAgICAgIHBsYWNhOiAiIgogICAgICB9LAogICAgICBmaWx0cm86ICIiLAogICAgICBmaWx0ZXJPbjogWyJpZCIsICJ0cmFuc3AiLCAibW90b3Jpc3RhIiwgInBsYWNhIl0sCiAgICAgIGZpbHRyb2Fzc2luYWRvczogZmFsc2UsCiAgICAgIGZpbHRyb2NvbGV0YWRvczogdHJ1ZSwKICAgICAgdGltZXI6IG51bGwsCiAgICAgIHVwZGF0ZXRpbWVvdXQ6IDE1MDAwLAogICAgICB1cGRhdGVzdG9wOiBmYWxzZSwKICAgICAgZGF0YTogW10sCiAgICAgIG1hcmNhczogW10sCiAgICAgIHNpZ09wY29lczogW10sCiAgICAgIHRhYkluZGV4OiAwLAogICAgICBzaWdJbWFnZTogbnVsbCwKICAgICAgc2lnSW1hZ2VDb25mOiBudWxsLAogICAgICBzaWdPYnNDb25mOiAiIiwKICAgICAgc2lnQ2hhbmdlOiBmYWxzZSwKICAgICAgc2lnQ2hhbmdlQ29uZjogZmFsc2UsCiAgICAgIHNlbGVjdGVkOiBbXSwKICAgICAgcGVkaWRvc3NlbGVjdGVkOiBudWxsLAogICAgICBwZWRpZG9zOiBbXSwKICAgICAgb3Bjb2VzOiBbXSwKICAgICAgZm9ybWNvbGxhcHNlZDogZmFsc2UKICAgIH07CiAgfSwKCiAgY29tcHV0ZWQ6IHsKICAgIGZpZWxkcygpIHsKICAgICAgcmV0dXJuIFsvLyB7IGtleTogInRyYW5zcCIsIGxhYmVsOiAiVHJhbnNwb3J0YWRvcmEiLCBzb3J0YWJsZTogdHJ1ZSB9LAogICAgICAvLyB7IGtleTogIm1vdG9yaXN0YSIsIHNvcnRhYmxlOiB0cnVlIH0sCiAgICAgIC8vIHsga2V5OiAicGxhY2EiLCBzb3J0YWJsZTogdHJ1ZSB9LAogICAgICAvLyB7IGtleTogInBlcmMiLCBsYWJlbDogIkNvbGV0YXMiLCBzb3J0YWJsZTogdHJ1ZSB9LAogICAgICB7CiAgICAgICAga2V5OiAiY2FyZ2EiLAogICAgICAgIGxhYmVsOiAiQ2FyZ2EiCiAgICAgIH0sIHsKICAgICAgICBrZXk6ICJhY3Rpb25zIiwKICAgICAgICBsYWJlbDogIiIsCiAgICAgICAgc29ydGFibGU6IGZhbHNlCiAgICAgIH1dOwogICAgfSwKCiAgICBwYXJhbXMoKSB7CiAgICAgIHJldHVybiB7CiAgICAgICAgaWRDYXJyZWdhbWVudG86IHRoaXMuZm9ybS5pZENhcnJlZ2FtZW50bywKICAgICAgICBlbnRyYWRhOiB0aGlzLmZvcm0uZW50cmFkYSwKICAgICAgICBub21ldHJhbnNwOiB0aGlzLmZvcm0ubm9tZXRyYW5zcCwKICAgICAgICBtb3RvcmlzdGE6IHRoaXMuZm9ybS5tb3RvcmlzdGEsCiAgICAgICAgcGxhY2E6IHRoaXMuZm9ybS5wbGFjYQogICAgICB9OwogICAgfSwKCiAgICBtYXJjYXNzZWxlY3RlZCgpIHsKICAgICAgcmV0dXJuIHRoaXMubWFyY2FzLmZpbHRlcihtID0+IG0uY2hlY2tlZCk7CiAgICB9LAoKICAgIHJvbWFuZWlvcygpIHsKICAgICAgcmV0dXJuIHRoaXMuZGF0YS5tYXAociA9PiAoewogICAgICAgIGlkOiByLmlkLAogICAgICAgIGNvZFRyYW5zcDogci5Db2RpZ29fVHJhbnNwLAogICAgICAgIHRyYW5zcDogci5SYXphb19Tb2NpYWwsCiAgICAgICAgbW90b3Jpc3RhOiByLk1vdG9yaXN0YSwKICAgICAgICB1bHRpbWFjb2xldGE6IHIuVWx0aW1hQ29sZXRhLAogICAgICAgIHZvbHVtZXM6IHIuVFZvbHVtZXMsCiAgICAgICAgY29sZXRhZG9zOiByLlRWb2x1bWVzQ29sZXRhZG9zLAogICAgICAgIFRQZWRpZG9zOiByLlRQZWRpZG9zLAogICAgICAgIHBlcmM6IHIuUGVyY0NvbGV0YWRvcywKICAgICAgICBwbGFjYTogci5QbGFjYSwKICAgICAgICBzaWdJbWFnZTogci5zaWdJbWFnZSwKICAgICAgICBzaWdJbWFnZUNvbmY6IHIuc2lnSW1hZ2VDb25mLAogICAgICAgIFBlcmNBc3NpbmFkb3M6IHIuUGVyY0Fzc2luYWRvcywKICAgICAgICBzaWdPYnNDb25mOiByLnNpZ09ic0NvbmYsCiAgICAgICAgc2lnbmVkOiByLnNpZ0ltYWdlICYmIHIuc2lnSW1hZ2UgIT09ICIiIHx8IHIuc2lnSW1hZ2VDb25mICYmIHIuc2lnSW1hZ2VDb25mICE9PSAiIiA/IHRydWUgOiBmYWxzZSwKICAgICAgICBSb21hbmVpb3M6IHIuUm9tYW5laW9zIHx8IFtdLAogICAgICAgIGNvbGxhcHNlZDogci5jb2xsYXBzZWQsCiAgICAgICAgY2hlY2tlZDogci5jaGVja2VkLAogICAgICAgIE9wY29lczogci5PcGNvZXMsCiAgICAgICAgX3Jvd1ZhcmlhbnQ6IHIuc2lnSW1hZ2UgJiYgci5zaWdJbWFnZUNvbmYgPyAnc3VjY2VzcycgOiAnJwogICAgICB9KSkuZmlsdGVyKGYgPT4gdGhpcy5yb21hbmVpb3NmaWx0cm9zKGYpKTsgLy8uZmlsdGVyKGY9PmYuc2lnbmVkID09IHRoaXMuZmlsdHJvYXNzaW5hZG9zICYmIChmLnBlcmMgPiA5OSkgPT0gdGhpcy5maWx0cm9jb2xldGFkb3MgKQogICAgfSwKCiAgICBwYXJhbXNpZ25hdHVyZSgpIHsKICAgICAgcmV0dXJuIHsKICAgICAgICBpZENhcnJlZ2FtZW50bzogdGhpcy5zZWxlY3RlZC5pZCwKICAgICAgICBzaWdJbWFnZTogdGhpcy5zaWdJbWFnZSwKICAgICAgICBzaWdJbWFnZUNvbmY6IHRoaXMuc2lnSW1hZ2VDb25mLAogICAgICAgIHNpZ09ic0NvbmY6IHRoaXMuc2lnT2JzQ29uZiwKICAgICAgICBvcGNvZXM6IEpTT04uc3RyaW5naWZ5KHRoaXMub3Bjb2VzKSwKICAgICAgICByb21hbmVpb3M6IHRoaXMuc2VsZWN0ZWQuUm9tYW5laW9zLmZpbHRlcihyID0+IHIuY2hlY2tlZCkKICAgICAgfTsKICAgIH0sCgogICAgc2lnbmF0dXJlT3B0aW9ucygpIHsKICAgICAgcmV0dXJuIHRoaXMuc2lnT3Bjb2VzLm1hcChvID0+ICh7CiAgICAgICAgdGV4dDogby5kZXNjcmljYW8sCiAgICAgICAgdmFsdWU6IG8uaWQKICAgICAgfSkpOwogICAgfSwKCiAgICBzZWxlY3RlZGNoZWNrZWQoKSB7CiAgICAgIHJldHVybiB0aGlzLnNlbGVjdGVkLlJvbWFuZWlvcyA/IHRoaXMuc2VsZWN0ZWQuUm9tYW5laW9zLmZpbHRlcihjID0+IGMuY2hlY2tlZCkgOiBbXTsKICAgIH0sCgogICAgc2VsZWN0ZWRjaGVja2VkbGVuZ3RoKCkgewogICAgICByZXR1cm4gdGhpcy5zZWxlY3RlZGNoZWNrZWQubGVuZ3RoIHx8IDA7CiAgICB9LAoKICAgIHNpZ25hdHVyZUZpZWxkcygpIHsKICAgICAgcmV0dXJuIHsKICAgICAgICBUcmFuc3BvcnRhZG9yYTogdGhpcy5zZWxlY3RlZC50cmFuc3AsCiAgICAgICAgTW90b3Jpc3RhOiB0aGlzLnNlbGVjdGVkLm1vdG9yaXN0YSwKICAgICAgICBQbGFjYTogdGhpcy5zZWxlY3RlZC5wbGFjYQogICAgICB9OwogICAgfSwKCiAgICBzaWduYXR1cmVWYWxpZCgpIHsKICAgICAgcmV0dXJuIHRoaXMuc2lnQ2hhbmdlICYmIHRoaXMuc2lnSW1hZ2UgJiYgdGhpcy5zaWdJbWFnZSAhPT0gIiIgfHwgdGhpcy5zaWdDaGFuZ2VDb25mICYmIHRoaXMuc2lnSW1hZ2VDb25mICYmIHRoaXMuc2lnSW1hZ2VDb25mICE9PSAiIjsKICAgIH0sCgogICAgc2lnbmF0dXJlVGl0bGUoKSB7CiAgICAgIHJldHVybiAiQ2FyZ2E6ICIgKyAodGhpcy5zZWxlY3RlZCAmJiB0aGlzLnNlbGVjdGVkLmlkIHx8ICIiKTsKICAgIH0sCgogICAgcGVkaWRvc1RpdGxlKCkgewogICAgICByZXR1cm4gIlJvbWFuZWlvOiAiICsgKHRoaXMucGVkaWRvcyAmJiB0aGlzLnBlZGlkb3NbMF0gJiYgdGhpcy5wZWRpZG9zWzBdLlJvbWFuZWlvIHx8ICIiKTsKICAgIH0sCgogICAgcGVkaWRvc05vdGFzU3BsaXQoKSB7CiAgICAgIHJldHVybiB0aGlzLnBlZGlkb3MgJiYgdGhpcy5wZWRpZG9zWzBdICYmIHRoaXMucGVkaWRvc1swXS5Ob3RhcyAmJiB0aGlzLnBlZGlkb3NbMF0uTm90YXMubWFwKG4gPT4gbi5OdW1lcm9fbm90YSkuam9pbigiLCIpIHx8ICIiOwogICAgfQoKICB9LAoKICBiZWZvcmVNb3VudCgpIHsKICAgIHRoaXMuZ2V0Q2FycmVnYW1lbnRvKCk7CiAgICB0aGlzLmdldENhcnJlZ2FtZW50b09wY29lcygpOwogICAgdGhpcy5nZXRNYXJjYXMoKTsgLy8gc2V0YSBvIHRpbWVyIHF1ZSBhdHVhbGl6YSBvcyB0b3RhaXMgLi4uCgogICAgdGhpcy51cGRhdGVzdG9wID0gZmFsc2U7CiAgICB0aGlzLnRpbWVyID0gc2V0SW50ZXJ2YWwoKCkgPT4gewogICAgICBpZiAoIXRoaXMudXBkYXRlc3RvcCkgdGhpcy5nZXRDYXJyZWdhbWVudG9Ub3RhaXMoKTsKICAgIH0sIHRoaXMudXBkYXRldGltZW91dCk7CiAgfSwKCiAgbWV0aG9kczogewogICAgdGVzdGUodmFsKSB7CiAgICAgIGNvbnNvbGUubG9nKCd0ZXN0ZTonLCB2YWwpOwogICAgICB2YWwuY29sbGFwc2VkID0gIXZhbC5jb2xsYXBzZWQ7CiAgICB9LAoKICAgIHJvbWFuZWlvc2ZpbHRyb3MoaXRlbSkgewogICAgICAvLyBjb25zb2xlLmxvZygncm9tYW5laW9zZmlsdHJvcyhpdGVtKScsIGl0ZW0pOwogICAgICBsZXQgcmV0ID0gZmFsc2U7CiAgICAgIGNvbnN0IG1hcmNhcyA9IHRoaXMubWFyY2FzLmZpbHRlcihtID0+IG0uY2hlY2tlZCkubWFwKG0gPT4gbS5pZCkgfHwgW107IC8vY29uc3QgbWFyY2FzID0gW10KICAgICAgLy8gcmV0ID0gKChpdGVtLnNpZ25lZCA9PSB0aGlzLmZpbHRyb2Fzc2luYWRvcykgJiYgKChpdGVtLnBlcmMgPiA5OSkgPT0gdGhpcy5maWx0cm9jb2xldGFkb3MpKTsKCiAgICAgIHJldCA9IGl0ZW0uUGVyY0Fzc2luYWRvcyA9PSAxMDAgPT0gdGhpcy5maWx0cm9hc3NpbmFkb3M7CgogICAgICBpZiAobWFyY2FzLmxlbmd0aCA+IDApIHsKICAgICAgICByZXQgPSByZXQgJiYgaXRlbS5Sb21hbmVpb3MuZmlsdGVyKHIgPT4gci5NYXJjYXMuZmluZChtID0+IG1hcmNhcy5pbmNsdWRlcyhtLmlkKSkpLmxlbmd0aCA+IDA7CiAgICAgIH0KCiAgICAgIGlmICh0aGlzLmZpbHRybyAhPT0gIiIpIHsKICAgICAgICByZXQgPSByZXQgJiYgKGl0ZW0uaWQudG9TdHJpbmcoKS5pbmNsdWRlcyh0aGlzLmZpbHRybykgfHwgaXRlbS50cmFuc3AuaW5jbHVkZXModGhpcy5maWx0cm8udG9VcHBlckNhc2UoKSkgfHwgaXRlbS5tb3RvcmlzdGEuaW5jbHVkZXModGhpcy5maWx0cm8udG9VcHBlckNhc2UoKSkgfHwgaXRlbS5wbGFjYS5pbmNsdWRlcyh0aGlzLmZpbHRyby50b1VwcGVyQ2FzZSgpKSk7CiAgICAgIH0KCiAgICAgIHJldHVybiByZXQ7CiAgICB9LAoKICAgIG1hcmNhcihjaGVjaykgewogICAgICBpZiAodGhpcy5kYXRhLmZpbmQoZCA9PiBkLmlkID09IHRoaXMuc2VsZWN0ZWQuaWQpKSB7CiAgICAgICAgdGhpcy5kYXRhLmZpbmQoZCA9PiBkLmlkID09IHRoaXMuc2VsZWN0ZWQuaWQpLlJvbWFuZWlvcy5tYXAociA9PiB7CiAgICAgICAgICByLmNoZWNrZWQgPSBjaGVjazsKICAgICAgICB9KTsKICAgICAgfQogICAgfSwKCiAgICBtb2RhbHBlZGlkb3MocGVkaWRvcykgewogICAgICB0aGlzLnBlZGlkb3MgPSBwZWRpZG9zOwogICAgICB0aGlzLiRidk1vZGFsLnNob3coIm1vZGFsLXBlZGlkb3MiKTsKICAgIH0sCgogICAgZ2V0TWFyY2FzKCkgewogICAgICBBUEkuZ2V0KCJ2Mi9TZXJ2aWNvcy9NYXJjYXMvR2V0IiwgewogICAgICAgIHBlc3F1aXNhOiAiJSIsCiAgICAgICAgUGFnZVNpemU6IDMwCiAgICAgIH0pLnRoZW4oYXBpZGF0YSA9PiB7CiAgICAgICAgaWYgKGFwaWRhdGEuZGF0YS5TdWNjZXNzID09ICJUcnVlIiB8fCBhcGlkYXRhLmRhdGEuU3VjY2VzcykgewogICAgICAgICAgY29uc3QgcmVzID0gQVBJLnByZXBhcmVEYXRhKGFwaWRhdGEuZGF0YSk7CiAgICAgICAgICB0aGlzLm1hcmNhcyA9IHJlcy5hcGlyZXNwb25zZS5EYXRhOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICB0aGlzLm1hcmNhcyA9IFtdOwogICAgICAgIH0KICAgICAgfSk7CiAgICB9LAoKICAgIGdldENhcnJlZ2FtZW50b09wY29lcygpIHsKICAgICAgQVBJLmdldCgidjIvU2Vydmljb3MvQ2FycmVnYW1lbnRvL09wY29lc0dldCIsIHt9KS50aGVuKGFwaWRhdGEgPT4gewogICAgICAgIGlmIChhcGlkYXRhLmRhdGEuU3VjY2VzcyA9PSAiVHJ1ZSIgfHwgYXBpZGF0YS5kYXRhLlN1Y2Nlc3MpIHsKICAgICAgICAgIGNvbnN0IHJlcyA9IEFQSS5wcmVwYXJlRGF0YShhcGlkYXRhLmRhdGEpOwogICAgICAgICAgdGhpcy5zaWdPcGNvZXMgPSByZXMuYXBpcmVzcG9uc2UuRGF0YTsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgdGhpcy5zaWdPcGNvZXMgPSBbXTsKICAgICAgICB9CiAgICAgIH0pOwogICAgfSwKCiAgICBnZXRDYXJyZWdhbWVudG8oKSB7CiAgICAgIHRoaXMudXBkYXRlc3RvcCA9IHRydWU7CiAgICAgIEFQSS5nZXQoInYyL1NlcnZpY29zL0NhcnJlZ2FtZW50by9HZXQiLCB0aGlzLnBhcmFtcykudGhlbihhcGlkYXRhID0+IHsKICAgICAgICBpZiAoYXBpZGF0YS5kYXRhLlN1Y2Nlc3MgPT0gIlRydWUiIHx8IGFwaWRhdGEuZGF0YS5TdWNjZXNzKSB7CiAgICAgICAgICBjb25zdCByZXMgPSBBUEkucHJlcGFyZURhdGEoYXBpZGF0YS5kYXRhKTsKICAgICAgICAgIHRoaXMuZGF0YSA9IHJlcy5hcGlyZXNwb25zZS5EYXRhOwogICAgICAgICAgdGhpcy5mb3JtY29sbGFwc2VkID0gZmFsc2U7CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgIHRoaXMuZGF0YSA9IFtdOwogICAgICAgICAgdGhpcy5mb3JtY29sbGFwc2VkID0gdHJ1ZTsKICAgICAgICB9CiAgICAgIH0pOwogICAgfSwKCiAgICBnZXRDYXJyZWdhbWVudG9Ub3RhaXMoKSB7CiAgICAgIEFQSS5nZXQoInYyL1NlcnZpY29zL0NhcnJlZ2FtZW50b1RvdGFpcy9HZXQiLCB0aGlzLnBhcmFtcywgZmFsc2UpLnRoZW4oYXBpZGF0YSA9PiB7CiAgICAgICAgaWYgKGFwaWRhdGEuZGF0YS5TdWNjZXNzID09ICJUcnVlIiB8fCBhcGlkYXRhLmRhdGEuU3VjY2VzcykgewogICAgICAgICAgY29uc3QgcmVzID0gQVBJLnByZXBhcmVEYXRhKGFwaWRhdGEuZGF0YSk7CiAgICAgICAgICBjb25zb2xlLmxvZygnZ2V0Q2FycmVnYW1lbnRvVG90YWlzOmhpdCcpOwogICAgICAgICAgcmVzLmFwaXJlc3BvbnNlLkRhdGEubWFwKHQgPT4gewogICAgICAgICAgICBpZiAodGhpcy5kYXRhLmZpbmQoYyA9PiBjLmlkID09IHQuaWQpKSB7CiAgICAgICAgICAgICAgdGhpcy5kYXRhLmZpbmQoYyA9PiBjLmlkID09IHQuaWQpLlRWb2x1bWVzQ29sZXRhZG9zID0gdC5UVm9sdW1lc0NvbGV0YWRvczsKICAgICAgICAgICAgICB0aGlzLmRhdGEuZmluZChjID0+IGMuaWQgPT0gdC5pZCkuUGVyY0NvbGV0YWRvcyA9IHQuUGVyY0NvbGV0YWRvczsKICAgICAgICAgICAgICB0aGlzLmRhdGEuZmluZChjID0+IGMuaWQgPT0gdC5pZCkuc2lnSW1hZ2UgPSB0LnNpZ0ltYWdlOwogICAgICAgICAgICAgIHRoaXMuZGF0YS5maW5kKGMgPT4gYy5pZCA9PSB0LmlkKS5zaWdJbWFnZUNvbmYgPSB0LnNpZ0ltYWdlQ29uZjsKICAgICAgICAgICAgICB0aGlzLmRhdGEuZmluZChjID0+IGMuaWQgPT0gdC5pZCkuc2lnT2JzQ29uZiA9IHQuc2lnT2JzQ29uZjsKICAgICAgICAgICAgICB0aGlzLmRhdGEuZmluZChjID0+IGMuaWQgPT0gdC5pZCkuT3Bjb2VzID0gdC5PcGNvZXM7CiAgICAgICAgICAgICAgdGhpcy5kYXRhLmZpbmQoYyA9PiBjLmlkID09IHQuaWQpLlVsdGltYUNvbGV0YSA9IHQuVWx0aW1hQ29sZXRhOwogICAgICAgICAgICB9CiAgICAgICAgICB9KTsKICAgICAgICB9CiAgICAgIH0pOwogICAgfSwKCiAgICBhc3luYyBhc3NpbmFyKGl0ZW0pIHsKICAgICAgbGV0IHBlcmMgPSBpdGVtLnBlcmM7IC8vIHN1Z2VyaWRvIG7Do28gcG9kZXIgbGliZXJhciBzZW0gZXN0YXIgMTAwJSBjb2xldGFkbwoKICAgICAgLyoNCiAgICAgIGlmIChwZXJjIDwgMTAwKSB7DQogICAgICAgIHRoaXMuJHJvb3QudG9hc3RkYW5nZXIoIkEgY2FyZ2EgbsOjbyBlc3TDoSAxMDAlIGNvbGV0YWRhLCBuw6NvIMOpIHBvc3PDrXZlbCBzb2xpY2l0YXIgYSBhc3NpbmF0dXJhICEiKTsNCiAgICAgIH0NCiAgICAgICovCgogICAgICBpZiAocGVyYyA8IDEwMCkgewogICAgICAgIGF3YWl0IHRoaXMuJHJvb3Quc2hvd21lc3NhZ2UoJ0EgY2FyZ2EgbsOjbyBlc3TDoSAxMDAlIGNvbGV0YWRhLCBkZXNlamEgcmVhbG1lbnRlIHNvbGljaXRhciBhIGFzc2luYXR1cmEgPycpLnRoZW4oY2hvaWNlID0+IHsKICAgICAgICAgIGlmIChjaG9pY2UpIHsKICAgICAgICAgICAgcGVyYyA9IDEwMDsKICAgICAgICAgIH0KICAgICAgICB9KTsKICAgICAgfQoKICAgICAgaWYgKHBlcmMgPiA5OS45KSB7CiAgICAgICAgLy8gdGhpcy5zZWxlY3RlZCA9IGl0ZW07CiAgICAgICAgdGhpcy5kb3NlbGVjdGVkKGl0ZW0pOyAvLyBjb25zb2xlLmxvZygiYXNzaW5hci5vcGNvZXM6IiwgaXRlbS5PcGNvZXMpOwoKICAgICAgICBpZiAoaXRlbS5Sb21hbmVpb3MuZmluZChyID0+IHIuY2hlY2tlZCkpIHsKICAgICAgICAgIHRoaXMuc2lnSW1hZ2UgPSBpdGVtLlJvbWFuZWlvcy5maW5kKHIgPT4gci5jaGVja2VkKS5zaWdJbWFnZTsKICAgICAgICAgIHRoaXMuc2lnSW1hZ2VDb25mID0gaXRlbS5Sb21hbmVpb3MuZmluZChyID0+IHIuY2hlY2tlZCkuc2lnSW1hZ2VDb25mOwogICAgICAgICAgdGhpcy5zaWdPYnNDb25mID0gaXRlbS5Sb21hbmVpb3MuZmluZChyID0+IHIuY2hlY2tlZCkuc2lnT2JzQ29uZjsKICAgICAgICAgIHRoaXMub3Bjb2VzID0gSlNPTi5wYXJzZShpdGVtLlJvbWFuZWlvcy5maW5kKHIgPT4gci5jaGVja2VkKS5PcGNvZXMgfHwgIltdIik7CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgIHRoaXMuc2lnSW1hZ2UgPSBpdGVtLnNpZ0ltYWdlOwogICAgICAgICAgdGhpcy5zaWdJbWFnZUNvbmYgPSBpdGVtLnNpZ0ltYWdlQ29uZjsKICAgICAgICAgIHRoaXMuc2lnT2JzQ29uZiA9IGl0ZW0uc2lnT2JzQ29uZjsKICAgICAgICAgIHRoaXMub3Bjb2VzID0gSlNPTi5wYXJzZShpdGVtLk9wY29lcyB8fCAiW10iKTsKICAgICAgICB9CgogICAgICAgIHRoaXMuc2lnQ2hhbmdlID0gZmFsc2U7CiAgICAgICAgdGhpcy5zaWdDaGFuZ2VDb25mID0gZmFsc2U7IC8vIGNvbnNvbGUubG9nKCJhc3NpbmFyLml0ZW06IiwgaXRlbSk7CgogICAgICAgIHRoaXMuJGJ2TW9kYWwuc2hvdygibW9kYWwtYXNzaW5hciIpOwogICAgICB9CiAgICB9LAoKICAgIGFzc2luYXJyb21hbmVpbyhjYXJnYSwgcm9tYW5laW8pIHsKICAgICAgaWYgKHRoaXMuZGF0YS5maW5kKGQgPT4gZC5pZCA9PSBjYXJnYS5pZCkpIHsKICAgICAgICAvLyBkZXNtYXJjYSBvcyBvdXRyb3MgLi4uIAogICAgICAgIHRoaXMuZGF0YS5maW5kKGQgPT4gZC5pZCA9PSBjYXJnYS5pZCkuUm9tYW5laW9zLmZpbHRlcihyID0+IHIuY2hlY2tlZCkubWFwKG0gPT4gbS5jaGVja2VkID0gZmFsc2UpOwoKICAgICAgICBpZiAodGhpcy5kYXRhLmZpbmQoZCA9PiBkLmlkID09IGNhcmdhLmlkKS5Sb21hbmVpb3MuZmluZChyID0+IHIuUm9tYW5laW8gPT0gcm9tYW5laW8pKSB7CiAgICAgICAgICB0aGlzLmRhdGEuZmluZChkID0+IGQuaWQgPT0gY2FyZ2EuaWQpLlJvbWFuZWlvcy5maW5kKHIgPT4gci5Sb21hbmVpbyA9PSByb21hbmVpbykuY2hlY2tlZCA9IHRydWU7CiAgICAgICAgICB0aGlzLmFzc2luYXIoY2FyZ2EpOwogICAgICAgIH0KICAgICAgfQogICAgfSwKCiAgICBzaWduYXR1cmVTaG93bigpIHsKICAgICAgdGhpcy51cGRhdGVzdG9wID0gdHJ1ZTsKICAgIH0sCgogICAgc2lnbmF0dXJlSGlkZGVuKCkgewogICAgICB0aGlzLnVwZGF0ZXN0b3AgPSBmYWxzZTsKICAgIH0sCgogICAgc2lnbmF0dXJlT2soKSB7CiAgICAgIC8vIGNvbnNvbGUubG9nKCJzaWduYXR1cmVPay5zaWdJbWFnZToiLCB0aGlzLnNpZ0ltYWdlKTsKICAgICAgQVBJLnBvc3QoInYyL1NlcnZpY29zL0NhcnJlZ2FtZW50by9TaWduYXR1cmVTZXQiLCB0aGlzLnBhcmFtc2lnbmF0dXJlKS50aGVuKGFwaWRhdGEgPT4gewogICAgICAgIGlmIChhcGlkYXRhLmRhdGEuU3VjY2VzcyA9PSAiVHJ1ZSIgfHwgYXBpZGF0YS5kYXRhLlN1Y2Nlc3MpIHsKICAgICAgICAgIGlmICh0aGlzLmRhdGEuZmluZChjID0+IGMuaWQgPT0gdGhpcy5zZWxlY3RlZC5pZCkpIHsKICAgICAgICAgICAgdGhpcy5kYXRhLmZpbmQoYyA9PiBjLmlkID09IHRoaXMuc2VsZWN0ZWQuaWQpLnNpZ0ltYWdlID0gdGhpcy5zaWdJbWFnZTsKICAgICAgICAgICAgdGhpcy5kYXRhLmZpbmQoYyA9PiBjLmlkID09IHRoaXMuc2VsZWN0ZWQuaWQpLnNpZ0ltYWdlQ29uZiA9IHRoaXMuc2lnSW1hZ2VDb25mOwogICAgICAgICAgICB0aGlzLmRhdGEuZmluZChjID0+IGMuaWQgPT0gdGhpcy5zZWxlY3RlZC5pZCkuc2lnT2JzQ29uZiA9IHRoaXMuc2lnT2JzQ29uZjsKICAgICAgICAgICAgdGhpcy5kYXRhLmZpbmQoYyA9PiBjLmlkID09IHRoaXMuc2VsZWN0ZWQuaWQpLk9wY29lcyA9IEpTT04uc3RyaW5naWZ5KHRoaXMub3Bjb2VzKTsKICAgICAgICAgICAgdGhpcy5kYXRhLmZpbmQoYyA9PiBjLmlkID09IHRoaXMuc2VsZWN0ZWQuaWQpLlJvbWFuZWlvcy5maWx0ZXIociA9PiByLmNoZWNrZWQpLm1hcChkID0+IHsKICAgICAgICAgICAgICBkLnNpZ0ltYWdlID0gdGhpcy5zaWdJbWFnZTsKICAgICAgICAgICAgICBkLnNpZ0ltYWdlQ29uZiA9IHRoaXMuc2lnSW1hZ2VDb25mOwogICAgICAgICAgICAgIGQuc2lnT2JzQ29uZiA9IHRoaXMuc2lnT2JzQ29uZjsKICAgICAgICAgICAgICBkLk9wY29lcyA9IEpTT04uc3RyaW5naWZ5KHRoaXMub3Bjb2VzKTsKICAgICAgICAgICAgICBkLmNoZWNrZWQgPSBmYWxzZTsKICAgICAgICAgICAgfSk7CiAgICAgICAgICB9CgogICAgICAgICAgY29uc3QgcmVzID0gQVBJLnByZXBhcmVEYXRhKGFwaWRhdGEuZGF0YSk7CiAgICAgICAgICB0aGlzLiRyb290LnRvYXN0c3VjY2VzcyhyZXMuZGF0YVswXS5NZW5zYWdlbSk7CiAgICAgICAgICB0aGlzLnVwZGF0ZXN0b3AgPSBmYWxzZTsKCiAgICAgICAgICBpZiAoIXRoaXMuc2lnSW1hZ2UgfHwgdGhpcy5zaWdJbWFnZSA9PSAiIiB8fCAhdGhpcy5zaWdJbWFnZUNvbmYgfHwgdGhpcy5zaWdJbWFnZUNvbmYgPT0gIiIpIHsKICAgICAgICAgICAgaWYgKCF0aGlzLnNpZ0ltYWdlIHx8IHRoaXMuc2lnSW1hZ2UgPT0gIiIpIHRoaXMuJHJvb3QudG9hc3RkYW5nZXIoJ0Fzc2luYXR1cmEgZG8gbW90b3Jpc3RhIG7Do28gaW5mb3JtYWRhIScpOwogICAgICAgICAgICBpZiAoIXRoaXMuc2lnSW1hZ2VDb25mIHx8IHRoaXMuc2lnSW1hZ2VDb25mID09ICIiKSB0aGlzLiRyb290LnRvYXN0ZGFuZ2VyKCdBc3NpbmF0dXJhIGRvIGNvbmZlcmVudGUgbsOjbyBpbmZvcm1hZGEhJyk7CiAgICAgICAgICB9CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgIHRoaXMuJHJvb3QudG9hc3RkYW5nZXIoYXBpZGF0YS5FcnJvcik7CiAgICAgICAgICB0aGlzLmZvcm1jb2xsYXBzZWQgPSBmYWxzZTsKICAgICAgICB9CiAgICAgIH0pOwogICAgfSwKCiAgICBkb3NlbGVjdGVkKGl0ZW0pIHsKICAgICAgdGhpcy5zZWxlY3RlZCA9IGl0ZW07CiAgICB9LAoKICAgIGNsYXNzcGVyYyhwZXJjKSB7CiAgICAgIHJldHVybiBwZXJjID4gOTkgPyAic3VjY2VzcyIgOiAicHJpbWFyeSI7CiAgICB9LAoKICAgIGNsYXNzc2VsZWN0ZWQoaXRlbSkgewogICAgICByZXR1cm4gaXRlbS5pZCA9PSB0aGlzLnNlbGVjdGVkLmlkID8gInByaW1hcnkiIDogIiI7CiAgICB9LAoKICAgIGNsYXNzcGVkaWRvcyhpdGVtKSB7CiAgICAgIHJldHVybiB0aGlzLnBlZGlkb3NzZWxlY3RlZCAmJiBpdGVtLlBlZGlkbyA9PSB0aGlzLnBlZGlkb3NzZWxlY3RlZC5QZWRpZG8gPyAicHJpbWFyeSIgOiAiIjsKICAgIH0KCiAgfSwKICB3YXRjaDogewogICAgZm9ybWNvbGxhcHNlZChjb2xsYXBzZWQpIHsKICAgICAgdGhpcy51cGRhdGVzdG9wID0gY29sbGFwc2VkOwogICAgfSwKCiAgICB1cGRhdGV0aW1lb3V0KCkgewogICAgICBjbGVhckludGVydmFsKHRoaXMudGltZXIpOwogICAgICB0aGlzLnRpbWVyID0gbnVsbDsKICAgICAgdGhpcy50aW1lciA9IHNldEludGVydmFsKCgpID0+IHsKICAgICAgICBpZiAoIXRoaXMudXBkYXRlc3RvcCkgdGhpcy5nZXRDYXJyZWdhbWVudG9Ub3RhaXMoKTsKICAgICAgfSwgdGhpcy51cGRhdGV0aW1lb3V0KTsKICAgIH0KCiAgfQp9Ow=="},{"version":3,"mappings":"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EAP,kEACAG,IADA,CACAC;QACA;UACA;UAEAb;UAEAiB;YACA;cACA;cACA;cACA;cACA;cACA;cACA;cACA;YACA;UACA,CAVA;QAWA;MACA,CAnBA;IAoBA,CApGA;;IAqGA;MACA,qBADA,CAGA;;MACA;AACA;AACA;AACA;AACA;;MACA;QACA,iBACAC,WADA,CACA,2EADA,EAEAN,IAFA,CAEAO;UACA;YACA9C;UACA;QACA,CANA;MAOA;;MAEA;QACA;QACA,sBAFA,CAGA;;QACA;UACA;UACA;UACA;UACA;QACA,CALA,MAKA;UACA;UACA;UACA;UACA;QACA;;QACA;QACA,2BAhBA,CAiBA;;QACA;MACA;IACA,CA5IA;;IA6IA+C;MACA;QACA;QACA;;QACA;UACA;UACA;QACA;MACA;IACA,CAtJA;;IAuJAC;MACA;IACA,CAzJA;;IA0JAC;MACA;IACA,CA5JA;;IA6JAC;MACA;MACAd,uEACAG,IADA,CACAC;QACA;UACA;YACA;YACA;YACA;YAAA;YACA;cACAW;cACAA;cACAA;cACAA;cACAA;YACA,CANA;UAOA;;UACA;UAEA;UACA;;UAEA;YACA;YACA;UACA;QACA,CAtBA,MAsBA;UACA;UACA;QACA;MACA,CA5BA;IA6BA,CA5LA;;IA6LAC;MACA;IACA,CA/LA;;IAgMAC;MACA;IACA,CAlMA;;IAmMAC;MACA;IACA,CArMA;;IAsMAC;MACA;IACA;;EAxMA,CAzIA;EAmVAC;IACAxE;MACA;IACA,CAHA;;IAIAd;MACAuF;MACA;MACA;QACA,sBACA;MACA,CAHA,EAGA,kBAHA;IAIA;;EAXA;AAnVA","names":["name","components","Signature","Properties","data","form","idCarregamento","entrada","nometransp","motorista","placa","filtro","filterOn","filtroassinados","filtrocoletados","timer","updatetimeout","updatestop","marcas","sigOpcoes","tabIndex","sigImage","sigImageConf","sigObsConf","sigChange","sigChangeConf","selected","pedidosselected","pedidos","opcoes","formcollapsed","computed","fields","key","label","sortable","params","marcasselected","romaneios","id","codTransp","transp","ultimacoleta","volumes","coletados","TPedidos","perc","PercAssinados","signed","Romaneios","collapsed","checked","Opcoes","_rowVariant","filter","f","paramsignature","signatureOptions","text","value","selectedchecked","selectedcheckedlength","signatureFields","Transportadora","Motorista","Placa","signatureValid","signatureTitle","pedidosTitle","pedidosNotasSplit","beforeMount","methods","teste","console","val","romaneiosfiltros","ret","item","marcar","r","modalpedidos","getMarcas","API","pesquisa","PageSize","then","apidata","getCarregamentoOpcoes","getCarregamento","getCarregamentoTotais","res","showmessage","choice","assinarromaneio","signatureShown","signatureHidden","signatureOk","d","doselected","classperc","classselected","classpedidos","watch","clearInterval"],"sourceRoot":"src/pages/carregamento/views","sources":["index.vue"],"sourcesContent":["<template>\r\n  <div class=\"mx-auto container\">\r\n    <b-card class=\"my-2\" header-bg-variant=\"primary\" header-text-variant=\"white\">\r\n    <template #header>\r\n    <div class=\"d-flex w-100 justify-content-between\">\r\n      <h4 class=\"mb-0\">Controle de cargas</h4>\r\n      <b-button-group>\r\n      <b-button variant=\"light\" v-b-toggle.collapseform>\r\n        <b-icon-caret-up v-if=\"formcollapsed\"/>\r\n        <b-icon-caret-down v-else/>\r\n        Filtros\r\n        </b-button>\r\n        <b-dropdown split variant=\"success\" @click=\"updatestop=false\" title=\"Atualização de coletas\" v-if=\"updatestop\">\r\n          <template #button-content>\r\n           <b-icon-play />\r\n           </template>\r\n           <b-dropdown-item-button @click=\"updatetimeout=5000\"><b-icon-toggle-on v-if=\"updatetimeout==5000\"/><b-icon-toggle-off v-else/><span class=\"ml-2\">Timer em 5 Segundos</span></b-dropdown-item-button>\r\n           <b-dropdown-item-button @click=\"updatetimeout=15000\"><b-icon-toggle-on v-if=\"updatetimeout==15000\"/><b-icon-toggle-off v-else/><span class=\"ml-2\">Timer em 15 Segundos</span></b-dropdown-item-button>\r\n           <b-dropdown-item-button @click=\"updatetimeout=30000\"><b-icon-toggle-on v-if=\"updatetimeout==30000\"/><b-icon-toggle-off v-else/><span class=\"ml-2\">Timer em 30 Segundos</span></b-dropdown-item-button>\r\n           <b-dropdown-item-button @click=\"updatetimeout=60000\"><b-icon-toggle-on v-if=\"updatetimeout==60000\"/><b-icon-toggle-off v-else/><span class=\"ml-2\">Timer em 1 minuto</span></b-dropdown-item-button>\r\n        </b-dropdown>\r\n        <!-- <b-button variant=\"success\" @click=\"updatestop=false\" v-if=\"updatestop\">\r\n          <b-icon-play />\r\n        </b-button>         -->\r\n        <b-button variant=\"danger\" @click=\"updatestop=true\" title=\"Pausar a atualização de coletas\" v-else>\r\n          <b-icon-pause />\r\n        </b-button> \r\n        </b-button-group>      \r\n      </div>\r\n    </template>\r\n      <!--\r\n      marcasselected: {{marcasselected}}<br />\r\n      selectedcheckedlength: {{selectedcheckedlength}}<br />\r\n      selectedchecked: {{selectedchecked}}<br />\r\n      selected: {{selected}}<br />\r\n      data: {{data}}<br />\r\n      romaneios[0]: {{romaneios[0]}}<br />\r\n      romaneios[2]: {{romaneios[2]}}\r\n       -->\r\n    <b-collapse id=\"collapseform\" v-model=\"formcollapsed\">\r\n    <b-row>\r\n      <b-col cols=\"12\" md=\"2\">\r\n      <b-form-group\r\n        id=\"input-group-idcarregamento\"\r\n        label-for=\"input-idcarregamento\"\r\n        label=\"Carga\"\r\n      >\r\n        <b-form-input\r\n          id=\"input-idcarregamento\"\r\n          type=\"number\"\r\n          v-model=\"form.idCarregamento\"\r\n        >\r\n        </b-form-input>\r\n      </b-form-group>\r\n      </b-col>\r\n      <b-col cols=\"12\" md=\"3\">\r\n      <b-form-group\r\n        id=\"input-group-database\"\r\n        label-for=\"input-database\"\r\n        label=\"Data Entrada\"\r\n      >\r\n        <b-form-datepicker\r\n          id=\"input-database\"\r\n          :date-format-options=\"{\r\n            year: 'numeric',\r\n            month: '2-digit',\r\n            day: '2-digit',\r\n          }\"\r\n          locale=\"pt\"\r\n          v-model=\"form.entrada\"\r\n        >\r\n        </b-form-datepicker>\r\n      </b-form-group>\r\n      </b-col>\r\n      <b-col cols=\"12\" md=\"4\">\r\n        <b-form-group\r\n        id=\"input-group-motorista\"\r\n        label-for=\"input-motorista\"\r\n        label=\"Motorista\"\r\n      >\r\n      <b-form-input id=\"input-motorista\" type=\"text\" v-model=\"form.motorista\" />\r\n      </b-form-group>\r\n      </b-col>\r\n      <b-col cols=\"12\" md=\"3\">\r\n        <b-form-group\r\n        id=\"input-group-placa\"\r\n        label-for=\"input-placa\"\r\n        label=\"Placa\"\r\n      >\r\n      <b-form-input id=\"input-placa\" type=\"text\" v-model=\"form.placa\" />\r\n      </b-form-group>\r\n      </b-col>\r\n    </b-row>\r\n\r\n    <b-row>\r\n      <b-col cols=\"12\">\r\n        <b-form-group\r\n        id=\"input-group-nometransp\"\r\n        label-for=\"input-nometransp\"\r\n        label=\"Transportadora\"\r\n      >\r\n      <b-form-input id=\"input-nometransp\" type=\"text\" v-model=\"form.nometransp\" />\r\n      </b-form-group>\r\n      </b-col>\r\n    </b-row>\r\n\r\n    <b-row>\r\n      <b-col cols=\"12\" class=\"mb-2 text-right\">\r\n        \r\n        <b-button variant=\"success\" @click=\"getCarregamento()\">\r\n          <b-icon-search />\r\n          Buscar\r\n        </b-button>\r\n        \r\n      </b-col>\r\n    </b-row>\r\n    <hr />\r\n    </b-collapse>\r\n\r\n    <b-row>\r\n      <b-col>\r\n        <b-input-group prepend=\"Filtro\" size=\"sm\" class=\"mb-2\">\r\n          <b-form-input\r\n            id=\"input-filtro\"\r\n            type=\"search\"\r\n            v-model=\"filtro\"\r\n            placeholder=\"Informe a carga, nome da transportadora, motorista ou placa...\"\r\n          ></b-form-input>\r\n        </b-input-group>\r\n      </b-col>\r\n    </b-row>\r\n    <b-row>\r\n      <b-col class=\"text-right\">\r\n        <div class=\"d-flex float-right align-items-center hspaced-4 mb-2\">\r\n          <b-dropdown size=\"sm\" text=\"Marcas\" variant=\"info\" right>\r\n            <b-form-checkbox\r\n              v-for=\"m of marcas\"\r\n              :key=\"m.id\"\r\n              class=\"mb-1 ml-1\" \r\n              switch\r\n              left\r\n              v-model=\"m.checked\">\r\n              {{m.reduzido}}\r\n            </b-form-checkbox>\r\n          </b-dropdown>\r\n          <b-form-checkbox switch v-model=\"filtroassinados\">Assinados</b-form-checkbox>\r\n        </div>\r\n      </b-col>\r\n    </b-row>\r\n\r\n    <b-row>\r\n    <b-col cols=\"12\" class=\"lista\">\r\n      <b-list-group>\r\n        <b-list-group-item \r\n          v-for=\"r in romaneios\"\r\n          v-b-toggle=\"`collapse-romaneio-${r.id}`\"\r\n          :variant=\"classselected(r)\" \r\n          :key=\"r.id\"\r\n          @click=\"doselected(r)\"\r\n          class=\"flex-column align-items-start\">\r\n\r\n          <div class=\"d-flex w-100 justify-content-between\">\r\n            <div class=\"mb-3\">Carga: <span class=\"mb-3\"><b><span v-copy @click.stop=\"\">{{r.id}}</span></b></span></div>\r\n            <div style=\"min-width: 80px;\">\r\n              <b-progress :value=\"r.perc\" :label=\"`${r.perc}%`\" :max=\"100\" :variant=\"classperc(r.perc)\" show-progress></b-progress>\r\n            </div>\r\n          </div>\r\n\r\n          <div class=\"d-flex w-100 justify-content-between\">\r\n            <h5 class=\"mb-3\">{{r.codTransp}} - {{r.transp}}</h5>\r\n            <div style=\"min-width: 80px;\">\r\n            <b-row>\r\n              <b-col class=\"text-right\">\r\n                <span class=\"iconbutton\" @click.stop=\"assinar(r)\">\r\n                  <b-icon-pen-fill v-if=\"r.PercAssinados==100\" variant=\"success\" title=\"Assinar\" />\r\n                  <b-icon-pen-fill v-else variant=\"danger\" title=\"Assinar\" />\r\n                </span>\r\n              </b-col>\r\n              <b-col class=\"text-right\">\r\n                <span>\r\n                  <b-form-checkbox @change=\"marcar\"/>\r\n                </span>\r\n              </b-col>\r\n            </b-row>\r\n            </div>\r\n          </div>\r\n\r\n          <div>\r\n            <b-row>\r\n              <b-col cols=\"6\">\r\n                <b-row style=\"font-style: italic; font-size: 14px;\">\r\n                  <b-col class=\"text-nowrap\" cols=\"12\" lg=\"3\">Romaneios: <b>{{r.Romaneios.length}}</b></b-col>\r\n                  <b-col class=\"text-nowrap\" cols=\"12\" lg=\"3\">Pedidos: <b>{{r.TPedidos}}</b></b-col>\r\n                  <b-col class=\"text-nowrap\" cols=\"12\" lg=\"3\">Volumes: <b>{{r.volumes}}</b></b-col>\r\n                  <b-col class=\"text-nowrap\" cols=\"12\" lg=\"3\">Última Coleta: <b>{{r.ultimacoleta | time}}</b></b-col>\r\n                </b-row>\r\n              </b-col>\r\n              <b-col cols=\"6\" class=\"text-right\">\r\n                <b-row>\r\n                  <b-col cols=\"12\" lg=\"9\">\r\n                    <span><b>{{r.motorista}}</b></span>\r\n                  </b-col>\r\n                  <b-col cols=\"12\" lg=\"3\">\r\n                    <span class=\"text-nowrap\" v-copy @click.stop=\"\">{{r.placa}}</span>\r\n                  </b-col>\r\n                </b-row>\r\n              </b-col>\r\n            </b-row>\r\n          </div>\r\n\r\n\r\n          <b-collapse \r\n            :id=\"`collapse-romaneio-${r.id}`\"\r\n            v-model=\"r.collapsed\"\r\n          >\r\n          <b-list-group>\r\n            <b-list-group-item\r\n              v-for=\"p in r.Romaneios\"\r\n              :key=\"p.Romaneio\"\r\n              :variant=\"p.checked==true ? 'warning' : p.sigImage ? 'success' : ''\"\r\n              @click.stop=\"\"\r\n            >\r\n              <div class=\"d-flex w-100 justify-content-between\">\r\n                <div class=\"mb-3\">Romaneio: <span class=\"font-weight-bold mb-3\" v-copy>{{p.Romaneio}}</span></div>\r\n                <div style=\"min-width: 80px;\">\r\n                  <b-progress :value=\"p.PercColetados\" :label=\"`${p.PercColetados}%`\" :max=\"100\" :variant=\"classperc(p.PercColetados)\" show-progress></b-progress>\r\n                </div>\r\n              </div>\r\n\r\n              <div class=\"d-flex w-100 justify-content-between\">\r\n                <div>\r\n                  <span class=\"text-nowrap iconbutton\" @click=\"modalpedidos(p.Pedidos)\">Pedidos: <b><span v-copy @click.stop=\"\">{{p.Pedidos.length}}</span></b></span> |\r\n                  <span class=\"text-nowrap\">Volumes: <b>{{p.TVolumes}}</b></span> |\r\n                  <span class=\"text-nowrap\">Peso: <b>{{p.PesoBruto}}</b></span> |\r\n                  <span class=\"text-nowrap\">Cubagem: <b>{{p.Cubagem}}</b></span>\r\n                </div>\r\n                <div>\r\n                  <b-row>\r\n                    <b-col>\r\n                      <span class=\"iconbutton\" v-if=\"p.sigImage\" @click.stop=\"assinarromaneio(r, p.Romaneio)\">\r\n                        <b-icon-pen-fill variant=\"success\" title=\"Assinar\" />\r\n                      </span>\r\n                    </b-col>\r\n                    <b-col>\r\n                      <b-form-checkbox v-model=\"p.checked\" @click.stop=\"\" />\r\n                    </b-col>\r\n                  </b-row>\r\n                </div>\r\n\r\n              </div>\r\n            </b-list-group-item>\r\n            </b-list-group>\r\n          </b-collapse>\r\n\r\n        </b-list-group-item>        \r\n      </b-list-group>\r\n      </b-col>\r\n    </b-row>\r\n    </b-card>\r\n    \r\n    <!-- MODAIS -->\r\n    <b-modal\r\n      id=\"modal-assinar\"\r\n      ref=\"modal-assinar\"\r\n      size=\"lg\"\r\n      scrollable\r\n      :title=\"signatureTitle\"\r\n      ok-only\r\n      ok-title=\"Confirmar Assinaturas\"\r\n      @shown=\"signatureShown\"\r\n      @ok=\"signatureOk\"\r\n      @hide=\"signatureHidden\"\r\n      :ok-disabled=\"!signatureValid\"\r\n    >\r\n    <b-card no-body>\r\n    <b-tabs card v-model=\"tabIndex\">\r\n      <b-tab title=\"Detalhes\" active>\r\n        <div class=\"p-3\">\r\n        <b-row>\r\n          <b-col class=\"colsalign\">\r\n            <span>Transportadora:</span>\r\n          </b-col>\r\n          <b-col cols=\"12\" sm=\"8\">\r\n            <div class=\"font-weight-bold\">{{selected.transp}}</div>\r\n          </b-col>\r\n        </b-row>\r\n        <b-row>\r\n          <b-col class=\"colsalign\">\r\n            <span class=\"colsalign\">Motorista:</span>\r\n          </b-col>\r\n          <b-col cols=\"12\" sm=\"8\">\r\n            <div class=\"font-weight-bold\">{{selected.motorista}}</div>\r\n          </b-col>\r\n        </b-row>\r\n        <b-row>\r\n          <b-col class=\"colsalign\">\r\n            <span>Placa:</span>\r\n          </b-col>\r\n          <b-col cols=\"12\" sm=\"8\">\r\n            <div class=\"font-weight-bold\">{{selected.placa}}</div>\r\n          </b-col>\r\n        </b-row>\r\n        <b-row>\r\n          <b-col class=\"colsalign\">\r\n            <span>Romaneios:</span>\r\n          </b-col>\r\n          <b-col cols=\"12\" sm=\"8\">\r\n            <div class=\"font-weight-bold\" :class=\"selectedcheckedlength > 0 ? 'text-danger' : ''\">{{`${selectedcheckedlength > 0 ? selectedcheckedlength+' de ' : ''}`}}{{selected && selected.Romaneios && selected.Romaneios.length}}</div>\r\n          </b-col>\r\n        </b-row>\r\n        <b-row>\r\n          <b-col class=\"colsalign\">\r\n            <span>Volumes:</span>\r\n          </b-col>\r\n          <b-col cols=\"12\" sm=\"8\">\r\n            <div class=\"font-weight-bold\">{{selected.volumes}}</div>\r\n          </b-col>\r\n        </b-row>\r\n        <b-row>\r\n          <b-col class=\"colsalign\">\r\n            <span>Última Coleta:</span>\r\n          </b-col>\r\n          <b-col cols=\"12\" sm=\"8\">\r\n            <div class=\"font-weight-bold\">{{selected.ultimacoleta | dateBR}} {{selected.ultimacoleta | time}}</div>\r\n          </b-col>\r\n        </b-row>\r\n        </div>\r\n      </b-tab>\r\n      <b-tab title=\"Assinatura Motorista\">\r\n        <Signature\r\n          v-if=\"tabIndex==1\"\r\n          ref=\"signatureRef\"\r\n          :sigImage=\"sigImage\"\r\n          :buttons=\"['clear']\"\r\n          @evtSignatureChange=\"sigChange=true\"\r\n          v-model=\"sigImage\" />\r\n      </b-tab>\r\n      <b-tab title=\"Assinatura Conferente\">\r\n        <b-form-group\r\n          id=\"input-group-obsconferente\"\r\n          label-for=\"input-obsconferente\"\r\n          label=\"Observação\"\r\n        >\r\n        <b-form-textarea \r\n          id=\"input-obsconferente\"\r\n          rows=\"3\" v-model=\"sigObsConf\"\r\n        />\r\n        </b-form-group>\r\n        <b-form-group\r\n          id=\"input-group-opcoes\"\r\n          label-for=\"input-opcoes\"\r\n          label=\"Opções\"\r\n        >\r\n        <b-form-checkbox-group \r\n          id=\"input-opcoes\"\r\n          :options=\"signatureOptions\"\r\n          v-model=\"opcoes\"\r\n        />\r\n      </b-form-group>\r\n        <Signature\r\n          v-if=\"tabIndex==2\"\r\n          ref=\"signatureConfRef\"\r\n          :sigImage=\"sigImageConf\"\r\n          :buttons=\"['clear']\"\r\n          @evtSignatureChange=\"sigChangeConf=true\"\r\n          v-model=\"sigImageConf\" />\r\n      </b-tab>\r\n    </b-tabs>\r\n    </b-card>\r\n    </b-modal>\r\n\r\n    <b-modal\r\n      id=\"modal-pedidos\"\r\n      ref=\"modal-pedidos\"\r\n      size=\"lg\"\r\n      scrollable\r\n      :title=\"pedidosTitle\"\r\n      ok-only\r\n      ok-title=\"Fechar\"\r\n    >\r\n      <b-list-group>\r\n        <b-list-group-item \r\n          v-b-toggle=\"`collapse-pedido-${p.Pedido}`\"\r\n          v-for=\"p in pedidos\"\r\n          :key=\"p.Pedido\"\r\n          :variant=\"classpedidos(p)\"\r\n          @click.stop=\"pedidosselected = p\"\r\n          class=\"flex-column align-items-start\">\r\n\r\n          <div class=\"d-flex w-100 justify-content-between\">\r\n            <div class=\"mb-3\">Pedido: <span class=\"mb-3\"><b><span v-copy @click.stop=\"\">{{p.Pedido}}</span></b></span> | <span class=\"text-nowrap\">Notas: <b><span v-copy @click.stop=\"\">{{pedidosNotasSplit}}</span></b></span></div>\r\n            <div style=\"min-width: 80px;\">\r\n              <b-progress :value=\"p.Percentual\" :label=\"`${p.Percentual}%`\" :max=\"100\" :variant=\"classperc(p.Percentual)\" show-progress></b-progress>\r\n            </div>\r\n          </div>\r\n          <div class=\"d-flex w-100 justify-content-between\">\r\n            <h5 class=\"mb-3\">{{p.Codigo_Cliente}} - {{p.NomeCliente}}</h5>\r\n          </div>\r\n\r\n          <div class=\"d-flex w-100 justify-content-between\">\r\n            <div style=\"font-weight: italic; font-size: 14px;\">\r\n              <span class=\"text-nowrap\">Marca: <b>{{p.marca}}</b></span> |\r\n              <span class=\"text-nowrap\">Volumes: <b>{{p.Volumes}}</b></span> |\r\n              <span class=\"text-nowrap\">Cubagem: <b>{{p.Cubagem}}</b></span> |\r\n              <span class=\"text-nowrap\">Peso Bruto: <b>{{p.PesoBruto}}</b></span>\r\n            </div>\r\n            <!-- <span class=\"font-weight-bold\">{{r.motorista}} [ {{r.placa}} ]</span> -->\r\n          </div>\r\n\r\n          <b-collapse \r\n            :id=\"`collapse-pedido-${p.Pedido}`\"\r\n            v-model=\"p.collapsed\">\r\n          <b-list-group>\r\n            <b-list-group-item\r\n              v-for=\"n in p.Notas\"\r\n              :key=\"n.Numero_nota\"\r\n              @click.stop=\"\">\r\n              <div class=\"d-flex w-100 justify-content-between\">\r\n                <div class=\"mb-3\">Nota: <span class=\"font-weight-bold mb-3\" v-copy @click.stop=\"\">{{n.Numero_nota}}</span></div>\r\n                <div style=\"min-width: 80px;\">\r\n                  <b-progress :value=\"n.PercColeta\" :label=\"`${n.PercColeta}%`\" :max=\"100\" :variant=\"classperc(n.PercColeta)\" show-progress></b-progress>\r\n                </div>\r\n              </div>\r\n              <div class=\"d-flex w-100 justify-content-between\">\r\n                <div style=\"font-weight: italic; font-size: 14px;\">\r\n                  <span class=\"text-nowrap\">Volumes: <b>{{n.TVolumes}}</b></span> |\r\n                  <span class=\"text-nowrap\">Última Coleta: <b>{{n.UltimaColeta | dateBR}} {{n.UltimaColeta | time}}</b></span>\r\n                </div>\r\n                <!-- <span class=\"font-weight-bold\">{{r.motorista}} [ {{r.placa}} ]</span> -->\r\n              </div>\r\n            </b-list-group-item>\r\n          </b-list-group>\r\n          </b-collapse>\r\n        </b-list-group-item> \r\n      </b-list-group>\r\n    </b-modal>\r\n\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport API from \"../../../services/api.service\";\r\nimport Signature from \"../../../components/Signature\";\r\nimport Properties from \"../../../components/Properties\";\r\nexport default {\r\n  name: \"Carregamento\",\r\n  components: {\r\n    Signature,\r\n    Properties\r\n  },\r\n  data() {\r\n    return {\r\n      form: {\r\n        idCarregamento: 0,\r\n        entrada: new Date(),\r\n        nometransp: \"\",\r\n        motorista: \"\",\r\n        placa: \"\"\r\n      },\r\n      filtro: \"\",\r\n      filterOn: [\"id\", \"transp\", \"motorista\", \"placa\"],\r\n      filtroassinados: false,\r\n      filtrocoletados: true,\r\n      timer: null,\r\n      updatetimeout: 15000,\r\n      updatestop: false,\r\n      data: [],\r\n      marcas: [],\r\n      sigOpcoes: [],\r\n      tabIndex: 0,\r\n      sigImage: null,\r\n      sigImageConf: null,\r\n      sigObsConf: \"\",\r\n      sigChange: false,\r\n      sigChangeConf: false,\r\n      selected: [],\r\n      pedidosselected: null,\r\n      pedidos: [],\r\n      opcoes: [],\r\n      formcollapsed: false\r\n    };\r\n  },\r\n  computed: {\r\n    fields() {\r\n      return  [\r\n        // { key: \"transp\", label: \"Transportadora\", sortable: true },\r\n        // { key: \"motorista\", sortable: true },\r\n        // { key: \"placa\", sortable: true },\r\n        // { key: \"perc\", label: \"Coletas\", sortable: true },\r\n        { key: \"carga\", label: \"Carga\"},\r\n        { key: \"actions\", label: \"\", sortable: false }\r\n      ]\r\n    },\r\n    params() {\r\n      return {\r\n        idCarregamento: this.form.idCarregamento,\r\n        entrada: this.form.entrada,\r\n        nometransp: this.form.nometransp,\r\n        motorista: this.form.motorista,\r\n        placa: this.form.placa\r\n      }\r\n    },\r\n    marcasselected() {\r\n      return this.marcas.filter(m=>m.checked);\r\n    },\r\n    romaneios() {\r\n      return this.data.map(r=>({\r\n        id: r.id,\r\n        codTransp: r.Codigo_Transp,\r\n        transp: r.Razao_Social,\r\n        motorista: r.Motorista,\r\n        ultimacoleta: r.UltimaColeta,\r\n        volumes: r.TVolumes,\r\n        coletados: r.TVolumesColetados,\r\n        TPedidos: r.TPedidos,\r\n        perc: r.PercColetados,\r\n        placa: r.Placa,\r\n        sigImage: r.sigImage,\r\n        sigImageConf: r.sigImageConf,\r\n        PercAssinados: r.PercAssinados,\r\n        sigObsConf: r.sigObsConf,\r\n        signed: ((r.sigImage && r.sigImage !== \"\") || (r.sigImageConf && r.sigImageConf !== \"\")) ? true : false,\r\n        Romaneios: r.Romaneios || [],\r\n        collapsed: r.collapsed,\r\n        checked: r.checked,\r\n        Opcoes: r.Opcoes,\r\n        _rowVariant: r.sigImage && r.sigImageConf ? 'success' : ''\r\n      })).filter(f=>this.romaneiosfiltros(f))\r\n      //.filter(f=>f.signed == this.filtroassinados && (f.perc > 99) == this.filtrocoletados )\r\n    },\r\n    paramsignature() {\r\n      return {\r\n        idCarregamento: this.selected.id,\r\n        sigImage: this.sigImage,\r\n        sigImageConf: this.sigImageConf,\r\n        sigObsConf: this.sigObsConf,\r\n        opcoes: JSON.stringify(this.opcoes),\r\n        romaneios: this.selected.Romaneios.filter(r=>r.checked)\r\n      }\r\n    },\r\n    signatureOptions() {\r\n      return this.sigOpcoes.map(o=>({\r\n        text: o.descricao,\r\n        value: o.id\r\n      }))\r\n    },\r\n    selectedchecked() {\r\n      return this.selected.Romaneios ? this.selected.Romaneios.filter(c=>c.checked) : [];\r\n    },\r\n    selectedcheckedlength() {\r\n      return this.selectedchecked.length || 0;\r\n    },\r\n    signatureFields() {\r\n      return {Transportadora: this.selected.transp, Motorista: this.selected.motorista, Placa: this.selected.placa};\r\n    },\r\n    signatureValid() {\r\n      return ((this.sigChange && this.sigImage && this.sigImage !== \"\") || (this.sigChangeConf && this.sigImageConf && this.sigImageConf !== \"\"));\r\n    },\r\n    signatureTitle() {\r\n      return \"Carga: \" + ((this.selected && this.selected.id) || \"\");\r\n    },\r\n    pedidosTitle() {\r\n      return \"Romaneio: \" + ((this.pedidos && this.pedidos[0] && this.pedidos[0].Romaneio) || \"\");\r\n    },\r\n    pedidosNotasSplit() {\r\n      return ((this.pedidos && this.pedidos[0] && this.pedidos[0].Notas && this.pedidos[0].Notas.map(n=>(n.Numero_nota)).join(\",\")) || \"\")\r\n    }\r\n  },\r\n  beforeMount() {\r\n    this.getCarregamento();\r\n    this.getCarregamentoOpcoes();\r\n    this.getMarcas();\r\n\r\n    // seta o timer que atualiza os totais ...\r\n    this.updatestop = false;\r\n    this.timer = setInterval(() => {\r\n      if (!this.updatestop)\r\n        this.getCarregamentoTotais();\r\n    }, this.updatetimeout);\r\n\r\n  },\r\n  methods: {\r\n    teste(val) {\r\n      console.log('teste:',val);\r\n      val.collapsed = !val.collapsed;\r\n    },\r\n    romaneiosfiltros(item) {\r\n      // console.log('romaneiosfiltros(item)', item);\r\n      let ret = false;\r\n      const marcas = this.marcas.filter(m => m.checked).map(m => (m.id)) || [];\r\n      //const marcas = []\r\n\r\n      // ret = ((item.signed == this.filtroassinados) && ((item.perc > 99) == this.filtrocoletados));\r\n      ret = ((item.PercAssinados == 100) == this.filtroassinados);\r\n\r\n      if (marcas.length > 0) {\r\n        ret = ret && (item.Romaneios.filter(r => r.Marcas.find(m => marcas.includes(m.id))).length > 0);\r\n      }\r\n\r\n\r\n      if (this.filtro !== \"\") {\r\n        ret = ret && (\r\n          item.id.toString().includes(this.filtro) ||\r\n          item.transp.includes(this.filtro.toUpperCase()) ||\r\n          item.motorista.includes(this.filtro.toUpperCase()) ||\r\n          item.placa.includes(this.filtro.toUpperCase())\r\n        )\r\n      }\r\n\r\n      return ret;\r\n\r\n    },\r\n    marcar(check) {\r\n      if (this.data.find(d=>d.id == this.selected.id)) {\r\n        this.data.find(d=>d.id == this.selected.id).Romaneios.map(r=>{\r\n          r.checked = check\r\n        })\r\n      }\r\n    },\r\n    modalpedidos(pedidos) {\r\n      this.pedidos = pedidos;\r\n      this.$bvModal.show(\"modal-pedidos\");\r\n    },\r\n    getMarcas() {\r\n      API.get(\"v2/Servicos/Marcas/Get\", {pesquisa: \"%\", PageSize: 30 })\r\n      .then((apidata)=>{\r\n        if ((apidata.data.Success == \"True\") || apidata.data.Success) {\r\n          const res = API.prepareData(apidata.data);\r\n          this.marcas = res.apiresponse.Data;\r\n        } else {\r\n          this.marcas = [];\r\n        }\r\n      })\r\n    },\r\n    getCarregamentoOpcoes() {\r\n      API.get(\"v2/Servicos/Carregamento/OpcoesGet\", {})\r\n      .then((apidata)=>{\r\n        if ((apidata.data.Success == \"True\") || apidata.data.Success) {\r\n          const res = API.prepareData(apidata.data);\r\n          this.sigOpcoes = res.apiresponse.Data;\r\n        } else {\r\n          this.sigOpcoes = [];\r\n        }\r\n      })\r\n    },\r\n    getCarregamento() {\r\n      this.updatestop = true;\r\n      API.get(\"v2/Servicos/Carregamento/Get\", this.params)\r\n      .then((apidata)=>{\r\n        if ((apidata.data.Success == \"True\") || apidata.data.Success) {\r\n          const res = API.prepareData(apidata.data);\r\n          this.data = res.apiresponse.Data;\r\n          this.formcollapsed = false;\r\n        } else {\r\n          this.data = [];\r\n          this.formcollapsed = true;\r\n        }\r\n      });\r\n    },\r\n    getCarregamentoTotais() {\r\n\r\n      API.get(\"v2/Servicos/CarregamentoTotais/Get\", this.params, false)\r\n      .then((apidata)=>{\r\n        if ((apidata.data.Success == \"True\") || apidata.data.Success) {\r\n          const res = API.prepareData(apidata.data);\r\n\r\n          console.log('getCarregamentoTotais:hit');\r\n\r\n          res.apiresponse.Data.map(t => {\r\n            if (this.data.find(c => c.id == t.id)) {\r\n              this.data.find(c => c.id == t.id).TVolumesColetados = t.TVolumesColetados;\r\n              this.data.find(c => c.id == t.id).PercColetados = t.PercColetados;\r\n              this.data.find(c => c.id == t.id).sigImage = t.sigImage;\r\n\t\t          this.data.find(c => c.id == t.id).sigImageConf = t.sigImageConf;\r\n\t\t          this.data.find(c => c.id == t.id).sigObsConf = t.sigObsConf;\r\n\t\t          this.data.find(c => c.id == t.id).Opcoes = t.Opcoes;\r\n\t\t          this.data.find(c => c.id == t.id).UltimaColeta = t.UltimaColeta;\r\n            }\r\n          })\r\n        }\r\n      })      \r\n    },\r\n    async assinar(item) {\r\n      let perc = item.perc;\r\n\r\n      // sugerido não poder liberar sem estar 100% coletado\r\n      /*\r\n      if (perc < 100) {\r\n        this.$root.toastdanger(\"A carga não está 100% coletada, não é possível solicitar a assinatura !\");\r\n      }\r\n      */\r\n      if (perc < 100) {\r\n        await this.$root\r\n          .showmessage('A carga não está 100% coletada, deseja realmente solicitar a assinatura ?')\r\n          .then((choice)=>{\r\n            if (choice) {\r\n              perc = 100;\r\n            }\r\n          })\r\n      }\r\n\r\n      if (perc > 99.9) {\r\n        // this.selected = item;\r\n        this.doselected(item);\r\n        // console.log(\"assinar.opcoes:\", item.Opcoes);\r\n        if (item.Romaneios.find(r=>r.checked)) {\r\n          this.sigImage = item.Romaneios.find(r=>r.checked).sigImage;\r\n          this.sigImageConf = item.Romaneios.find(r=>r.checked).sigImageConf;\r\n          this.sigObsConf = item.Romaneios.find(r=>r.checked).sigObsConf;        \r\n          this.opcoes = JSON.parse(item.Romaneios.find(r=>r.checked).Opcoes || \"[]\");        \r\n        } else {\r\n          this.sigImage = item.sigImage;\r\n          this.sigImageConf = item.sigImageConf;\r\n          this.sigObsConf = item.sigObsConf;        \r\n          this.opcoes = JSON.parse(item.Opcoes || \"[]\"); \r\n        }\r\n        this.sigChange = false;\r\n        this.sigChangeConf = false;\r\n        // console.log(\"assinar.item:\", item);\r\n        this.$bvModal.show(\"modal-assinar\");\r\n      }\r\n    },\r\n    assinarromaneio(carga, romaneio) {\r\n      if (this.data.find(d=>d.id == carga.id)) {\r\n        // desmarca os outros ... \r\n        this.data.find(d=>d.id == carga.id).Romaneios.filter(r=>r.checked).map(m=>m.checked = false);\r\n        if (this.data.find(d=>d.id == carga.id).Romaneios.find(r=>r.Romaneio==romaneio)) {\r\n          this.data.find(d=>d.id == carga.id).Romaneios.find(r=>r.Romaneio==romaneio).checked = true\r\n          this.assinar(carga);\r\n        }\r\n      }\r\n    },\r\n    signatureShown() {\r\n      this.updatestop = true;\r\n    },\r\n    signatureHidden() {\r\n      this.updatestop = false;\r\n    },\r\n    signatureOk() {\r\n      // console.log(\"signatureOk.sigImage:\", this.sigImage);\r\n      API.post(\"v2/Servicos/Carregamento/SignatureSet\", this.paramsignature)\r\n      .then((apidata)=>{\r\n        if ((apidata.data.Success == \"True\") || apidata.data.Success) {\r\n          if (this.data.find(c=>c.id == this.selected.id)) {\r\n            this.data.find(c=>c.id == this.selected.id).sigImage = this.sigImage;\r\n            this.data.find(c=>c.id == this.selected.id).sigImageConf = this.sigImageConf;\r\n            this.data.find(c=>c.id == this.selected.id).sigObsConf = this.sigObsConf;this.data.find(c=>c.id == this.selected.id).Opcoes = JSON.stringify(this.opcoes);\r\n            this.data.find(c=>c.id == this.selected.id).Romaneios.filter(r=>r.checked).map(d=>{\r\n              d.sigImage = this.sigImage;\r\n              d.sigImageConf = this.sigImageConf;\r\n              d.sigObsConf = this.sigObsConf;\r\n              d.Opcoes = JSON.stringify(this.opcoes);\r\n              d.checked = false;\r\n            })\r\n          }\r\n          const res = API.prepareData(apidata.data);\r\n\r\n          this.$root.toastsuccess(res.data[0].Mensagem);\r\n          this.updatestop = false;\r\n\r\n          if ( (!this.sigImage || this.sigImage == \"\") || (!this.sigImageConf || this.sigImageConf == \"\") ) {\r\n            if ( (!this.sigImage || this.sigImage == \"\") ) this.$root.toastdanger('Assinatura do motorista não informada!');\r\n            if ( (!this.sigImageConf || this.sigImageConf == \"\") ) this.$root.toastdanger('Assinatura do conferente não informada!');\r\n          }\r\n        } else {\r\n          this.$root.toastdanger(apidata.Error);\r\n          this.formcollapsed = false;\r\n        }\r\n      });\r\n    },\r\n    doselected(item) {\r\n      this.selected = item;\r\n    },\r\n    classperc(perc) {\r\n      return (perc>99) ? \"success\" : \"primary\";\r\n    },\r\n    classselected(item) {\r\n      return (item.id == this.selected.id) ? \"primary\" : \"\";\r\n    },\r\n    classpedidos(item) {\r\n      return (this.pedidosselected && (item.Pedido == this.pedidosselected.Pedido)) ? \"primary\" : \"\";\r\n    }\r\n  },\r\n  watch: {\r\n    formcollapsed(collapsed) {\r\n      this.updatestop = collapsed;\r\n    },\r\n    updatetimeout() {\r\n      clearInterval(this.timer);\r\n      this.timer = null;\r\n      this.timer = setInterval(() => {\r\n        if (!this.updatestop)\r\n          this.getCarregamentoTotais();\r\n      }, this.updatetimeout);\r\n    }\r\n  } \r\n};\r\n</script>\r\n<style>\r\n.colsalign {\r\n  text-align: right;\r\n}\r\n@media screen and (max-width: 600px) {\r\n  .colsalign {\r\n    text-align: left;\r\n  }\r\n  .lista {\r\n    padding-left: 3px;\r\n    padding-right: 3px;\r\n  }\r\n}\r\n</style>\r\n"]}]}