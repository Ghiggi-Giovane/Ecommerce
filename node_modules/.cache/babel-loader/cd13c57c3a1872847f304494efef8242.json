{"remainingRequest":"C:\\k1-services\\node_modules\\babel-loader\\lib\\index.js!C:\\k1-services\\src\\pages\\consulta\\stores\\index.js","dependencies":[{"path":"C:\\k1-services\\src\\pages\\consulta\\stores\\index.js","mtime":1670977910611},{"path":"C:\\k1-services\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1670977934221},{"path":"C:\\k1-services\\node_modules\\babel-loader\\lib\\index.js","mtime":1670977935138}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IEFwaVNlcnZpY2UgZnJvbSAnLi4vLi4vLi4vc2VydmljZXMvYXBpLnNlcnZpY2UnOwpjb25zdCBzdGF0ZSA9IHsKICAvLyBjb25zdWx0YXMgCiAgY29uc3VsdGFzOiB7CiAgICBhcGlyZXNwb25zZTogbnVsbCwKICAgIHNlbGVjdGVkOiBudWxsLAogICAgZmlsdHJvOiAnJywKICAgIGxvYWRpbmc6IGZhbHNlLAogICAgbG9hZGluZ3BhcmFtczogZmFsc2UsCiAgICBkYXRhOiBbe31dCiAgfQp9Owpjb25zdCBnZXR0ZXJzID0gewogIGd0eGNvbnN1bHRhc3Jlc3BvbnNlOiBzdGF0ZSA9PiBzdGF0ZS5jb25zdWx0YXMuYXBpcmVzcG9uc2UsCiAgZ3R4Y29uc3VsdGFzU3VjY2VzczogKHN0YXRlLCBnZXR0ZXJzKSA9PiBnZXR0ZXJzLmd0eGNvbnN1bHRhc3Jlc3BvbnNlID8gZ2V0dGVycy5ndHhjb25zdWx0YXNyZXNwb25zZS5TdWNjZXNzID09ICdUcnVlJyA6IGZhbHNlLAogIGd0eGNvbnN1bHRhc0Vycm9yOiAoc3RhdGUsIGdldHRlcnMpID0+IGdldHRlcnMuZ3R4Y29uc3VsdGFzU3VjY2VzcyA/IHsKICAgIFN1Y2Nlc3M6IGZhbHNlLAogICAgRXJyb3I6IGdldHRlcnMuZ3R4Y29uc3VsdGFzcmVzcG9uc2UuRXJyb3IKICB9IDogW10sCiAgZ3R4Y29uc3VsdGFzRGF0YTogKHN0YXRlLCBnZXR0ZXJzKSA9PiBnZXR0ZXJzLmd0eGNvbnN1bHRhc1N1Y2Nlc3MgPyBnZXR0ZXJzLmd0eGNvbnN1bHRhc3Jlc3BvbnNlLkRhdGEgOiBbXSwKICBndHhjb25zdWx0YXNzZWxlY3RlZDogKHN0YXRlLCBnZXR0ZXJzKSA9PiBzdGF0ZS5jb25zdWx0YXMuc2VsZWN0ZWQgPyBzdGF0ZS5jb25zdWx0YXMuc2VsZWN0ZWQgOiBudWxsLAogIGd0eGNvbnN1bHRhc3NlbGVjdGVkcGFyYW1zOiAoc3RhdGUsIGdldHRlcnMpID0+IGdldHRlcnMuZ3R4Y29uc3VsdGFzc2VsZWN0ZWQgJiYgZ2V0dGVycy5ndHhjb25zdWx0YXNzZWxlY3RlZC5jb25maWcgJiYgZ2V0dGVycy5ndHhjb25zdWx0YXNzZWxlY3RlZC5jb25maWcucGFyYW0gPyBnZXR0ZXJzLmd0eGNvbnN1bHRhc3NlbGVjdGVkLmNvbmZpZy5wYXJhbSA6IFtdCn07CmNvbnN0IG11dGF0aW9ucyA9IHsKICBzZXRDb25zdWx0YXM6IChzdGF0ZSwgZGF0YSkgPT4gc3RhdGUuY29uc3VsdGFzLmFwaXJlc3BvbnNlID0gZGF0YSwKICBzZXRDb25zdWx0YVNlbGVjdGVkOiAoc3RhdGUsIGRhdGEpID0+IHN0YXRlLmNvbnN1bHRhcy5zZWxlY3RlZCA9IGRhdGEsCiAgc2V0Q29uc3VsdGFzTG9hZGluZzogKHN0YXRlLCBsb2FkKSA9PiBzdGF0ZS5jb25zdWx0YXMubG9hZGluZyA9IGxvYWQKfTsKY29uc3QgYWN0aW9ucyA9IHsKICBhY3RDb25zdWx0YXM6IHN0YXRlID0+IHsKICAgIC8vIHNlIHBhc3NhciBkZSB1bSBkaWEgY2hhbWEgbm92byB0b2tlbiAuLi4KICAgIC8vIGNvbnNvbGUubG9nKCdzdGF0ZS5zdGF0ZS5sb2dpbkFub24ubGFzdExvZ2luOiAnLCBzdGF0ZS5zdGF0ZS5sb2dpbkFub24ubGFzdExvZ2luKQogICAgLy8gY29uc29sZS5sb2coJ21vbWVudChzdGF0ZS5zdGF0ZS5sb2dpbkFub24ubGFzdExvZ2luKS5hZGQoMSwgZGF5cyk6ICcsIG1vbWVudChzdGF0ZS5zdGF0ZS5sb2dpbkFub24ubGFzdExvZ2luKS5hZGQoMSwgJ2RheXMnKSkKICAgIC8vIHNlIG7Do28gdGVtIHRva2VuIG91IGEgZGF0YSBkbyB0b2tlbiBtYWlzIHVtIGRpYSBhaW5kYSDDqSBtZW5vciBxdWUgYWdvcmEsIGF0dWFsaXphIC4uLgogICAgLy8gaWYgKCFzdGF0ZS5zdGF0ZS5sb2dpbkF1dGgubGFzdExvZ2luIHx8IG1vbWVudChzdGF0ZS5zdGF0ZS5sb2dpbkF1dGgubGFzdExvZ2luKS5hZGQoMSwgJ2RheXMnKSA8IERhdGUoKSkgewogICAgQXBpU2VydmljZS5zZXRBdXRoSGVhZGVyKCk7IC8vIHN0YXRlLmNvbW1pdCgnc2V0TG9hZGluZycsIHsgc2hvdzogdHJ1ZSwgbWVzc2FnZTogJ0NvbnN1bHRhbmRvLi4uJyB9KQoKICAgIEFwaVNlcnZpY2UuZ2V0KCdTZXJ2aWNvcy9Db25zdWx0YXMvU2VsZWN0JykudGhlbihyZXMgPT4gewogICAgICBzdGF0ZS5jb21taXQoJ3NldExvYWRpbmcnLCB7CiAgICAgICAgc2hvdzogZmFsc2UKICAgICAgfSk7CiAgICAgIGNvbnNvbGUubG9nKHJlcy5kYXRhKTsKICAgICAgc3RhdGUuY29tbWl0KCdzZXRDb25zdWx0YXMnLCByZXMuZGF0YSk7CiAgICB9KS5jYXRjaChlcnJvciA9PiB7CiAgICAgIC8vIGNvbnNvbGUuZXJyb3IoZXJyb3IubWVzc2FnZSkKICAgICAgc3RhdGUuY29tbWl0KCdzZXRMb2FkaW5nJywgewogICAgICAgIHNob3c6IGZhbHNlCiAgICAgIH0pOyAvLyBzc3RhdGUuY29tbWl0KCdzZXRTeXN0ZW1FcnJvckxvZycsIGVycm9yKQoKICAgICAgdGhyb3cgbmV3IEVycm9yKGBbVlVFWF0gJHtlcnJvcn1gKTsKICAgIH0pOyAvLyB9IGVsc2UgewogICAgLy8gIGNvbnNvbGUubG9nKCdVc3XDoXJpbyBuw6NvIGF1dGVudGljYWRvOiAnLCBzdGF0ZS5zdGF0ZS5sb2dpbkF1dGgpCiAgICAvLyB9CiAgfSwKICBhY3RDb25zdWx0YXNTZWxlY3RHZXREYXRhOiAoc3RhdGUsIHBhcmFtcykgPT4gewogICAgcGFyYW1zLmNvbmZpZy5wYXJhbS5tYXAocGFyID0+IHsKICAgICAgaWYgKHBhci5hcGkpIHsKICAgICAgICAvLyBzZSBvIHBhcmFtZXRybyBuw6NvIHRlbSBvIGNhbXBvIGRhdGEgdmF6aW8gZWxlIHByZWNpc2EgZXNwZXJhciBvIHJldG9ybm8gZGEgYXBpIHBhcmEgY3JpYXIgZSByZW5kZXJpemFyIG5hIHRlbGEKICAgICAgICAvLyBlbnTDo28gw6kgdXNhZG8gZXNzZSBjb250YWRvciBwYXJhIHPDsyBhYnJpciBhIGFiYSBkb3MgcGFyYW1ldHJvcyBkZXBvaXMgZGUgdGVyIG8gY2FtcG8gZGF0YSBwYXJhIHBvZGVyIGNhcnJlZ2FyIG5hIHRlbGEKICAgICAgICBpZiAoIXBhci5kYXRhIHx8IHBhci5kYXRhLmxlbmd0aCA9PSAwKSB7CiAgICAgICAgICBwYXJhbXMuZG9uZSsrOwogICAgICAgICAgQXBpU2VydmljZS5zZXRBdXRoSGVhZGVyKCk7CiAgICAgICAgICBBcGlTZXJ2aWNlLmdldChwYXIuYXBpKS50aGVuKHJlcyA9PiB7CiAgICAgICAgICAgIHBhci5kYXRhID0gcmVzLmRhdGEuRGF0YTsKICAgICAgICAgICAgcGFyYW1zLmRvbmUtLTsKICAgICAgICAgIH0pLmNhdGNoKGVycm9yID0+IHsKICAgICAgICAgICAgY29uc29sZS5lcnJvcihlcnJvci5tZXNzYWdlKTsKICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBbc3RvcmVDb25zdWx0YXNdICR7ZXJyb3J9YCk7CiAgICAgICAgICB9KTsKICAgICAgICB9CiAgICAgIH0KICAgIH0pOwogIH0sCiAgYWN0Q29uc3VsdGFzU2VsZWN0ZWQ6IChzdGF0ZSwgaWQpID0+IHsKICAgIGNvbnN0IHBhcmFtcyA9IHN0YXRlLmdldHRlcnMuZ3R4Y29uc3VsdGFzRGF0YS5maW5kKGYgPT4gZi5pZCA9PSBpZCk7CgogICAgaWYgKHBhcmFtcyAmJiBwYXJhbXMuaGFzT3duUHJvcGVydHkoJ2NvbmZpZycpICYmIHBhcmFtcy5jb25maWcuaGFzT3duUHJvcGVydHkoJ3BhcmFtJykpIHsKICAgICAgc3RhdGUuZGlzcGF0Y2goJ2FjdENvbnN1bHRhc1NlbGVjdEdldERhdGEnLCBwYXJhbXMpLnRoZW4oKCkgPT4gewogICAgICAgIGNvbnNvbGUubG9nKCdhY3RDb25zdWx0YXNTZWxlY3RlZDonLCBwYXJhbXMpOwogICAgICAgIHN0YXRlLmNvbW1pdCgnc2V0Q29uc3VsdGFTZWxlY3RlZCcsIHBhcmFtcyk7CiAgICAgIH0pOwogICAgfSBlbHNlIHsKICAgICAgY29uc29sZS5sb2coJ2FjdENvbnN1bHRhc1NlbGVjdGVkOk7Do28gdGVtIHBhcmFtZXRyb3MnKTsKICAgICAgc3RhdGUuY29tbWl0KCdzZXRDb25zdWx0YVNlbGVjdGVkJywgcGFyYW1zKTsKICAgIH0KICB9Cn07CmV4cG9ydCBkZWZhdWx0IHsKICBzdGF0ZSwKICBtdXRhdGlvbnMsCiAgZ2V0dGVycywKICBhY3Rpb25zCn07"},{"version":3,"names":["ApiService","state","consultas","apiresponse","selected","filtro","loading","loadingparams","data","getters","gtxconsultasresponse","gtxconsultasSuccess","Success","gtxconsultasError","Error","gtxconsultasData","Data","gtxconsultasselected","gtxconsultasselectedparams","config","param","mutations","setConsultas","setConsultaSelected","setConsultasLoading","load","actions","actConsultas","setAuthHeader","get","then","res","commit","show","console","log","catch","error","actConsultasSelectGetData","params","map","par","api","length","done","message","actConsultasSelected","id","find","f","hasOwnProperty","dispatch"],"sources":["C:/k1-services/src/pages/consulta/stores/index.js"],"sourcesContent":["import ApiService from '../../../services/api.service'\r\n\r\nconst state = {\r\n    // consultas \r\n    consultas: {\r\n        apiresponse: null,\r\n        selected: null,\r\n        filtro: '',\r\n        loading: false,\r\n        loadingparams: false,\r\n        data: [{}]\r\n    }\r\n}\r\n\r\nconst getters = {\r\n\r\n    gtxconsultasresponse: state => state.consultas.apiresponse,\r\n    gtxconsultasSuccess: (state, getters) => (getters.gtxconsultasresponse) ? getters.gtxconsultasresponse.Success == 'True' : false,\r\n    gtxconsultasError: (state, getters) => (getters.gtxconsultasSuccess) ? { Success: false, Error: getters.gtxconsultasresponse.Error } : [],\r\n    gtxconsultasData: (state, getters) => (getters.gtxconsultasSuccess) ? getters.gtxconsultasresponse.Data : [],\r\n    gtxconsultasselected: (state, getters) => (state.consultas.selected) ? state.consultas.selected : null,\r\n    gtxconsultasselectedparams: (state, getters) => (getters.gtxconsultasselected && getters.gtxconsultasselected.config && getters.gtxconsultasselected.config.param) ? getters.gtxconsultasselected.config.param : []\r\n\r\n}\r\n\r\nconst mutations = {\r\n\r\n    setConsultas: (state, data) => state.consultas.apiresponse = data,\r\n    setConsultaSelected: (state, data) => state.consultas.selected = data,\r\n    setConsultasLoading: (state, load) => state.consultas.loading = load\r\n\r\n}\r\n\r\nconst actions = {\r\n\r\n    actConsultas: state => {\r\n        // se passar de um dia chama novo token ...\r\n        // console.log('state.state.loginAnon.lastLogin: ', state.state.loginAnon.lastLogin)\r\n        // console.log('moment(state.state.loginAnon.lastLogin).add(1, days): ', moment(state.state.loginAnon.lastLogin).add(1, 'days'))\r\n        // se não tem token ou a data do token mais um dia ainda é menor que agora, atualiza ...\r\n        // if (!state.state.loginAuth.lastLogin || moment(state.state.loginAuth.lastLogin).add(1, 'days') < Date()) {\r\n        ApiService.setAuthHeader()\r\n\r\n        // state.commit('setLoading', { show: true, message: 'Consultando...' })\r\n        ApiService.get('Servicos/Consultas/Select')\r\n            .then(res => {\r\n                state.commit('setLoading', { show: false })\r\n                console.log(res.data)\r\n                state.commit('setConsultas', res.data)\r\n            })\r\n            .catch(error => {\r\n                // console.error(error.message)\r\n                state.commit('setLoading', { show: false })\r\n                    // sstate.commit('setSystemErrorLog', error)\r\n                throw new Error(`[VUEX] ${error}`)\r\n            })\r\n            // } else {\r\n            //  console.log('Usuário não autenticado: ', state.state.loginAuth)\r\n            // }\r\n    },\r\n\r\n    actConsultasSelectGetData: (state, params) => {\r\n        \r\n        params.config.param.map(par => {\r\n            if (par.api) {\r\n                // se o parametro não tem o campo data vazio ele precisa esperar o retorno da api para criar e renderizar na tela\r\n                // então é usado esse contador para só abrir a aba dos parametros depois de ter o campo data para poder carregar na tela\r\n                if (!par.data || par.data.length==0) {\r\n                    params.done++\r\n                    ApiService.setAuthHeader()\r\n        \r\n                    ApiService.get(par.api)\r\n                        .then(res => {\r\n                            par.data = res.data.Data\r\n                            params.done--\r\n                        })\r\n                        .catch (error => {\r\n                            console.error(error.message)\r\n                            throw new Error(`[storeConsultas] ${error}`)\r\n                        })\r\n                }\r\n            }\r\n        })\r\n\r\n    },\r\n\r\n    actConsultasSelected: (state, id) => {\r\n\r\n        const params = state.getters.gtxconsultasData.find(f => f.id == id)\r\n\r\n        if ((params) &&\r\n            (params.hasOwnProperty('config')) &&\r\n            (params.config.hasOwnProperty('param'))) {\r\n            state.dispatch('actConsultasSelectGetData', params)\r\n                .then(() => {\r\n                    console.log('actConsultasSelected:', params)\r\n                    state.commit('setConsultaSelected', params)\r\n            })\r\n        } else {\r\n            console.log('actConsultasSelected:Não tem parametros')\r\n            state.commit('setConsultaSelected', params)\r\n        }\r\n\r\n    }\r\n}\r\n\r\nexport default { state, mutations, getters, actions }"],"mappings":"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"}]}