{"remainingRequest":"C:\\k1-services\\node_modules\\babel-loader\\lib\\index.js!C:\\k1-services\\node_modules\\cache-loader\\dist\\cjs.js??ref--1-0!C:\\k1-services\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\k1-services\\src\\components\\Carousel.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\k1-services\\src\\components\\Carousel.vue","mtime":1670977910583},{"path":"C:\\k1-services\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1670977934221},{"path":"C:\\k1-services\\node_modules\\babel-loader\\lib\\index.js","mtime":1670977935138},{"path":"C:\\k1-services\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1670977934221},{"path":"C:\\k1-services\\node_modules\\vue-loader\\lib\\index.js","mtime":1670977935327}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KaW1wb3J0IEFQSSBmcm9tICIuLi9zZXJ2aWNlcy9hcGkuc2VydmljZSI7CmV4cG9ydCBkZWZhdWx0IHsKICBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgd2lkdGg6IDAsCiAgICAgIGhlaWdodDogMCwKICAgICAgbmFtZXN0YXRlOiBudWxsLAogICAgICBkZXNjcmljYW86ICIiLAogICAgICBsaW5rOiAiIiwKICAgICAgbG9vcDogMCwKICAgICAgZXJyb3I6ICIiLAogICAgICBzbGlkZTogIiIsCiAgICAgIHNsaWRlczogW3sKICAgICAgICBzbGlkZTogImFndWFyZGFuZG9zbGlkZXMuanBnIiwKICAgICAgICBwYXRoOiAiLi9yaC8iCiAgICAgIH1dLAogICAgICBsaW5rczogW3sKICAgICAgICBuYW1lOiAiTG9qYSBLYXBwZXNiZXJnIiwKICAgICAgICBwYXRoOiAiaHR0cHM6Ly9sb2phLmthcHBlc2JlcmcuY29tLmJyLyIKICAgICAgfSwgewogICAgICAgIG5hbWU6ICJHTFBJIC0gQ2hhbWFkb3MiLAogICAgICAgIHBhdGg6ICJodHRwOi8vbmFnaW9zLmthcHBlc2JlcmcuY29tLmJyL2dscGkiCiAgICAgIH0sIHsKICAgICAgICBuYW1lOiAiV2ViTWFpbCBLYXBwZXNiZXJnIiwKICAgICAgICBwYXRoOiAiaHR0cHM6Ly93ZWJtYWlsLmthcHBlc2JlcmcuY29tLmJyL3JvdW5kY3ViZW1haWwvIgogICAgICB9XQogICAgfTsKICB9LAoKICBiZWZvcmVNb3VudCgpIHsKICAgIHRoaXMuYnVzY2FTbGlkZXMoKTsgLy8gdGhpcy5idXNjYXJMaW5rc0ludHJhbmV0KCk7CgogICAgdGhpcy5idXNjYWxpbmtzKCk7CiAgfSwKCiAgbWV0aG9kczogewogICAgYWJyaXJJbWFnZW0odXJsKSB7CiAgICAgIC8vIGNyaWEgbyBlbGVtZW50byBtb2RhbCBlbSBlc3RydXR1cmEgSFRNTAogICAgICBjb25zdCBoID0gdGhpcy4kY3JlYXRlRWxlbWVudDsgLy8gTW9yZSBjb21wbGV4IHN0cnVjdHVyZQoKICAgICAgY29uc3QgbWVzc2FnZVZOb2RlID0gaCgiYi1pbWciLCB7CiAgICAgICAgcHJvcHM6IHsKICAgICAgICAgIHNyYzogdXJsLAogICAgICAgICAgY2VudGVyOiB0cnVlLAogICAgICAgICAgZmx1aWQ6IHRydWUKICAgICAgICB9CiAgICAgIH0pOyAvLyB0ZW0gcXVlIHBhc3NhciBlbSBhcnJheSBzZSBuw6NvIG7Do28gZnVuY2lvbmEKCiAgICAgIHRoaXMuJGJ2TW9kYWwubXNnQm94T2soW21lc3NhZ2VWTm9kZV0sIHsKICAgICAgICBidXR0b25TaXplOiAic20iLAogICAgICAgIGNlbnRlcmVkOiB0cnVlLAogICAgICAgIHNpemU6ICJ4bCIKICAgICAgfSk7CiAgICB9LAoKICAgIGFzeW5jIHNhbHZhckxpbmtzKCkgewogICAgICBjb25zdCBtZXVzTGlua3NJbnRyYW5ldCA9IHsKICAgICAgICBsaW5rczogdGhpcy5saW5rcwogICAgICB9OwogICAgICBhd2FpdCBsb2NhbFN0b3JhZ2Uuc2V0SXRlbSgibWV1c0xpbmtzSW50cmFuZXQiLCBKU09OLnN0cmluZ2lmeShtZXVzTGlua3NJbnRyYW5ldCkpOwogICAgfSwKCiAgICAvLyBhc3luYyBidXNjYXJMaW5rc0ludHJhbmV0KCkgewogICAgLy8gICBjb25zdCBwZXNxdWlzYSA9IGF3YWl0IGxvY2FsU3RvcmFnZS5nZXRJdGVtKCJtZXVzTGlua3NJbnRyYW5ldCIpOwogICAgLy8gICB0aGlzLmxpbmtzID0gSlNPTi5wYXJzZShwZXNxdWlzYSkubGlua3MKICAgIC8vICAgICA/IEpTT04ucGFyc2UocGVzcXVpc2EpLmxpbmtzCiAgICAvLyAgICAgOiB0aGlzLmxpbmtzOwogICAgLy8gICBhd2FpdCBsb2NhbFN0b3JhZ2UucmVtb3ZlSXRlbSgibWV1c0xpbmtzSW50cmFuZXQiKTsKICAgIC8vIH0sCiAgICBidXNjYVNsaWRlcygpIHsKICAgICAgdmFyIGhvc3QgPSAiaHR0cHM6Ly8iICsgInNlcnZpY29zLmdydXBvazEuY29tLmJyIiArICIvbXVyYWwvcmgvc2xpZGVzcmguYXNwIjsKICAgICAgdGhpcy5sb29wKys7IC8vIGNvbnNvbGUubG9nKAogICAgICAvLyAgICJidXNjYVNsaWRlczoiLAogICAgICAvLyAgIHRoaXMubG9vcCwKICAgICAgLy8gICAiLSIsCiAgICAgIC8vICAgbmV3IERhdGUoKS50b0xvY2FsZVRpbWVTdHJpbmcoKQogICAgICAvLyApOwoKICAgICAgZmV0Y2goaG9zdCkgLy8udGhlbihyZXNwb25zZSA9PiByZXNwb25zZS5qc29uKCkudGhlbihyZXMgPT4gdGhpcy5zbGlkZXMgPSByZXMpKQogICAgICAudGhlbihyZXNwb25zZSA9PiByZXNwb25zZS5qc29uKCkpLnRoZW4oZGF0YSA9PiB7CiAgICAgICAgdGhpcy5zbGlkZXMgPSBkYXRhOwogICAgICAgIHRoaXMuZXJyb3IgPSAiIjsgLy8gY29uc29sZS5sb2coInNsaWRlcyIsIHRoaXMuc2xpZGVzKTsKCiAgICAgICAgc2V0VGltZW91dCgoKSA9PiB0aGlzLmJ1c2NhU2xpZGVzKCksIDYwMDAwKTsgLy8gMSBtaW4KCiAgICAgICAgdGhpcy5jYXJvdXNlbEludGVydmFsKDEwMDAwKTsgLy8gMTBzCiAgICAgIH0pLmNhdGNoKGVycm9yID0+IHRoaXMuZXJyb3IgPSAiT2NvcnJldSB1bSBlcnJvIG5lc3RhIHDDoWdpbmEuIik7CiAgICB9LAoKICAgIGJ1c2NhbGlua3MoKSB7CiAgICAgIEFQSS5nZXQoJ3YyL1NlcnZpY29zL0xpbmtzL0dldCcpLnRoZW4oYXBpID0+IHsKICAgICAgICBpZiAoYXBpLmRhdGEuU3VjY2VzcykgewogICAgICAgICAgdGhpcy5saW5rcyA9IGFwaS5kYXRhLkRhdGE7CiAgICAgICAgfSBlbHNlIHt9CiAgICAgIH0pOwogICAgfSwKCiAgICBjYXJvdXNlbEludGVydmFsKGludGVydmFsKSB7CiAgICAgICQoIi5jYXJvdXNlbCIpLmNhcm91c2VsKHsKICAgICAgICBpbnRlcnZhbDogaW50ZXJ2YWwKICAgICAgfSk7CiAgICB9LAoKICAgIGlyTGluayhsaW5rKSB7CiAgICAgIHdpbmRvdy5vcGVuKGxpbmsucGF0aCwgIl9ibGFuayIpOwogICAgfSwKCiAgICAvKiBNb2RhaXMgKi8KICAgIGNoZWNrZm9ybVZhbGlkaXR5KCkgewogICAgICBjb25zdCB2YWxpZCA9IHRoaXMuZGVzY3JpY2FvLmxlbmd0aCA+IDAgJiYgdGhpcy5saW5rLmxlbmd0aCA+IDA7IC8vIHRoaXMubmFtZVN0YXRlID0gdmFsaWQ7CgogICAgICByZXR1cm4gdmFsaWQ7CiAgICB9LAoKICAgIHJlc2V0TW9kYWwoKSB7CiAgICAgIHRoaXMuZGVzY3JpY2FvID0gIiI7CiAgICAgIHRoaXMubGluayA9ICIiOwogICAgICB0aGlzLnZhbGlkID0gbnVsbDsKICAgIH0sCgogICAgaGFuZGxlT2soYnZNb2RhbEV2ZW50KSB7CiAgICAgIC8vIFByZXZlbnQgbW9kYWwgZnJvbSBjbG9zaW5nCiAgICAgIGJ2TW9kYWxFdmVudC5wcmV2ZW50RGVmYXVsdCgpOyAvLyBUcmlnZ2VyIHN1Ym1pdCBoYW5kbGVyCgogICAgICBpZiAoIXRoaXMuY2hlY2tmb3JtVmFsaWRpdHkoKSkgewogICAgICAgIHJldHVybjsKICAgICAgfSBlbHNlIHsKICAgICAgICB0aGlzLmhhbmRsZVN1Ym1pdCgpOwogICAgICB9CiAgICB9LAoKICAgIGFzeW5jIGhhbmRsZVN1Ym1pdCgpIHsKICAgICAgdGhpcy5saW5rcy5wdXNoKHsKICAgICAgICBuYW1lOiB0aGlzLmRlc2NyaWNhbywKICAgICAgICBwYXRoOiB0aGlzLmxpbmsKICAgICAgfSk7CiAgICAgIHRoaXMucmVzZXRNb2RhbCgpOwogICAgICB0aGlzLnNhbHZhckxpbmtzKCk7CiAgICAgIHRoaXMuJG5leHRUaWNrKCgpID0+IHsKICAgICAgICB0aGlzLiRidk1vZGFsLmhpZGUoInNhbHZhTGlua3MiKTsKICAgICAgfSk7CiAgICB9CgogIH0KfTs="},{"version":3,"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAoDA;AACA;EACAA;IACA;MACAC,QADA;MAEAC,SAFA;MAIAC,eAJA;MAMAC,aANA;MAOAC,QAPA;MASAC,OATA;MAUAC,SAVA;MAWAC,SAXA;MAYAC;QAAAD;QAAAE;MAAA,EAZA;MAaAC,QACA;QAAAC;QAAAF;MAAA,CADA,EAEA;QACAE,uBADA;QAEAF;MAFA,CAFA,EAMA;QACAE,0BADA;QAEAF;MAFA,CANA;IAbA;EAyBA,CA3BA;;EA6BAG;IACA,mBADA,CAEA;;IACA;EACA,CAjCA;;EAmCAC;IACAC;MACA;MACA,8BAFA,CAGA;;MAEA;QACAC;UACAC,QADA;UAEAC,YAFA;UAGAC;QAHA;MADA,GALA,CAaA;;MACA;QACAC,gBADA;QAEAC,cAFA;QAGAC;MAHA;IAKA,CApBA;;IAsBA;MACA;QACAX;MADA;MAGA,2BACA,mBADA,EAEAY,iCAFA;IAIA,CA9BA;;IAgCA;IACA;IACA;IACA;IACA;IACA;IACA;IAEAC;MACA,WACA,iEADA;MAEA,YAHA,CAIA;MACA;MACA;MACA;MACA;MACA;;MACAC,YACA;MADA,CAEAC,IAFA,CAEAC,2BAFA,EAGAD,IAHA,CAGA1B;QACA;QACA,gBAFA,CAGA;;QAEA4B,4CALA,CAKA;;QAEA,6BAPA,CAOA;MACA,CAXA,EAYAC,KAZA,CAYAtB,qDAZA;IAaA,CA/DA;;IAiEAuB;MACAC;QACA;UACA;QACA,CAFA,MAEA,CACA;MACA,CALA;IAMA,CAxEA;;IA0EAC;MACAC;QACAC;MADA;IAGA,CA9EA;;IAgFAC;MACAC;IACA,CAlFA;;IAoFA;IACAC;MACA,gEADA,CAEA;;MACA;IACA,CAzFA;;IA0FAC;MACA;MACA;MACA;IACA,CA9FA;;IA+FAC;MACA;MACAC,8BAFA,CAGA;;MACA;QACA;MACA,CAFA,MAEA;QACA;MACA;IACA,CAxGA;;IA0GA;MACA;QACA5B,oBADA;QAEAF;MAFA;MAKA;MAEA;MAEA;QACA;MACA,CAFA;IAGA;;EAvHA;AAnCA","names":["data","width","height","namestate","descricao","link","loop","error","slide","slides","path","links","name","beforeMount","methods","abrirImagem","props","src","center","fluid","buttonSize","centered","size","JSON","buscaSlides","fetch","then","response","setTimeout","catch","buscalinks","API","carouselInterval","$","interval","irLink","window","checkformValidity","resetModal","handleOk","bvModalEvent"],"sourceRoot":"src/components","sources":["Carousel.vue"],"sourcesContent":["<template>\r\n  <div id=\"app\">\r\n    <b-row>\r\n      <b-col cols=\"12\" md=\"1\">\r\n        <div class=\"buttoncontainer\">\r\n          <b-button class=\"mb-2 buttons\" @click=\"irLink(link)\" v-for=\"(link, index) in links\" :key=\"index\">\r\n            {{ link.name }}\r\n          </b-button>\r\n        </div>\r\n        <!-- <b-row>\r\n          <b-button class=\"ml-4 mb-2 buttons\" v-b-modal.salvaLinks>\r\n            Adicionar\r\n          </b-button>\r\n        </b-row> -->\r\n      </b-col>\r\n      <b-col cols=\"12\" md=\"11\">\r\n        <b-carousel id=\"carousel-1\" :interval=\"10000\" controls indicators>\r\n          <b-carousel-slide v-for=\"(item, index) in slides\" :key=\"index\">\r\n            <template #img>\r\n              <b-img\r\n                height=\"480px\"\r\n                class=\"fakeImg\"\r\n                :src=\"item.path + item.slide\"\r\n                @click=\"abrirImagem(item.path + item.slide)\"\r\n              />\r\n            </template>\r\n          </b-carousel-slide>\r\n        </b-carousel>\r\n      </b-col>\r\n      <b-col class=\"col-1\"></b-col>\r\n    </b-row>\r\n\r\n    <!-- MODAL -->\r\n    <b-modal\r\n      id=\"salvaLinks\"\r\n      title=\"Salvar novo Link\"\r\n      @hidden=\"resetModal\"\r\n      @ok=\"handleOk\"\r\n    >\r\n      <form ref=\"form\" @submit.stop.prevent=\"handleSubmit\">\r\n        <b-form-group invalid-feedback=\"Necessário preencher informações\">\r\n          <label>Descrição</label>\r\n          <b-form-input v-model=\"descricao\" size=\"sm\" required></b-form-input>\r\n          <label>Link</label>\r\n          <b-form-input v-model=\"link\" size=\"sm\" required></b-form-input>\r\n        </b-form-group>\r\n      </form>\r\n    </b-modal>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport API from \"../services/api.service\"\r\nexport default {\r\n  data() {\r\n    return {\r\n      width: 0,\r\n      height: 0,\r\n\r\n      namestate: null,\r\n\r\n      descricao: \"\",\r\n      link: \"\",\r\n\r\n      loop: 0,\r\n      error: \"\",\r\n      slide: \"\",\r\n      slides: [{ slide: \"aguardandoslides.jpg\", path: \"./rh/\" }],\r\n      links: [\r\n        { name: \"Loja Kappesberg\", path: \"https://loja.kappesberg.com.br/\" },\r\n        {\r\n          name: \"GLPI - Chamados\",\r\n          path: \"http://nagios.kappesberg.com.br/glpi\",\r\n        },\r\n        {\r\n          name: \"WebMail Kappesberg\",\r\n          path: \"https://webmail.kappesberg.com.br/roundcubemail/\",\r\n        },\r\n      ],\r\n    };\r\n  },\r\n\r\n  beforeMount() {\r\n    this.buscaSlides();\r\n    // this.buscarLinksIntranet();\r\n    this.buscalinks();\r\n  },\r\n\r\n  methods: {\r\n    abrirImagem(url) {\r\n      // cria o elemento modal em estrutura HTML\r\n      const h = this.$createElement;\r\n      // More complex structure\r\n\r\n      const messageVNode = h(\"b-img\", {\r\n        props: {\r\n          src: url,\r\n          center: true,\r\n          fluid: true,\r\n        },\r\n      });\r\n\r\n      // tem que passar em array se não não funciona\r\n      this.$bvModal.msgBoxOk([messageVNode], {\r\n        buttonSize: \"sm\",\r\n        centered: true,\r\n        size: \"xl\",\r\n      });\r\n    },\r\n\r\n    async salvarLinks() {\r\n      const meusLinksIntranet = {\r\n        links: this.links,\r\n      };\r\n      await localStorage.setItem(\r\n        \"meusLinksIntranet\",\r\n        JSON.stringify(meusLinksIntranet)\r\n      );\r\n    },\r\n\r\n    // async buscarLinksIntranet() {\r\n    //   const pesquisa = await localStorage.getItem(\"meusLinksIntranet\");\r\n    //   this.links = JSON.parse(pesquisa).links\r\n    //     ? JSON.parse(pesquisa).links\r\n    //     : this.links;\r\n    //   await localStorage.removeItem(\"meusLinksIntranet\");\r\n    // },\r\n\r\n    buscaSlides() {\r\n      var host =\r\n        \"https://\" + \"servicos.grupok1.com.br\" + \"/mural/rh/slidesrh.asp\";\r\n      this.loop++;\r\n      // console.log(\r\n      //   \"buscaSlides:\",\r\n      //   this.loop,\r\n      //   \"-\",\r\n      //   new Date().toLocaleTimeString()\r\n      // );\r\n      fetch(host)\r\n        //.then(response => response.json().then(res => this.slides = res))\r\n        .then((response) => response.json())\r\n        .then((data) => {\r\n          this.slides = data;\r\n          this.error = \"\";\r\n          // console.log(\"slides\", this.slides);\r\n\r\n          setTimeout(() => this.buscaSlides(), 60000); // 1 min\r\n\r\n          this.carouselInterval(10000); // 10s\r\n        })\r\n        .catch((error) => (this.error = \"Ocorreu um erro nesta página.\"));\r\n    },\r\n\r\n    buscalinks() {\r\n      API.get('v2/Servicos/Links/Get').then((api) => {\r\n        if (api.data.Success) {\r\n          this.links = api.data.Data;\r\n        } else {\r\n        }\r\n        });\r\n    },\r\n\r\n    carouselInterval(interval) {\r\n      $(\".carousel\").carousel({\r\n        interval: interval,\r\n      });\r\n    },\r\n\r\n    irLink(link) {\r\n      window.open(link.path, \"_blank\");\r\n    },\r\n\r\n    /* Modais */\r\n    checkformValidity() {\r\n      const valid = this.descricao.length > 0 && this.link.length > 0;\r\n      // this.nameState = valid;\r\n      return valid;\r\n    },\r\n    resetModal() {\r\n      this.descricao = \"\";\r\n      this.link = \"\";\r\n      this.valid = null;\r\n    },\r\n    handleOk(bvModalEvent) {\r\n      // Prevent modal from closing\r\n      bvModalEvent.preventDefault();\r\n      // Trigger submit handler\r\n      if (!this.checkformValidity()) {\r\n        return;\r\n      } else {\r\n        this.handleSubmit();\r\n      }\r\n    },\r\n\r\n    async handleSubmit() {\r\n      this.links.push({\r\n        name: this.descricao,\r\n        path: this.link,\r\n      });\r\n\r\n      this.resetModal();\r\n\r\n      this.salvarLinks();\r\n\r\n      this.$nextTick(() => {\r\n        this.$bvModal.hide(\"salvaLinks\");\r\n      });\r\n    },\r\n  },\r\n};\r\n</script>\r\n\r\n<style scopped>\r\n:root {\r\n  --links-height: 50px;\r\n  --links-width: 150px;\r\n}\r\n\r\n.buttons {\r\n  width: var(--links-width);\r\n}\r\n\r\n.row {\r\n  margin: 0;\r\n}\r\n\r\n.container .fakeImg {\r\n  max-height: 480px;\r\n  background: no-repeat center;\r\n  background-size: cover;\r\n}\r\n\r\n.buttoncontainer button {\r\n  z-index: 9999;\r\n}\r\n\r\n@media screen and (max-width: 600px) {\r\n  .fakeImg {\r\n    max-width: 380px;\r\n  }\r\n}\r\n@media screen and (max-width: 768px) {\r\n  .buttoncontainer {\r\n    z-index: 99999;\r\n    display: flex;\r\n    justify-content: space-around;\r\n  }\r\n  .buttoncontainer button {\r\n    margin-left: 4px;\r\n    margin-right: 4px;\r\n  }\r\n  .buttoncontainer button:first-child {\r\n    margin-left: 0 !important;\r\n  }\r\n  .buttoncontainer button:last-child {\r\n    margin-right: 0 !important;\r\n  }\r\n}\r\n</style>\r\n"]}]}