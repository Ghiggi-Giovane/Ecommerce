{"remainingRequest":"C:\\k1-services\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\k1-services\\src\\pages\\funcionarios\\views\\CartaoPonto.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\k1-services\\src\\pages\\funcionarios\\views\\CartaoPonto.vue","mtime":1701906516488},{"path":"C:\\k1-services\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1670977934221},{"path":"C:\\k1-services\\node_modules\\babel-loader\\lib\\index.js","mtime":1670977935138},{"path":"C:\\k1-services\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1670977934221},{"path":"C:\\k1-services\\node_modules\\vue-loader\\lib\\index.js","mtime":1674603023821}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KDQppbXBvcnQgeyBtYXBHZXR0ZXJzLCBtYXBBY3Rpb25zIH0gZnJvbSAidnVleCI7DQppbXBvcnQgbWVzZXMgZnJvbSAiLi4vLi4vLi4vYXNzZXRzL2pzb24vbWVzZXMuanNvbiI7DQpleHBvcnQgZGVmYXVsdCB7DQogIG5hbWU6ICJDYXJ0YW9Qb250byIsDQoNCiAgZGF0YSgpIHsNCiAgICByZXR1cm4gew0KICAgICAgcmVhZHk6IGZhbHNlLA0KICAgICAgbWVzZXM6IG1lc2VzLA0KICAgICAgYW5vOiAyMDIxLA0KICAgICAgbWVzOiAxMiwNCiAgICAgIGZpZWxkczogWyJkaWEiLCAicmVnaXN0cm9zIiwgImhvcmFzIl0sDQogICAgfTsNCiAgfSwNCg0KICBtb3VudGVkKCkgew0KICAgIHRoaXMuYW5vID0gdGhpcy5zeXNkYXRlLnllYXI7DQogICAgdGhpcy5tZXMgPSB0aGlzLnN5c2RhdGUubW9udGg7DQogICAgdGhpcy5yZWFkeSA9IHRydWU7DQogICAgLyoNCiAgICBpZiAodGhpcy5zeXNkYXRlLmRheSA+IDIwKSB7DQogICAgICB0aGlzLm1lcysrOw0KICAgICAgaWYgKHRoaXMubWVzID4gMTIpIHsNCiAgICAgICAgdGhpcy5hbm8rKzsNCiAgICAgICAgdGhpcy5tZXMgPSAxOw0KICAgICAgfQ0KICAgIH0NCiAgICAqLw0KICB9LA0KDQogIGNvbXB1dGVkOiB7DQogICAgLi4ubWFwR2V0dGVycyhbImd0eGNhcnRhb3BvbnRvRGF0YSIsICJzeXNkYXRlIl0pLA0KICAgIHBvbnRvKCkgew0KICAgICAgcmV0dXJuIHRoaXMuZ3R4Y2FydGFvcG9udG9EYXRhLm1hcChjPT4oey4uLmMsIF9yb3dWYXJpYW50OiAoYy5kaWFzdXRlaXM9PTEgJiYgYy5pbnZhbGlkbz09MSkgPyAnZGFuZ2VyJyA6IGMuZmVyaWFzPT0xID8gJ3N1Y2Nlc3MnIDogYy5mZXJpYWRvPT0xID8gJ2luZm8nIDogYy5kaWFzdXRlaXM9PTAgPyAnc2Vjb25kYXJ5JyA6ICcnfSkpOw0KICAgIH0sDQogICAgcGFyYW1idXNjYSgpIHsNCiAgICAgIHJldHVybiB7DQogICAgICAgIGFubzogdGhpcy5hbm8sDQogICAgICAgIG1lczogdGhpcy5tZXMsDQogICAgICB9Ow0KICAgIH0sDQogICAgbWVzZXNyZWR1emlkbygpIHsNCiAgICAgIHJldHVybiB0aGlzLm1lc2VzLm1hcChtPT4obS50ZXh0LnN1YnN0cigwLDMpKSk7DQogICAgfSwNCiAgICB0b3RhbGhvcmFzKCkgew0KICAgICAgcmV0dXJuIHRoaXMucG9udG8ucmVkdWNlKA0KICAgICAgICAoYSwgYikgPT4gcGFyc2VGbG9hdChhKSArIHBhcnNlRmxvYXQoYi5ob3JhcyksDQogICAgICAgIDANCiAgICAgICk7DQogICAgfSwNCiAgfSwNCg0KICBtZXRob2RzOiB7DQogICAgLi4ubWFwQWN0aW9ucyhbImFjdGNhcnRhb3BvbnRvYnVzY2FyIl0pLA0KICAgIG1lc2NsaWNrKG1lcykgew0KICAgICAgdGhpcy5tZXMgPSBtZXM7DQogICAgfSwNCiAgICBidG5tZXMobWVzKSB7DQogICAgICByZXR1cm4gbWVzID09IHRoaXMubWVzIC0gMSA/ICJiZy1wcmltYXJ5IiA6ICIiOw0KICAgIH0sDQogIH0sDQoNCiAgd2F0Y2g6IHsNCiAgICBwYXJhbWJ1c2NhKHBhcmFtKSB7DQogICAgICBpZiAodGhpcy5yZWFkeSkgdGhpcy5hY3RjYXJ0YW9wb250b2J1c2NhcihwYXJhbSk7DQogICAgfSwNCiAgfSwNCn07DQo="},{"version":3,"sources":["CartaoPonto.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAqEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA","file":"CartaoPonto.vue","sourceRoot":"src/pages/funcionarios/views","sourcesContent":["<template>\r\n  <div class=\"container mt-2\">\r\n    <b-card>\r\n      <template #header>\r\n        <h4 class=\"mb-0\">Cart√£o Ponto</h4>\r\n      </template>\r\n      <b-card-sub-title class=\"mb-2\">\r\n        <div class=\"d-inline-flex\">\r\n          <b-form-input\r\n            class=\"mr-2\"\r\n            type=\"number\"\r\n            v-model=\"ano\"\r\n            placeholder=\"Informe o ano\"\r\n            style=\"width: 65px\"\r\n          ></b-form-input>\r\n          <b-button-group style=\"flex-wrap: wrap\">\r\n            <b-button\r\n              v-for=\"(mes, i) of mesesreduzido\"\r\n              :key=\"i\"\r\n              :class=\"btnmes(i)\"\r\n              @click=\"mesclick(i + 1)\"\r\n            >\r\n              {{ mes }}\r\n            </b-button>\r\n          </b-button-group>\r\n        </div>\r\n      </b-card-sub-title>\r\n      <b-table hover small foot-clone :items=\"ponto\" :fields=\"fields\">\r\n        <template #cell(dia)=\"data\">\r\n          <span>\r\n            {{ data.item.data | dateDAY | LZero(2) }}\r\n            {{ data.item.data | weekname }}\r\n          </span>\r\n        </template>\r\n        <template #cell(registros)=\"data\">\r\n          <span v-if=\"data.item.feriado == 1 || data.item.ferias == 1\">\r\n            {{ data.item.resultado }}\r\n          </span>\r\n          <span v-else>\r\n            {{ data.item.entrada_1 | Time }} {{ data.item.saida_1 ? \"-\" : \"\" }}\r\n            {{ data.item.saida_1 | Time }}&nbsp;&nbsp;&nbsp;\r\n            {{ data.item.entrada_2 | Time }}  {{ data.item.saida_2 ? \"-\" : \"\" }} {{ data.item.saida_2 | Time }}\r\n          </span>\r\n        </template>\r\n        <template #cell(horas)=\"data\">\r\n          <!-- <span>{{ data.item.horas | decimals(2) }} | {{ (data.item.horas - 8.98) | decimals(2) }}</span> -->\r\n          <span>{{ data.item.horas | decimals(2) }}&nbsp;<b-badge v-b-tooltip.hover :title=\"data.item.resultado\" variant=\"danger\" v-if=\"data.item.invalido==1\"><b-icon-bug></b-icon-bug></b-badge></span>\r\n        </template>\r\n        <template #foot(dia)=\"data\">\r\n          <span>{{ gtxcartaopontoData.length }}</span>\r\n        </template>\r\n        <template #foot()=\"data\">\r\n          <span></span>\r\n        </template>\r\n        <template #foot(horas)=\"data\">\r\n          <span>{{ totalhoras | decimals(2) }}</span>\r\n        </template>\r\n      </b-table>\r\n      <!--\r\n      <b-card-text>\r\n        {{ parambusca }} <br />\r\n        {{ sysdate }}\r\n        {{ \"900.566.980-20\" | RSecret }}\r\n      </b-card-text>\r\n      -->\r\n    </b-card>\r\n  </div>\r\n</template>\r\n<script>\r\nimport { mapGetters, mapActions } from \"vuex\";\r\nimport meses from \"../../../assets/json/meses.json\";\r\nexport default {\r\n  name: \"CartaoPonto\",\r\n\r\n  data() {\r\n    return {\r\n      ready: false,\r\n      meses: meses,\r\n      ano: 2021,\r\n      mes: 12,\r\n      fields: [\"dia\", \"registros\", \"horas\"],\r\n    };\r\n  },\r\n\r\n  mounted() {\r\n    this.ano = this.sysdate.year;\r\n    this.mes = this.sysdate.month;\r\n    this.ready = true;\r\n    /*\r\n    if (this.sysdate.day > 20) {\r\n      this.mes++;\r\n      if (this.mes > 12) {\r\n        this.ano++;\r\n        this.mes = 1;\r\n      }\r\n    }\r\n    */\r\n  },\r\n\r\n  computed: {\r\n    ...mapGetters([\"gtxcartaopontoData\", \"sysdate\"]),\r\n    ponto() {\r\n      return this.gtxcartaopontoData.map(c=>({...c, _rowVariant: (c.diasuteis==1 && c.invalido==1) ? 'danger' : c.ferias==1 ? 'success' : c.feriado==1 ? 'info' : c.diasuteis==0 ? 'secondary' : ''}));\r\n    },\r\n    parambusca() {\r\n      return {\r\n        ano: this.ano,\r\n        mes: this.mes,\r\n      };\r\n    },\r\n    mesesreduzido() {\r\n      return this.meses.map(m=>(m.text.substr(0,3)));\r\n    },\r\n    totalhoras() {\r\n      return this.ponto.reduce(\r\n        (a, b) => parseFloat(a) + parseFloat(b.horas),\r\n        0\r\n      );\r\n    },\r\n  },\r\n\r\n  methods: {\r\n    ...mapActions([\"actcartaopontobuscar\"]),\r\n    mesclick(mes) {\r\n      this.mes = mes;\r\n    },\r\n    btnmes(mes) {\r\n      return mes == this.mes - 1 ? \"bg-primary\" : \"\";\r\n    },\r\n  },\r\n\r\n  watch: {\r\n    parambusca(param) {\r\n      if (this.ready) this.actcartaopontobuscar(param);\r\n    },\r\n  },\r\n};\r\n</script>\r\n"]}]}