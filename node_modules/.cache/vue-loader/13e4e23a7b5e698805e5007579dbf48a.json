{"remainingRequest":"C:\\k1-services\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\k1-services\\src\\pages\\ecommerce\\views\\Docas.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\k1-services\\src\\pages\\ecommerce\\views\\Docas.vue","mtime":1701906516478},{"path":"C:\\k1-services\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1670977934221},{"path":"C:\\k1-services\\node_modules\\babel-loader\\lib\\index.js","mtime":1670977935138},{"path":"C:\\k1-services\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1670977934221},{"path":"C:\\k1-services\\node_modules\\vue-loader\\lib\\index.js","mtime":1674603023821}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KDQppbXBvcnQgQXBpU2VydmljZSBmcm9tICIuLi8uLi8uLi9zZXJ2aWNlcy9hcGkuc2VydmljZSI7DQoNCmV4cG9ydCBkZWZhdWx0IHsNCiAgbmFtZTogIkRvY2FzIiwNCiAgY29tcG9uZW50czoge30sDQogIGRhdGEoKSB7DQogICAgcmV0dXJuIHsNCiAgICAgIHRyYW5zcG9ydGFkb3JhczogW10sDQoNCiAgICAgIGRvY2FzOiBbXSwNCiAgICAgIGRlcG9zaXRvczogW10sDQogICAgICBkZXBvc2l0b3NJdGVuczogW10sDQogICAgICBzZWxlY3RlZERlcG9zaXRvOiBudWxsLA0KICAgICAgc2VsZWN0ZWREb2NhOiBudWxsLA0KICAgICAgYWx0ZXJhRXN0b3F1ZTogZmFsc2UsDQogICAgICBmaWx0cm9JdGVuczogIiIsDQogICAgICBmaWx0ZXJPbjogWyJJdGVtIl0sDQoNCiAgICAgIHJlZmVyZW5jaWE6IFtdLA0KDQogICAgICBkb2Nhc0ZpZWxkczogWw0KICAgICAgICB7IGtleTogIkRlc2NyaWNhbyIsIHNvcnRhYmxlOiB0cnVlLCBsYWJlbDogIkRlc2NyacOnw6NvIiwgdmlzaWJsZTogdHJ1ZSB9LA0KICAgICAgICB7DQogICAgICAgICAga2V5OiAiUHJhem9EaWFzIiwNCiAgICAgICAgICBzb3J0YWJsZTogdHJ1ZSwNCiAgICAgICAgICBsYWJlbDogIlByYXpvIGVtIGRpYXMiLA0KICAgICAgICAgIHZpc2libGU6IHRydWUsDQogICAgICAgIH0sDQogICAgICAgIHsNCiAgICAgICAgICBrZXk6ICJQYXJFbXBEZXBvc2l0b0lkIiwNCiAgICAgICAgICBzb3J0YWJsZTogdHJ1ZSwNCiAgICAgICAgICBsYWJlbDogIklEIGRlcG9zaXRvIEludGVybm8iLA0KICAgICAgICAgIHZpc2libGU6IHRydWUsDQogICAgICAgIH0sDQogICAgICAgIHsNCiAgICAgICAgICBrZXk6ICJUcmFuc3BvcnRhZG9yYXMiLA0KICAgICAgICAgIHNvcnRhYmxlOiB0cnVlLA0KICAgICAgICAgIGxhYmVsOiAiVHJhbnNwb3J0YWRvcmFzIC8gUmVkZXNwYWNobyIsDQogICAgICAgICAgdmlzaWJsZTogdHJ1ZSwNCiAgICAgICAgfSwNCiAgICAgIF0sDQogICAgICBkZXBvc2l0b3NGaWVsZHM6IFsNCiAgICAgICAgeyBrZXk6ICJEZXNjcmljYW8iLCBzb3J0YWJsZTogdHJ1ZSwgbGFiZWw6ICJEZXNjcmnDp8OjbyIsIHZpc2libGU6IHRydWUgfSwNCiAgICAgICAgew0KICAgICAgICAgIGtleTogIlBhckVtcERlcG9zaXRvSWQiLA0KICAgICAgICAgIHNvcnRhYmxlOiB0cnVlLA0KICAgICAgICAgIGxhYmVsOiAiSUQgZGVwb3NpdG8gSW50ZXJubyIsDQogICAgICAgICAgdmlzaWJsZTogdHJ1ZSwNCiAgICAgICAgfSwNCiAgICAgICAgew0KICAgICAgICAgIGtleTogIlByYXpvRGlhcyIsDQogICAgICAgICAgc29ydGFibGU6IHRydWUsDQogICAgICAgICAgbGFiZWw6ICJQcmF6byBlbSBkaWFzIiwNCiAgICAgICAgICB2aXNpYmxlOiB0cnVlLA0KICAgICAgICB9LA0KICAgICAgXSwNCiAgICAgIGl0ZW5zRmllbGRzOiBbDQogICAgICAgIHsga2V5OiAiSXRlbSIsIHNvcnRhYmxlOiB0cnVlLCB2aXNpYmxlOiB0cnVlIH0sDQogICAgICAgIHsNCiAgICAgICAgICBrZXk6ICJFc3RvcXVlIiwNCiAgICAgICAgICBzb3J0YWJsZTogdHJ1ZSwNCiAgICAgICAgICB2aXNpYmxlOiB0cnVlLA0KICAgICAgICB9LA0KICAgICAgXSwNCiAgICB9Ow0KICB9LA0KDQogIGNyZWF0ZWQoKSB7DQogICAgdGhpcy5sb2FkRG9jYXMoKTsNCiAgfSwNCg0KICBtZXRob2RzOiB7DQogICAgc2VsZWNpb25hZG8oSWQpIHsNCiAgICAgIHRoaXMuc2VsZWN0ZWRPcHRpb24gPSBJZDsNCg0KICAgICAgaWYgKElkID09IDIpIHsNCiAgICAgICAgdGhpcy5pdGVuc0xvYWQoKTsNCiAgICAgIH0NCiAgICB9LA0KDQogICAgYXN5bmMgc2F2ZUl0ZW5zKGl0ZW0pIHsNCiAgICAgIGF3YWl0IEFwaVNlcnZpY2UucG9zdCgidjIvSW50cmFuZXRFY29tbWVyY2VCMkMvRGVwb3NpdG9zSXRlbnMvU2F2ZSIsIHsNCiAgICAgICAgaXRlbSwNCiAgICAgIH0pDQogICAgICAgIC50aGVuKChyZXMpID0+IHsNCiAgICAgICAgICB0aGlzLiRyb290LnRvYXN0c3VjY2VzcygiU2Fsdm8gY29tIFN1Y2Vzc28hIik7DQogICAgICAgIH0pDQogICAgICAgIC5jYXRjaCgoZSkgPT4gew0KICAgICAgICAgIHRoaXMuJHJvb3QudG9hc3RkYW5nZXIoIkVycm8hICIgKyBlKTsNCiAgICAgICAgfSk7DQoNCiAgICAgIHRoaXMuZGVwb3NpdG9zSXRlbnNMb2FkKHRoaXMuc2VsZWN0ZWREZXBvc2l0by5JZCk7DQogICAgfSwNCg0KICAgIGFzeW5jIGxvYWREb2NhcygpIHsNCiAgICAgIGF3YWl0IEFwaVNlcnZpY2UuZ2V0KCJ2Mi9JbnRyYW5ldEVjb21tZXJjZUIyQy9Eb2Nhcy9HZXQiKS50aGVuKA0KICAgICAgICAocmVzdWx0KSA9PiB7DQogICAgICAgICAgaWYgKHJlc3VsdC5kYXRhLlN1Y2Nlc3MgPT0gdHJ1ZSkgew0KICAgICAgICAgICAgdGhpcy5kb2NhcyA9IHJlc3VsdC5kYXRhLkRhdGE7DQogICAgICAgICAgfSBlbHNlIHsNCiAgICAgICAgICAgIHJldHVybjsNCiAgICAgICAgICB9DQogICAgICAgIH0NCiAgICAgICk7DQogICAgfSwNCg0KICAgIG9uUm93U2VsZWN0ZWREb2NhcyhpdGVtcykgew0KICAgICAgLy8gY29uc29sZS5sb2coaXRlbXNbMF0uSWQpOw0KICAgICAgdGhpcy5zZWxlY3RlZERvY2EgPSBpdGVtc1swXS5JZDsNCg0KICAgICAgdGhpcy5kZXBvc2l0b3MgPSBbXTsNCiAgICAgIHRoaXMuZGVwb3NpdG9zSXRlbnMgPSBbXTsNCiAgICAgIHRoaXMuc2VsZWN0ZWREZXBvc2l0byA9IG51bGw7DQoNCiAgICAgIHRoaXMuZGVwb3NpdG9zTG9hZChpdGVtc1swXS5JZCk7DQogICAgfSwNCiAgICBvblJvd1NlbGVjdGVkRGVwb3NpdG9zKGl0ZW1zKSB7DQogICAgICAvLyBjb25zb2xlLmxvZyhpdGVtc1swXS5JZCk7DQogICAgICB0aGlzLmRlcG9zaXRvc0l0ZW5zID0gW107DQogICAgICAvL3RoaXMuc2VsZWN0ZWREZXBvc2l0by5QYXJFbXBEZXBvc2l0b0lkID0gaXRlbXNbMF0uUGFyRW1wRGVwb3NpdG9JZCAhPSBudWxsOw0KICAgICAgdGhpcy5zZWxlY3RlZERlcG9zaXRvID0gaXRlbXNbMF07DQogICAgICB0aGlzLmRlcG9zaXRvc0l0ZW5zTG9hZCh0aGlzLnNlbGVjdGVkRGVwb3NpdG8uSWQpOw0KICAgIH0sDQoNCiAgICBhc3luYyBkZXBvc2l0b3NMb2FkKElkKSB7DQogICAgICBhd2FpdCBBcGlTZXJ2aWNlLnBvc3QoInYyL0ludHJhbmV0RWNvbW1lcmNlQjJDL0RlcG9zaXRvcy9HZXQiLCB7DQogICAgICAgIGlkOiBJZCwNCiAgICAgIH0pLnRoZW4oKHJlc3VsdCkgPT4gew0KICAgICAgICBpZiAocmVzdWx0LmRhdGEuU3VjY2VzcyA9PSB0cnVlKSB7DQogICAgICAgICAgdGhpcy5kZXBvc2l0b3MgPSByZXN1bHQuZGF0YS5EYXRhOw0KICAgICAgICB9DQogICAgICB9KTsNCiAgICB9LA0KDQogICAgZGVwb3NpdG9zSXRlbnNMb2FkKElkKSB7DQogICAgICBBcGlTZXJ2aWNlLnBvc3QoInYyL0ludHJhbmV0RWNvbW1lcmNlQjJDL0RlcG9zaXRvc0l0ZW5zL0dldCIsIHsNCiAgICAgICAgaWQ6IElkLA0KICAgICAgfSkudGhlbigocmVzdWx0KSA9PiB7DQogICAgICAgIGlmIChyZXN1bHQuZGF0YS5TdWNjZXNzID09IHRydWUpIHsNCiAgICAgICAgICB0aGlzLmRlcG9zaXRvc0l0ZW5zID0gcmVzdWx0LmRhdGEuRGF0YTsNCiAgICAgICAgfQ0KICAgICAgfSk7DQogICAgfSwNCg0KICAgIC8qIE1vZGFpcyAqLw0KICAgIHNob3dNb2RhbEl0ZW5zKCkgew0KICAgICAgdGhpcy4kcm9vdC4kZW1pdCgiYnY6OnNob3c6Om1vZGFsIiwgIm1vZGFsLWl0ZW5zIiwgIiNidG5TaG93Iik7DQogICAgfSwNCiAgICByZXNldE1vZGFsKCkgew0KICAgICAgdGhpcy5yZWZlcmVuY2lhID0gW107DQogICAgfSwNCiAgICBoYW5kbGVPayhidk1vZGFsRXZlbnQpIHsNCiAgICAgIC8vIFByZXZlbnQgbW9kYWwgZnJvbSBjbG9zaW5nDQogICAgICBidk1vZGFsRXZlbnQucHJldmVudERlZmF1bHQoKTsNCiAgICAgIC8vIFRyaWdnZXIgc3VibWl0IGhhbmRsZXINCiAgICAgIHRoaXMuaGFuZGxlU3VibWl0KCk7DQogICAgfSwNCiAgICBhc3luYyBoYW5kbGVTdWJtaXQoKSB7DQogICAgICB2YXIgaXRlbSA9IFtdOw0KICAgICAgLy8gRXhpdCB3aGVuIHRoZSBmb3JtIGlzbid0IHZhbGlkDQogICAgICBpZiAodGhpcy5yZWZlcmVuY2lhLmxlbmd0aCA+IDApIHsNCiAgICAgICAgdGhpcy5yZWZlcmVuY2lhLmZvckVhY2goKHJlZikgPT4gew0KICAgICAgICAgIGl0ZW0ucHVzaCh7DQogICAgICAgICAgICBEZXBvc2l0b0lkOiB0aGlzLnNlbGVjdGVkRGVwb3NpdG8uSWQsDQogICAgICAgICAgICBJdGVtOiByZWYsDQogICAgICAgICAgICBFc3RvcXVlOiAwLA0KICAgICAgICAgIH0pOw0KICAgICAgICB9KTsNCiAgICAgICAgdGhpcy5zYXZlSXRlbnMoaXRlbSk7DQogICAgICB9DQoNCiAgICAgIHRoaXMuJG5leHRUaWNrKCgpID0+IHsNCiAgICAgICAgdGhpcy4kYnZNb2RhbC5oaWRlKCJtb2RhbC1pdGVucyIpOw0KICAgICAgfSk7DQogICAgfSwNCiAgICBzaG93TW9kYWxUcmFuc3BvcnRhZG9yYXMoaXRlbnMpIHsNCiAgICAgIGNvbnNvbGUubG9nKGl0ZW5zKTsNCiAgICAgIHRoaXMudHJhbnNwb3J0YWRvcmFzID0gW107DQogICAgICB0aGlzLnRyYW5zcG9ydGFkb3JhcyA9IGl0ZW5zLlRyYW5zcG9ydGFkb3JhczsNCg0KICAgICAgdGhpcy4kcm9vdC4kZW1pdCgNCiAgICAgICAgImJ2OjpzaG93Ojptb2RhbCIsDQogICAgICAgICJUcmFuc3BvcnRhZG9yYXMiLA0KICAgICAgICAiI2J0blNob3ciLA0KICAgICAgICBpdGVucy5JZA0KICAgICAgKTsNCiAgICB9LA0KDQogICAgaGFuZGxlT2tUcigpIHsNCiAgICAgIGlmICh0aGlzLnRyYW5zcG9ydGFkb3JhcyA9PSBudWxsKSB7DQogICAgICAgIHJldHVybjsNCiAgICAgIH0gZWxzZSBpZiAoDQogICAgICAgIHRoaXMudHJhbnNwb3J0YWRvcmFzW3RoaXMudHJhbnNwb3J0YWRvcmFzLmxlbmd0aCAtIDFdLlRyYW5zcFBlZGlkbw0KICAgICAgICAgIC5sZW5ndGggPT0gMCB8fA0KICAgICAgICB0aGlzLnRyYW5zcG9ydGFkb3Jhc1t0aGlzLnRyYW5zcG9ydGFkb3Jhcy5sZW5ndGggLSAxXS5UcmFuc3BvcnRhZG9yYQ0KICAgICAgICAgIC5sZW5ndGggPT0gMA0KICAgICAgKSB7DQogICAgICAgIHJldHVybjsNCiAgICAgIH0gZWxzZSB7DQogICAgICAgIHRoaXMuaGFuZGxlU3VibWl0VHIoKTsNCiAgICAgIH0NCiAgICB9LA0KDQogICAgYXN5bmMgaGFuZGxlU3VibWl0VHIoKSB7DQogICAgICBjb25zb2xlLmxvZyh0aGlzLnRyYW5zcG9ydGFkb3Jhcyk7DQoNCiAgICAgIC8vIGVudmlhIHBhcmEgc2FsdmFyDQogICAgICBBcGlTZXJ2aWNlLnBvc3QoInYyL0ludHJhbmV0RWNvbW1lcmNlQjJDL0RvY2FzVHJhbnNwUmVkZXNwYWNoby9TYXZlIiwgew0KICAgICAgICBSZWRlc3BhY2hvczogdGhpcy50cmFuc3BvcnRhZG9yYXMsDQogICAgICAgIERvY2FJZDogdGhpcy5zZWxlY3RlZERvY2EsDQogICAgICB9KS50aGVuKChyZXMpID0+IHsNCiAgICAgICAgdGhpcy5kb2Nhcy5maW5kKA0KICAgICAgICAgIChpZCkgPT4gaWQuSWQgPT0gdGhpcy5zZWxlY3RlZERvY2ENCiAgICAgICAgKS5UcmFuc3BvcnRhZG9yYXMgPSByZXMuZGF0YS5EYXRhOw0KICAgICAgfSk7DQoNCiAgICAgIHRoaXMuJG5leHRUaWNrKCgpID0+IHsNCiAgICAgICAgdGhpcy4kYnZNb2RhbC5oaWRlKCJUcmFuc3BvcnRhZG9yYXMiKTsNCiAgICAgIH0pOw0KICAgIH0sDQoNCiAgICBuZXdJbnB1dCgpIHsNCiAgICAgIGlmICh0aGlzLnRyYW5zcG9ydGFkb3JhcyA9PSBudWxsKSB0aGlzLnRyYW5zcG9ydGFkb3JhcyA9IFtdOw0KICAgICAgdGhpcy50cmFuc3BvcnRhZG9yYXMucHVzaCh7DQogICAgICAgIElkOiAiIiwNCiAgICAgICAgRG9jYUlkOiB0aGlzLnNlbGVjdGVkRG9jYSwNCiAgICAgICAgVHJhbnNwb3J0YWRvcmE6ICIiLA0KICAgICAgICBUcmFuc3BQZWRpZG86ICIiLA0KICAgICAgICBUcmFuc3BSZWRlc3BhY2hvOiAiIiwNCiAgICAgIH0pOw0KICAgIH0sDQogIH0sDQp9Ow0K"},{"version":3,"sources":["Docas.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAmNA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"Docas.vue","sourceRoot":"src/pages/ecommerce/views","sourcesContent":["<template>\r\n  <div>\r\n    <section id=\"docasDepositos\">\r\n      <b-card class=\"ml-4 mr-4 mt-4\">\r\n        <div class=\"doc\">\r\n          <h3>Docas</h3>\r\n          <!-- <div>\r\n            <h4 class=\"iconbutton\" @click=\"showModalDocas\">\r\n              <b-icon-plus-square></b-icon-plus-square>\r\n            </h4>\r\n          </div>-->\r\n        </div>\r\n\r\n        <b-table\r\n          no-footer-sorting\r\n          id=\"table-docas\"\r\n          head-variant=\"dark\"\r\n          sort-desc\r\n          selectable\r\n          striped\r\n          bordered\r\n          hovers\r\n          responsive=\"sm\"\r\n          small\r\n          select-mode=\"single\"\r\n          :items=\"docas\"\r\n          :fields=\"docasFields\"\r\n          @row-selected=\"onRowSelectedDocas\"\r\n        >\r\n          <template #cell(Transportadoras)=\"row\">\r\n            <div class=\"text-center\">\r\n              <b-icon-pencil\r\n                scale=\"1.5\"\r\n                @click=\"showModalTransportadoras(row.item)\"\r\n              ></b-icon-pencil>\r\n            </div>\r\n          </template>\r\n        </b-table>\r\n      </b-card>\r\n\r\n      <hr />\r\n\r\n      <b-card class=\"ml-4 mr-4 mt-4\" v-if=\"depositos.length > 0\">\r\n        <div class=\"doc\">\r\n          <h3>Depósitos</h3>\r\n        </div>\r\n        <b-table\r\n          no-footer-sorting\r\n          id=\"table-depositos\"\r\n          head-variant=\"dark\"\r\n          sort-desc\r\n          selectable\r\n          striped\r\n          bordered\r\n          hovers\r\n          responsive\r\n          small\r\n          select-mode=\"single\"\r\n          :items=\"depositos\"\r\n          :fields=\"depositosFields\"\r\n          @row-selected=\"onRowSelectedDepositos\"\r\n        ></b-table>\r\n      </b-card>\r\n      <hr />\r\n      <b-card class=\"ml-4 mr-4 mt-4\" v-if=\"selectedDeposito != null\">\r\n        <div class=\"doc\">\r\n          <h3>Itens por depósito</h3>\r\n\r\n          <div>\r\n            <b-row style=\"align-items: baseline\">\r\n              <span class=\"mr-4\">\r\n                Qtde de itens no depósito:\r\n                <strong>{{ depositosItens.length }}</strong>\r\n              </span>\r\n              <b-form-input\r\n                style=\"width: 200px\"\r\n                v-model=\"filtroItens\"\r\n                placeholder=\"Item\"\r\n              ></b-form-input>\r\n              <h4 class=\"iconbutton mr-2\" @click=\"saveItens(depositosItens)\">\r\n                <b-icon-check2-square variant=\"success\"></b-icon-check2-square>\r\n              </h4>\r\n\r\n              <h4 class=\"iconbutton mr-2\" @click=\"showModalItens\">\r\n                <b-icon-plus-square variant=\"success\"></b-icon-plus-square>\r\n              </h4>\r\n            </b-row>\r\n          </div>\r\n        </div>\r\n        <b-table\r\n          no-footer-sorting\r\n          id=\"table-depositos-itens\"\r\n          head-variant=\"dark\"\r\n          sort-desc\r\n          selectable\r\n          striped\r\n          bordered\r\n          hovers\r\n          responsive\r\n          small\r\n          select-mode=\"single\"\r\n          :items=\"depositosItens\"\r\n          :fields=\"itensFields\"\r\n          :filter=\"filtroItens\"\r\n          :filter-included-fields=\"filterOn\"\r\n        >\r\n          <template #cell(Estoque)=\"row\">\r\n            <div>\r\n              <b-form-input\r\n                id=\"descricao-input\"\r\n                v-model=\"row.item.Estoque\"\r\n                required\r\n                :disabled=\"\r\n                  selectedDeposito == null ||\r\n                    selectedDeposito.ParEmpDepositoId != null\r\n                \"\r\n              ></b-form-input>\r\n            </div>\r\n          </template>\r\n          <template #cell(UltimaAtualizacao)=\"row\">{{\r\n            new Date(row.item.UltimaAtualizacao).toLocaleDateString()\r\n          }}</template>\r\n\r\n          <template #cell(actions)=\"row\" class=\"text-center\">\r\n            <a class=\"text-center\">\r\n              <b-icon-pencil\r\n                font-scale=\"1.5\"\r\n                @click=\"saveNewStoque(row.item)\"\r\n              ></b-icon-pencil>\r\n            </a>\r\n          </template>\r\n        </b-table>\r\n      </b-card>\r\n    </section>\r\n\r\n    <!--  MODAIS -->\r\n    <b-modal\r\n      centered\r\n      id=\"modal-itens\"\r\n      ref=\"modal\"\r\n      title=\"Adicionar nova Referência\"\r\n      @show=\"resetModal\"\r\n      @hidden=\"resetModal\"\r\n      @ok=\"handleOk\"\r\n    >\r\n      <form ref=\"form\" @submit.stop.prevent=\"handleSubmit\">\r\n        <b-form-tags\r\n          input-id=\"tags-pills\"\r\n          v-model=\"referencia\"\r\n          tag-variant=\"primary\"\r\n          tag-pills\r\n          size=\"sm\"\r\n          separator=\",  \"\r\n          placeholder=\"Separe as referências com espaço ou vírgula.\"\r\n          required\r\n        ></b-form-tags>\r\n      </form>\r\n    </b-modal>\r\n\r\n    <b-modal\r\n      centered\r\n      id=\"Transportadoras\"\r\n      ref=\"modal2\"\r\n      title=\"Cadastro de Transportadoras / Redespacho\"\r\n      size=\"xl\"\r\n      @ok=\"handleOkTr\"\r\n    >\r\n      <b-row>\r\n        <b-col><span>Transportadora</span></b-col>\r\n        <b-col><span>Transportadora do Pedido</span></b-col>\r\n        <b-col><span>Transportadora de Redespacho</span></b-col>\r\n      </b-row>\r\n      <b-row\r\n        v-for=\"(input, index) in this.transportadoras\"\r\n        :key=\"index\"\r\n        class=\"mb-1\"\r\n      >\r\n        <b-col>\r\n          <b-form-input\r\n            placeholder=\"Transportadora\"\r\n            id=\"Transportadora\"\r\n            v-model=\"input.Transportadora\"\r\n            required\r\n          ></b-form-input>\r\n        </b-col>\r\n        <b-col>\r\n          <b-form-input\r\n            placeholder=\"Transportadora Pedido\"\r\n            id=\"TranspPedido\"\r\n            v-model=\"input.TranspPedido\"\r\n            required\r\n          ></b-form-input>\r\n        </b-col>\r\n        <b-col>\r\n          <b-form-input\r\n            placeholder=\"Transportadora Redespacho\"\r\n            id=\"TranspRedespacho\"\r\n            v-model=\"input.TranspRedespacho\"\r\n            required\r\n          ></b-form-input>\r\n        </b-col>\r\n      </b-row>\r\n\r\n      <div class=\"text-center\">\r\n        <b-button @click=\"newInput\">Novo</b-button>\r\n      </div>\r\n    </b-modal>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport ApiService from \"../../../services/api.service\";\r\n\r\nexport default {\r\n  name: \"Docas\",\r\n  components: {},\r\n  data() {\r\n    return {\r\n      transportadoras: [],\r\n\r\n      docas: [],\r\n      depositos: [],\r\n      depositosItens: [],\r\n      selectedDeposito: null,\r\n      selectedDoca: null,\r\n      alteraEstoque: false,\r\n      filtroItens: \"\",\r\n      filterOn: [\"Item\"],\r\n\r\n      referencia: [],\r\n\r\n      docasFields: [\r\n        { key: \"Descricao\", sortable: true, label: \"Descrição\", visible: true },\r\n        {\r\n          key: \"PrazoDias\",\r\n          sortable: true,\r\n          label: \"Prazo em dias\",\r\n          visible: true,\r\n        },\r\n        {\r\n          key: \"ParEmpDepositoId\",\r\n          sortable: true,\r\n          label: \"ID deposito Interno\",\r\n          visible: true,\r\n        },\r\n        {\r\n          key: \"Transportadoras\",\r\n          sortable: true,\r\n          label: \"Transportadoras / Redespacho\",\r\n          visible: true,\r\n        },\r\n      ],\r\n      depositosFields: [\r\n        { key: \"Descricao\", sortable: true, label: \"Descrição\", visible: true },\r\n        {\r\n          key: \"ParEmpDepositoId\",\r\n          sortable: true,\r\n          label: \"ID deposito Interno\",\r\n          visible: true,\r\n        },\r\n        {\r\n          key: \"PrazoDias\",\r\n          sortable: true,\r\n          label: \"Prazo em dias\",\r\n          visible: true,\r\n        },\r\n      ],\r\n      itensFields: [\r\n        { key: \"Item\", sortable: true, visible: true },\r\n        {\r\n          key: \"Estoque\",\r\n          sortable: true,\r\n          visible: true,\r\n        },\r\n      ],\r\n    };\r\n  },\r\n\r\n  created() {\r\n    this.loadDocas();\r\n  },\r\n\r\n  methods: {\r\n    selecionado(Id) {\r\n      this.selectedOption = Id;\r\n\r\n      if (Id == 2) {\r\n        this.itensLoad();\r\n      }\r\n    },\r\n\r\n    async saveItens(item) {\r\n      await ApiService.post(\"v2/IntranetEcommerceB2C/DepositosItens/Save\", {\r\n        item,\r\n      })\r\n        .then((res) => {\r\n          this.$root.toastsuccess(\"Salvo com Sucesso!\");\r\n        })\r\n        .catch((e) => {\r\n          this.$root.toastdanger(\"Erro! \" + e);\r\n        });\r\n\r\n      this.depositosItensLoad(this.selectedDeposito.Id);\r\n    },\r\n\r\n    async loadDocas() {\r\n      await ApiService.get(\"v2/IntranetEcommerceB2C/Docas/Get\").then(\r\n        (result) => {\r\n          if (result.data.Success == true) {\r\n            this.docas = result.data.Data;\r\n          } else {\r\n            return;\r\n          }\r\n        }\r\n      );\r\n    },\r\n\r\n    onRowSelectedDocas(items) {\r\n      // console.log(items[0].Id);\r\n      this.selectedDoca = items[0].Id;\r\n\r\n      this.depositos = [];\r\n      this.depositosItens = [];\r\n      this.selectedDeposito = null;\r\n\r\n      this.depositosLoad(items[0].Id);\r\n    },\r\n    onRowSelectedDepositos(items) {\r\n      // console.log(items[0].Id);\r\n      this.depositosItens = [];\r\n      //this.selectedDeposito.ParEmpDepositoId = items[0].ParEmpDepositoId != null;\r\n      this.selectedDeposito = items[0];\r\n      this.depositosItensLoad(this.selectedDeposito.Id);\r\n    },\r\n\r\n    async depositosLoad(Id) {\r\n      await ApiService.post(\"v2/IntranetEcommerceB2C/Depositos/Get\", {\r\n        id: Id,\r\n      }).then((result) => {\r\n        if (result.data.Success == true) {\r\n          this.depositos = result.data.Data;\r\n        }\r\n      });\r\n    },\r\n\r\n    depositosItensLoad(Id) {\r\n      ApiService.post(\"v2/IntranetEcommerceB2C/DepositosItens/Get\", {\r\n        id: Id,\r\n      }).then((result) => {\r\n        if (result.data.Success == true) {\r\n          this.depositosItens = result.data.Data;\r\n        }\r\n      });\r\n    },\r\n\r\n    /* Modais */\r\n    showModalItens() {\r\n      this.$root.$emit(\"bv::show::modal\", \"modal-itens\", \"#btnShow\");\r\n    },\r\n    resetModal() {\r\n      this.referencia = [];\r\n    },\r\n    handleOk(bvModalEvent) {\r\n      // Prevent modal from closing\r\n      bvModalEvent.preventDefault();\r\n      // Trigger submit handler\r\n      this.handleSubmit();\r\n    },\r\n    async handleSubmit() {\r\n      var item = [];\r\n      // Exit when the form isn't valid\r\n      if (this.referencia.length > 0) {\r\n        this.referencia.forEach((ref) => {\r\n          item.push({\r\n            DepositoId: this.selectedDeposito.Id,\r\n            Item: ref,\r\n            Estoque: 0,\r\n          });\r\n        });\r\n        this.saveItens(item);\r\n      }\r\n\r\n      this.$nextTick(() => {\r\n        this.$bvModal.hide(\"modal-itens\");\r\n      });\r\n    },\r\n    showModalTransportadoras(itens) {\r\n      console.log(itens);\r\n      this.transportadoras = [];\r\n      this.transportadoras = itens.Transportadoras;\r\n\r\n      this.$root.$emit(\r\n        \"bv::show::modal\",\r\n        \"Transportadoras\",\r\n        \"#btnShow\",\r\n        itens.Id\r\n      );\r\n    },\r\n\r\n    handleOkTr() {\r\n      if (this.transportadoras == null) {\r\n        return;\r\n      } else if (\r\n        this.transportadoras[this.transportadoras.length - 1].TranspPedido\r\n          .length == 0 ||\r\n        this.transportadoras[this.transportadoras.length - 1].Transportadora\r\n          .length == 0\r\n      ) {\r\n        return;\r\n      } else {\r\n        this.handleSubmitTr();\r\n      }\r\n    },\r\n\r\n    async handleSubmitTr() {\r\n      console.log(this.transportadoras);\r\n\r\n      // envia para salvar\r\n      ApiService.post(\"v2/IntranetEcommerceB2C/DocasTranspRedespacho/Save\", {\r\n        Redespachos: this.transportadoras,\r\n        DocaId: this.selectedDoca,\r\n      }).then((res) => {\r\n        this.docas.find(\r\n          (id) => id.Id == this.selectedDoca\r\n        ).Transportadoras = res.data.Data;\r\n      });\r\n\r\n      this.$nextTick(() => {\r\n        this.$bvModal.hide(\"Transportadoras\");\r\n      });\r\n    },\r\n\r\n    newInput() {\r\n      if (this.transportadoras == null) this.transportadoras = [];\r\n      this.transportadoras.push({\r\n        Id: \"\",\r\n        DocaId: this.selectedDoca,\r\n        Transportadora: \"\",\r\n        TranspPedido: \"\",\r\n        TranspRedespacho: \"\",\r\n      });\r\n    },\r\n  },\r\n};\r\n</script>\r\n\r\n<style scoped>\r\n.doc {\r\n  display: flex;\r\n  align-items: center;\r\n  flex-wrap: nowrap;\r\n  justify-content: space-between;\r\n}\r\n\r\n.gallerypanel {\r\n  min-width: 250px;\r\n  min-height: 220px;\r\n  margin-left: 0 !important;\r\n}\r\n.lock {\r\n  position: relative;\r\n  top: -28px;\r\n  float: right;\r\n}\r\n.hand {\r\n  cursor: pointer;\r\n}\r\n.counter {\r\n  /* background-color: darkred; */\r\n  -webkit-transition: -webkit-transform 0.5s ease-in-out;\r\n  -ms-transition: -ms-transform 0.5s ease-in-out;\r\n  transition: background-color 0.5s ease-in-out;\r\n  /* color: whitesmoke; */\r\n  padding: 20px 0;\r\n  border-radius: 5px;\r\n  opacity: 0.85;\r\n  /* border: 2px solid firebrick; */\r\n}\r\n</style>\r\n"]}]}