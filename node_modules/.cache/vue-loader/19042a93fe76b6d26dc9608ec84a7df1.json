{"remainingRequest":"C:\\k1-services\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\k1-services\\src\\views\\Home.vue?vue&type=style&index=0&id=fae5bece&scoped=true&lang=css&","dependencies":[{"path":"C:\\k1-services\\src\\views\\Home.vue","mtime":1674602801816},{"path":"C:\\k1-services\\node_modules\\css-loader\\dist\\cjs.js","mtime":1670977934642},{"path":"C:\\k1-services\\node_modules\\vue-loader\\lib\\loaders\\stylePostLoader.js","mtime":1670977935796},{"path":"C:\\k1-services\\node_modules\\postcss-loader\\src\\index.js","mtime":1670977935130},{"path":"C:\\k1-services\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1670977934221},{"path":"C:\\k1-services\\node_modules\\vue-loader\\lib\\index.js","mtime":1670977935327}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCg0KLmhvbWUgew0KICBqdXN0aWZ5LWNvbnRlbnQ6IGNlbnRlcjsNCiAgdGV4dC1hbGlnbjogY2VudGVyOw0KfQ0KLmltYWdlaGVhZGVyIHsNCiAgYm9yZGVyLXJhZGl1czogNTBweDsNCn0NCg=="},{"version":3,"sources":["Home.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAiEA;AACA;AACA;AACA;AACA;AACA;AACA","file":"Home.vue","sourceRoot":"src/views","sourcesContent":["<template>\r\n  <div class=\"home\">\r\n    <div class=\"imageheader\">\r\n      <!-- <b-img\r\n        class=\"hand\"\r\n        :src=\"require('../assets/GRUPO_K1_Marcas.png')\"\r\n        usemap=\"#image-map\"\r\n        fluid\r\n        @click=\"scrollMeTo('atalhos')\"\r\n      ></b-img> -->\r\n\r\n      <Carousel />\r\n    </div>\r\n\r\n    <div class=\"fullpage mx-auto\">\r\n      <div class=\"container p-5\" ref=\"atalhos\">\r\n        <h3>\r\n          {{\r\n            $t(\"Abaixo algumas opções de acesso aos serviços do Grupo K1\")\r\n              | capitalize\r\n          }}\r\n        </h3>\r\n      </div>\r\n\r\n      <div class=\"container\">\r\n        <div class=\"mb-5 shadow-sm\">\r\n          <b-input-group size=\"xl\">\r\n            <b-input-group-prepend>\r\n              <b-input-group-text>\r\n                <b-icon-search />\r\n              </b-input-group-text>\r\n            </b-input-group-prepend>\r\n            <b-form-input\r\n              id=\"input-filtro\"\r\n              ref=\"input-filtro\"\r\n              type=\"search\"\r\n              size=\"xl\"\r\n              v-model=\"filtromenus\"\r\n              :placeholder=\"$t('Encontre a opção desejada')\"\r\n              @keyup.enter=\"abremenu(mainmenusfiltered[0])\"\r\n            ></b-form-input>\r\n          </b-input-group>\r\n        </div>\r\n        <GridGallery :items=\"mainmenusfiltered\" class=\"mb-5\" />\r\n      </div>\r\n\r\n      <!--\r\n      <div>\r\n        mainmenusfiltered: <pre>{{mainmenusfiltered}}</pre>\r\n      </div>\r\n      <div>\r\n        gtxsidemenus: {{gtxsidemenus}}\r\n      </div>\r\n      -->\r\n    </div>\r\n\r\n    <!-- <hr class=\"mb-5\"/> -->\r\n\r\n    <!-- <b-card title=\"Informativos\" body-class=\"text-center\" header-tag=\"nav\" class=\"shadow container\" v-if=\"gtxloginAuth\">\r\n      <MuralCarousel/>\r\n    </b-card> -->\r\n  </div>\r\n</template>\r\n\r\n<style scoped>\r\n.home {\r\n  justify-content: center;\r\n  text-align: center;\r\n}\r\n.imageheader {\r\n  border-radius: 50px;\r\n}\r\n</style>\r\n\r\n<script>\r\nimport GridGallery from \"../components/GridGallery\";\r\nimport MuralCarousel from \"../pages/mural/components/mural_carousel\";\r\nimport Carousel from \"../components/Carousel.vue\";\r\nimport API from \"../services/api.service.js\";\r\nimport { mapActions, mapGetters } from \"vuex\";\r\nexport default {\r\n  name: \"Home\",\r\n\r\n  components: {\r\n    GridGallery,\r\n    MuralCarousel,\r\n    Carousel,\r\n  },\r\n\r\n  data() {\r\n    return {\r\n      valor: 123,\r\n      filtromenus: \"\",\r\n      teste: [],\r\n      desktop: [],\r\n      desktopdefault: [\r\n        {\r\n          title: \"Máquinas UZ\",\r\n          message: \"\",\r\n          variant: \"primary\",\r\n          to: \"/maquinasuz\",\r\n          icon: \"wrench\",\r\n          auth: false,\r\n        },\r\n        {\r\n          title: \"Dashboard UZ\",\r\n          message: \"\",\r\n          variant: \"success\",\r\n          to: \"/dsmuz\",\r\n          icon: \"columns-gap\",\r\n          auth: false,\r\n        },\r\n        {\r\n          title: \"Confere Partlist\",\r\n          message: \"\",\r\n          variant: \"success\",\r\n          to: \"/partlist\",\r\n          icon: \"upc-scan\",\r\n          auth: true,\r\n        },\r\n        {\r\n          title: \"Ramais\",\r\n          message: \"\",\r\n          variant: \"success\",\r\n          to: \"/ramais\",\r\n          icon: \"telephone\",\r\n          auth: true,\r\n        },\r\n      ],\r\n    };\r\n  },\r\n\r\n  beforeMount() {\r\n    API.get(\"Servicos/Sidemenu\")\r\n      .then((apidata) => {\r\n        // console.log(\"busca.apidata:\", apidata);\r\n        if (apidata.data.Success == \"True\") {\r\n          const res = API.prepareData(apidata.data);\r\n          this.desktopdefault = res.apiresponse.Data;\r\n          //this.salvaData();\r\n        } else {\r\n          this.desktopdefault = [];\r\n        }\r\n      })\r\n      .catch(() => (this.desktopdefault = []));\r\n  },\r\n\r\n  computed: {\r\n    ...mapGetters([\"gtxsidemenus\", \"gtxloginAuth\", \"gtxAuthisLoggedin\"]),\r\n\r\n    mainmenusfiltered() {\r\n      return this.mainmenus.filter(\r\n        (f) =>\r\n          f.title.toUpperCase().includes(this.filtromenus.toUpperCase()) ||\r\n          f.message.toUpperCase().includes(this.filtromenus.toUpperCase())\r\n      );\r\n      // return this.mainmenus;\r\n    },\r\n\r\n    mainmenus() {\r\n      if (\r\n        this.gtxAuthisLoggedin &&\r\n        this.gtxsidemenus &&\r\n        this.gtxsidemenus.length > 0\r\n      ) {\r\n        return this.gtxsidemenus.map((m) => {\r\n          return {\r\n            title: m.caption,\r\n            message: \"\",\r\n            variant: \"primary\",\r\n            to: m.to,\r\n            icon: m.icon,\r\n            toparam: m.toparam,\r\n            submenus: m.submenus,\r\n          };\r\n        });\r\n      } else {\r\n        return this.desktopdefault.map((m) => {\r\n          return {\r\n            title: m.caption || m.title,\r\n            message: \"\",\r\n            variant: \"primary\",\r\n            to: m.to,\r\n            icon: m.icon,\r\n            toparam: m.toparam,\r\n            submenus: [],\r\n          };\r\n        });\r\n      }\r\n    },\r\n  },\r\n\r\n  methods: {\r\n    ...mapActions([\"actnavbar\"]),\r\n\r\n    montadesktop(autenticado) {\r\n      this.desktop = autenticado\r\n        ? this.gtxsidemenus.map((m) => {\r\n            return {\r\n              title: m.caption,\r\n              message: \"\",\r\n              variant: \"primary\",\r\n              to: m.to,\r\n              name: m.idMenu,\r\n              icon: m.icon,\r\n              submenus: m.submenus,\r\n            };\r\n          })\r\n        : this.desktopdefault;\r\n    },\r\n\r\n    scrollMeTo(refName) {\r\n      let element = this.$refs[refName];\r\n      if (refName == \"atalhos\") {\r\n        this.$refs[\"input-filtro\"].focus();\r\n      }\r\n\r\n      //window.scrollTo(0, top);\r\n      element.scrollIntoView({ behavior: \"smooth\" });\r\n    },\r\n\r\n    abremenu(menu) {\r\n      if (this.filtromenus !== \"\" && menu && menu.to) {\r\n        this.$router.push(menu.to);\r\n      }\r\n    },\r\n  },\r\n\r\n  created() {\r\n    this.actnavbar(true);\r\n    this.montadesktop(\r\n      this.gtxAuthisLoggedin &&\r\n        this.gtxsidemenus &&\r\n        this.gtxsidemenus.length > 0\r\n    );\r\n  },\r\n\r\n  watch: {\r\n    /*\r\n    gtxsidemenus(menus) {\r\n      // {title: 'Máquinas UZ', message: '', variant: \"primary\", to: '/maquinasuz', icon: 'wrench'},\r\n      const desk = menus.map(m => {return {title: m.caption, message: '', variant: \"primary\", to: m.to, icon: m.icon}})\r\n      this.desktop = desk\r\n      console.log('Home.gtxsidemenus.desktop:', desk)\r\n    },\r\n*/\r\n\r\n    gtxAuthisLoggedin() {\r\n      // TODO: restaurar o menu desktop\r\n      this.montadesktop();\r\n    },\r\n  },\r\n};\r\n</script>\r\n\r\n<style scoped>\r\n.home {\r\n  margin-top: 10px;\r\n}\r\n.hand {\r\n  cursor: pointer;\r\n}\r\n</style>\r\n"]}]}