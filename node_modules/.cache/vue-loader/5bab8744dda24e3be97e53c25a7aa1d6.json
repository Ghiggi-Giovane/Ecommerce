{"remainingRequest":"C:\\k1-services\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\k1-services\\src\\pages\\consulta\\components\\TabsConsultas.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\k1-services\\src\\pages\\consulta\\components\\TabsConsultas.vue","mtime":1701906516455},{"path":"C:\\k1-services\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1670977934221},{"path":"C:\\k1-services\\node_modules\\babel-loader\\lib\\index.js","mtime":1670977935138},{"path":"C:\\k1-services\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1670977934221},{"path":"C:\\k1-services\\node_modules\\vue-loader\\lib\\index.js","mtime":1674603023821}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KDQppbXBvcnQgVGFibGVFZGl0QXBpIGZyb20gJy4uLy4uLy4uL2NvbXBvbmVudHMvVGFibGVFZGl0QXBpJw0KaW1wb3J0IEFwaVNlcnZpY2UgZnJvbSAnLi4vLi4vLi4vc2VydmljZXMvYXBpLnNlcnZpY2UnDQppbXBvcnQgeyBtYXBHZXR0ZXJzLCBtYXBBY3Rpb25zIH0gZnJvbSAndnVleCcNCg0KZXhwb3J0IGRlZmF1bHQgew0KDQogICAgbmFtZTogJ1RhYnNDb25zdWx0YXMnLA0KDQogICAgY29tcG9uZW50czogew0KDQogICAgICAgIFRhYmxlRWRpdEFwaQ0KDQogICAgfSwNCg0KICAgIGRhdGEoKSB7DQogICAgICAgIHJldHVybiB7DQogICAgICAgICAgICBmaWx0cm86ICcnLA0KICAgICAgICAgICAgdGFiSW5kZXg6IDAsDQogICAgICAgICAgICBjdXJyZW50UGFnZTogMSwNCiAgICAgICAgICAgIHRvdGFsUGFnZTogMSwNCiAgICAgICAgICAgIHBlclBhZ2U6IDUsDQogICAgICAgICAgICBjdXJyZW50UGFyYW1zOiAnJywNCiAgICAgICAgICAgIGNvbnN1bHRhczogW10sDQogICAgICAgICAgICByZXN1bHRzOiB7DQogICAgICAgICAgICAgICAgRGF0YTogW10NCiAgICAgICAgICAgIH0sDQogICAgICAgICAgICBzZWxlY3RlZDoge05vbWU6ICdDb25zdWx0YSBuw6NvIHNlbGVjaW9uYWRhJywgY29uZmlnOiB7Y2FwdGlvbjogJ0NvbnN1bHRhIG7Do28gY2FkYXN0cmFkYSd9fSwNCiAgICAgICAgICAgIGxvYWRpbmc6IDAsDQogICAgICAgICAgICBsb2FkY29uc3VsdGFzOiB0cnVlDQogICAgICAgIH0NCiAgICB9LA0KICAgIA0KICAgIGNvbXB1dGVkOiB7DQoNCiAgICAgICAgLi4ubWFwR2V0dGVycyhbJ2d0eGNvbnN1bHRhc0RhdGEnLCAnZ3R4Y29uc3VsdGFzc2VsZWN0ZWQnLCAnZ3R4Y29uc3VsdGFzc2VsZWN0ZWRwYXJhbXMnLCAnZ3R4Y29uc3VsdGFzc2VsZWN0ZWRyZXN1bHQnXSksDQoNCiAgICAgICAgY29tcHV0ZWRwYXJhbXMoKSB7IHJldHVybiB0aGlzLnBhcmFtcyB9LA0KDQogICAgICAgIHNlbGVjdGVkcm91dGUoKSB7IHJldHVybiAodGhpcy5zZWxlY3RlZC5Ob21lICE9PSAnQ29uc3VsdGEgbsOjbyBzZWxlY2lvbmFkYScpID8gJ1NlcnZpY29zL0NPTlNfLycgKyB0aGlzLnNlbGVjdGVkLk5vbWUgOiAnJyB9LA0KICAgICAgICANCiAgICAgICAgc2VsZWN0ZWRwYXJhbXMoKSB7IA0KICAgICAgICAgICAgbGV0IHBhcmFtID0ge30NCiAgICAgICAgICAgIGlmICh0aGlzLnBhcmFtcykgDQogICAgICAgICAgICAgIHRoaXMucGFyYW1zLm1hcChwID0+IHtwYXJhbSA9IHsuLi5wYXJhbSwgLi4ue1twLm5vbWVdOiBwLnZhbHVlfX19KQ0KICAgICAgICAgICAgcmV0dXJuIHBhcmFtDQogICAgICAgIH0sICAgICAgDQoNCiAgICAgICAgcGFyYW1zKCkgew0KICAgICAgICAgICAgbGV0IHBhcnMgPSB0aGlzLmd0eGNvbnN1bHRhc3NlbGVjdGVkcGFyYW1zIHx8IFtdDQoNCi8qICAgICAgICAgICAgIGlmICgodGhpcy5zZWxlY3RlZCkgJiYgKHRoaXMuc2VsZWN0ZWQuY29uZmlnKSkNCiAgICAgICAgICAgICAgcGFycyA9IHRoaXMuc2VsZWN0ZWQuY29uZmlnLnBhcmFtICovDQoNCiAgICAgICAgICAgIHJldHVybiBwYXJzDQogICAgICAgIH0sDQoNCiAgICAgICAgc2VsZWN0UGFyYW1zKCkgew0KICAgICAgICAgICAgbGV0IHBhcnMgPSBbXQ0KICAgICAgICAgICAgaWYgKCh0aGlzLnNlbGVjdGVkLmNvbmZpZykgJiYgKHRoaXMuc2VsZWN0ZWQuY29uZmlnLnBhcmFtKSkgew0KICAgICAgICAgICAgICAgIHRoaXMuc2VsZWN0ZWQuY29uZmlnLnBhcmFtLm1hcChwYXIgPT4gew0KICAgICAgICAgICAgICAgICAgICAvLyBwYXJzLnB1c2goe1twYXIubm9tZV06IHBhci52YWx1ZSB8fCBudWxsfSkNCiAgICAgICAgICAgICAgICAgICAgcGFycy5wdXNoKHtub21lOiBwYXIubm9tZSwgdmFsdWU6IHBhci52YWx1ZSB8fCBudWxsfSkNCiAgICAgICAgICAgICAgICB9KQ0KICAgICAgICAgICAgfQ0KICAgICAgICAgICAgcmV0dXJuIHBhcnMNCiAgICAgICAgfSwNCg0KICAgICAgICBzZWxlY3REYXRhKHBhcmFtKSB7DQogICAgICAgICAgICBsZXQgcmVzID0gbnVsbA0KICAgICAgICAgICAgaWYgKHRoaXMuc2VsZWN0ZWQgJiYgdGhpcy5zZWxlY3RlZC5jb25maWcucGFyYW0gJiYgdGhpcy5zZWxlY3RlZC5jb25maWcucGFyYW0uZmluZChwID0+IHAubm9tZSA9IHBhcmFtLm5vbWUpKQ0KICAgICAgICAgICAgICByZXMgPSB0aGlzLnNlbGVjdGVkLmNvbmZpZy5wYXJhbS5maW5kKHAgPT4gcC5ub21lID0gcGFyYW0ubm9tZSkuZGF0YSB8fCBbXQ0KICAgICAgICAgICAgcmV0dXJuIHJlcyB8fCBbXQ0KICAgICAgICB9LA0KICAgICAgICANCiAgICAgICAgcGFnaW5hdGlvbigpIHsNCiAgICAgICAgICAgIC8vIHJldHVybiBgJlBhZ2VOdW1iZXI9JHt0aGlzLmN1cnJlbnRQYWdlfSZQYWdlU2l6ZT0ke3RoaXMucGVyUGFnZX1gDQogICAgICAgICAgICByZXR1cm4geyBQYWdlTnVtYmVyOiB0aGlzLmN1cnJlbnRQYWdlLCBQYWdlU2l6ZTogdGhpcy5wZXJQYWdlIH0NCiAgICAgICAgfSwNCg0KICAgIH0sDQoNCiAgICBtb3VudGVkKCkgew0KDQogICAgICAgIHRoaXMuYWN0Q29uc3VsdGFzKCkNCg0KICAgIH0sDQoNCiAgICBtZXRob2RzOiB7DQoNCiAgICAgICAgLi4ubWFwQWN0aW9ucyhbJ2FjdENvbnN1bHRhcycsICdhY3RDb25zdWx0YXNTZWxlY3RlZCddKSwNCg0KICAgICAgICBjb25zdWx0YXNmaWx0ZXJlZChmaWx0cm8pIHsNCiAgICAgICAgICAgIHJldHVybiB0aGlzLmd0eGNvbnN1bHRhc0RhdGEuZmlsdGVyKGMgPT4gKGMuY29uZmlnLmNhcHRpb24gfHwgYy5Ob21lKS50b1VwcGVyQ2FzZSgpLmluY2x1ZGVzKGZpbHRyby50b1VwcGVyQ2FzZSgpKSkNCiAgICAgICAgfSwgICAgICAgIA0KDQoNCg0KICAgICAgICBleGVjdXRhQ29uc3VsdGEoKSB7DQogICAgICAgICAgICBjb25zb2xlLmxvZygnZXhlY3V0YUNvbnN1bHRhJykNCiAgICAgICAgICAgIHRoaXMuJHJlZnMucmVzdWx0LmdldEZyb21BcGkoKQ0KICAgICAgICAgICAgdGhpcy50YWJJbmRleCsrDQogICAgICAgIH0sDQoNCiAgICAgICAgX2V4ZWN1dGFDb25zdWx0YSgpIHsNCiAgICAgICAgICAgIHRoaXMubG9hZGluZyA9IDENCiAgICAgICAgICAgIGxldCByb3V0ZSA9ICdTZXJ2aWNvcy9DT05TXycgKyB0aGlzLnNlbGVjdGVkLk5vbWUNCiAgICAgICAgICAgIC8vIGxldCBwYXJhbSA9IG51bGwNCiAgICAgICAgICAgIC8vdGhpcy5jdXJyZW50UGFyYW1zID0gJycNCiAgICAgICAgICAgIHRoaXMuY3VycmVudFBhcmFtcyA9IHt9DQogICAgICAgICAgICB0aGlzLnNlbGVjdFBhcmFtcy5tYXAocGFyID0+IHsNCiAgICAgICAgICAgICAgICB0aGlzLmN1cnJlbnRQYXJhbXMgPSB7Li4udGhpcy5jdXJyZW50UGFyYW1zLCAuLi57W3Bhci5ub21lXTogcGFyLnZhbHVlIHx8IG51bGx9fQ0KICAgICAgICAgICAgICAgIC8vIHRoaXMuY3VycmVudFBhcmFtcyArPSAnJicgKyBwYXIubm9tZSArICc9JyArIChwYXIudmFsdWUgfHwgJ251bGwnKQ0KICAgICAgICAgICAgICAgIC8vIGNvbnNvbGUubG9nKHBhcikNCiAgICAgICAgICAgIH0pDQogICAgICAgICAgICAvLyB0aGlzLmN1cnJlbnRQYXJhbXMgPSB0aGlzLmN1cnJlbnRQYXJhbXMuc3Vic3RyKDEpDQogICAgICAgICAgICBjb25zb2xlLmxvZygncm91dGU6Jywgcm91dGUpDQogICAgICAgICAgICBjb25zb2xlLmxvZygncGFyYW06JywgdGhpcy5jdXJyZW50UGFyYW1zKQ0KICAgICAgICAgICAgY29uc29sZS5sb2coJ3BhZ2luYXRpb246JywgdGhpcy5wYWdpbmF0aW9uKQ0KICAgICAgICAgICAgdGhpcy5jdXJyZW50UGFyYW1zID0gey4uLnRoaXMuY3VycmVudFBhcmFtcywgLi4udGhpcy5wYWdpbmF0aW9ufQ0KDQogICAgICAgICAgICBBcGlTZXJ2aWNlLmdldChyb3V0ZSwgeyBwYXJhbXM6IHRoaXMuY3VycmVudFBhcmFtcyB9KQ0KICAgICAgICAgICAgICAgIC50aGVuKHJlcyA9PiB7DQogICAgICAgICAgICAgICAgICAgIHRoaXMucmVzdWx0cyA9IHJlcy5kYXRhDQogICAgICAgICAgICAgICAgICAgIHRoaXMudG90YWxQYWdlID0gKHJlcy5kYXRhLlBhZ2luYXMuUGFnZUNvdW50ICogcmVzLmRhdGEuUGFnaW5hcy5QYWdlU2l6ZSkNCiAgICAgICAgICAgICAgICAgICAgdGhpcy5wZXJQYWdlID0gcmVzLmRhdGEuUGFnaW5hcy5QYWdlU2l6ZQ0KICAgICAgICAgICAgICAgICAgICB0aGlzLmxvYWRpbmcgPSAwDQogICAgICAgICAgICAgICAgfSkNCg0KICAgICAgICAgICAgdGhpcy50YWJJbmRleCA9IDINCiAgICAgICAgfSwgLy8gZXhlY3V0YUNvbnN1bHRhKCkNCg0KICAgICAgICBzb21hKGZsZCkgew0KICAgICAgICAgICAgY29uc29sZS5sb2coZmxkKQ0KICAgICAgICAgICAgbGV0IHNvbWEgPSAnJzsNCiAgICAgICAgICAgIGlmICh0aGlzLnNlbGVjdGVkLmNvbmZpZyAmJiB0aGlzLnNlbGVjdGVkLmNvbmZpZy5zb21hKSB7DQogICAgICAgICAgICAgICAgdGhpcy5zZWxlY3RlZC5jb25maWcuc29tYS5tYXAocyA9PiB7DQogICAgICAgICAgICAgICAgICAgIGlmIChmbGQuY29sdW1uLnRvVXBwZXJDYXNlKCkgPT0gIHMubm9tZS50b1VwcGVyQ2FzZSgpKSB7DQogICAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhzKQ0KICAgICAgICAgICAgICAgICAgICAgICAgc29tYSA9ICh0aGlzLnJlc3VsdHMuRGF0YQ0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAubWFwKGYgPT4gZltmbGQuY29sdW1uXSkNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLnJlZHVjZSgoYSxiKSA9PiBwYXJzZUZsb2F0KGEpK3BhcnNlRmxvYXQoYikpKS50b0ZpeGVkKDIpDQogICAgICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICB9KQ0KICAgICAgICAgICAgfQ0KICAgICAgICAgICAgcmV0dXJuIHNvbWE7DQogICAgICAgIH0sDQoNCiAgICAgICAgc2VsZWN0KGl0ZW0pIHsNCiAgICAgICAgICAgIHRoaXMubG9hZGluZyA9IDANCiAgICAgICAgICAgIHRoaXMuYWN0Q29uc3VsdGFzU2VsZWN0ZWQoaXRlbS5pZCkgLy8gcG9zaWNpb25hIG5hIHN0b3JlIGEgY29uc3VsdGEgc2VsZWNpb25hZGEgLi4uDQogICAgICAgICAgICB0aGlzLnNlbGVjdGVkID0gdGhpcy5jb25zdWx0YXMuZmluZChmID0+IGYuTm9tZSA9PSBpdGVtLk5vbWUpDQogICAgICAgICAgICAvLyBlbWl0ZSBhIGNvbnN1bHRhIC4uLg0KICAgICAgICAgICAgdGhpcy4kZW1pdCgnb25Db25zdWx0YVNlbGVjdGVkJywgdGhpcy5zZWxlY3RlZCkNCg0KLyogICAgICAgICAgICAgaWYgKCh0aGlzLnNlbGVjdGVkLmNvbmZpZykgJiYgKHRoaXMuc2VsZWN0ZWQuY29uZmlnLnBhcmFtKSkgew0KICAgICAgICAgICAgICAgIHRoaXMuc2VsZWN0ZWQuY29uZmlnLnBhcmFtLm1hcChwYXIgPT4gew0KICAgICAgICAgICAgICAgICAgICBpZiAocGFyLmFwaSkgew0KICAgICAgICAgICAgICAgICAgICAgICAgLy8gc2UgbyBwYXJhbWV0cm8gbsOjbyB0ZW0gbyBjYW1wbyBkYXRhIHZhemlvIGVsZSBwcmVjaXNhIGVzcGVyYXIgbyByZXRvcm5vIGRhIGFwaSBwYXJhIGNyaWFyIGUgcmVuZGVyaXphciBuYSB0ZWxhDQogICAgICAgICAgICAgICAgICAgICAgICAvLyBlbnTDo28gw6kgdXNhZG8gZXNzZSBjb250YWRvciBwYXJhIHPDsyBhYnJpciBhIGFiYSBkb3MgcGFyYW1ldHJvcyBkZXBvaXMgZGUgdGVyIG8gY2FtcG8gZGF0YSBwYXJhIHBvZGVyIGNhcnJlZ2FyIG5hIHRlbGENCiAgICAgICAgICAgICAgICAgICAgICAgIGlmICghcGFyLmRhdGEgfHwgcGFyLmRhdGEubGVuZ3RoPT0wKSB7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5sb2FkaW5nKysNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmFwaUdldChwYXIpLnRoZW4oKCkgPT4gew0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5sb2FkaW5nPjApIHRoaXMubG9hZGluZy0tDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIGNvbnNvbGUubG9nKCdhcGlHZXQ6OmdvPScsIHRoaXMubG9hZGluZykNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMubG9hZGluZz09MCkgdGhpcy50YWJJbmRleCA9IDENCiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KQ0KICAgICAgICAgICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgfSkNCiAgICAgICAgICAgIH0gKi8NCg0KICAgICAgICAgICAgaWYgKCF0aGlzLnRhYkluZGV4PT0xICYmIHRoaXMubG9hZGluZz09MCkgdGhpcy50YWJJbmRleCA9IDENCiAgICAgICAgfSwgLy8gc2VsZWN0KGl0ZW0pDQoNCiAgICAgICAgYXN5bmMgYXBpR2V0KHBhcikgew0KDQogICAgICAgICAgICBBcGlTZXJ2aWNlLnNldEF1dGhIZWFkZXIoKQ0KICAgICAgICAgICAgDQogICAgICAgICAgICBhd2FpdCBBcGlTZXJ2aWNlLmdldChwYXIuYXBpKQ0KICAgICAgICAgICAgICAgIC50aGVuKHJlcyA9PiB7DQogICAgICAgICAgICAgICAgICAgIHBhci5kYXRhID0gcmVzLmRhdGEuRGF0YQ0KICAgICAgICAgICAgICAgIH0pDQogICAgICAgICAgICAgICAgLmNhdGNoIChlcnJvciA9PiB7DQogICAgICAgICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoZXJyb3IubWVzc2FnZSkNCiAgICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBbQXBpU2VydmljZV0gJHtlcnJvcn1gKQ0KICAgICAgICAgICAgICAgIH0pDQogICAgICAgIH0NCg0KICAgIH0sIC8vIGFzeW5jIGFwaUdldChwYXIpDQoNCiAgICB3YXRjaDogew0KDQogICAgICAgIGd0eGNvbnN1bHRhc0RhdGEoKSB7DQogICAgICAgICAgICB0aGlzLmNvbnN1bHRhcyA9IHRoaXMuZ3R4Y29uc3VsdGFzRGF0YQ0KICAgICAgICAgICAgdGhpcy5sb2FkY29uc3VsdGFzID0gZmFsc2UNCiAgICAgICAgfQ0KDQogICAgfQ0KfQ0K"},{"version":3,"sources":["TabsConsultas.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAyGA;AACA;AACA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;AACA;AACA;;;;AAIA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;AACA","file":"TabsConsultas.vue","sourceRoot":"src/pages/consulta/components","sourcesContent":["<template>\r\n    <div>\r\n        <!-- <b-button variant=\"primary\" @click=\"buscaConsultas\">Busca consultas</b-button> -->\r\n        \r\n        <b-card no-body>\r\n            <b-tabs content-class=\"mt-3\" v-model=\"tabIndex\" justified>\r\n                <b-tab title=\"Consultas\" active>\r\n                    <b-row class=\"m-2\">\r\n                        <b-col>\r\n                            <b-input-group>\r\n                                <b-input-group-prepend is-text>\r\n                                    <b-icon icon=\"search\"></b-icon>\r\n                                </b-input-group-prepend>\r\n                                <b-form-input v-model=\"filtro\" placeholder=\"Localizar consulta\"></b-form-input>\r\n                            </b-input-group>\r\n                        </b-col>\r\n                    </b-row>\r\n                    <b-row class=\"m-2\">\r\n                        <b-col>\r\n                            <b-list-group>\r\n                                <!-- <b-overlay :show=\"loadconsultas\"> -->\r\n                                <b-skeleton-wrapper :loading=\"loadconsultas\">\r\n                                    <template #loading>\r\n                                        <b-list-group-item v-for=\"i of [85,76,89]\" :key=\"i\">\r\n                                            <b-skeleton :width=\"`${i}%`\"></b-skeleton>\r\n                                        </b-list-group-item>\r\n                                    </template>\r\n                                    <b-list-group-item\r\n                                        button\r\n                                        v-for=\"(item, i) of consultasfiltered(filtro)\" :key=\"i\"\r\n                                        @click=\"select(item)\"\r\n                                    >\r\n                                        {{item.config.caption || item.Nome}}\r\n                                    </b-list-group-item>\r\n                                <!-- </b-overlay> -->\r\n                                </b-skeleton-wrapper>\r\n                            </b-list-group>                        \r\n                        </b-col>\r\n                    </b-row>\r\n                    <!-- <b-button v-b-toggle=\"`collapse-${consultas.id}`\" variant=\"primary\" block class=\"mt-2\">Show JSON consultas</b-button>\r\n                    <b-collapse :id=\"`collapse-${consultas.id}`\">\r\n                        <pre>\r\n                            {{ consultas }}\r\n                        </pre>\r\n                    </b-collapse> -->\r\n                </b-tab>\r\n                <b-tab title=\"Parametros\">\r\n\r\n                    <b-row class=\"m-2\">\r\n                        <b-col cols=\"12\" md=\"4\" sm=\"6\" v-for=\"(par, i) of params\" :key=\"i\">\r\n                            <!-- <label :for=\"`par${i}`\">{{ par.caption }}</label> -->\r\n                            <b-form-group :label=\"par.caption\">\r\n                            <b-form-input :id=\"`par${i}`\" v-model=\"par.value\" v-if=\"par.tipo=='number'\" type=\"number\" :min=\"par.min || 0\" :max=\"par.max || 0\">{{ par.tipo }}</b-form-input>\r\n                            <b-form-input :id=\"`par${i}`\" v-model=\"par.value\" v-if=\"par.tipo=='string'\" type=\"text\">{{ par.tipo }}</b-form-input>\r\n                            <b-form-select :id=\"`par${i}`\" v-model=\"par.value\" v-if=\"par.tipo=='select' && !par.api\" :options=\"par.data\"></b-form-select>\r\n                            <b-form-select :id=\"`par${i}`\" v-model=\"par.value\" v-if=\"par.tipo=='select' && par.api\" :options=\"par.data\"></b-form-select>\r\n                            <b-form-select :id=\"`par${i}`\" v-model=\"par.value\" v-if=\"par.tipo=='multiple' && par.api\" :options=\"par.data\"></b-form-select>\r\n                            </b-form-group>\r\n                        </b-col>\r\n                    </b-row>\r\n                    <b-row align-h=\"end\" class=\"m-2\">\r\n                        <b-col>\r\n                            <b-button variant=\"success\" @click=\"executaConsulta\" class=\"float-right\">Consultar</b-button>\r\n                        </b-col>\r\n                    </b-row>\r\n                    <!-- <b-button v-b-toggle=\"`collapse-${selected.id}`\" variant=\"primary\" block class=\"mt-2\">Show JSON selected</b-button>\r\n                    <b-collapse :id=\"`collapse-${selected.id}`\">\r\n                        <pre>\r\n                            {{ selected }}\r\n                        </pre>\r\n                    </b-collapse> -->\r\n                </b-tab>\r\n                <b-tab title=\"Resultado\">\r\n                    <b-overlay :show=\"loading>0\" rounded=\"sm\">\r\n\r\n                        <TableEditApi\r\n                            ref=\"result\"\r\n                            :route=\"selectedroute\"\r\n                            :params=\"selectedparams\"\r\n                            :soma=\"[{key: 'valor'}]\"\r\n                            :perPage=\"5\"/>\r\n\r\n                    </b-overlay>\r\n\r\n                    <hr/>\r\n\r\n                    <b-pagination\r\n                        v-model=\"currentPage\"\r\n                        :total-rows=\"totalPage\"\r\n                        :per-page=\"perPage\"\r\n                        align=\"right\">\r\n                    </b-pagination>\r\n                </b-tab>\r\n            </b-tabs>\r\n\r\n        </b-card>\r\n\r\n        <!-- gtxconsultasData: {{gtxconsultasData}}<br/> -->\r\n        gtxconsultasselected: {{gtxconsultasselected}}<br/>\r\n        <!-- gtxconsultasselectedparams: {{gtxconsultasselectedparams}}<br/> -->\r\n\r\n    </div>\r\n</template>\r\n\r\n<script>\r\nimport TableEditApi from '../../../components/TableEditApi'\r\nimport ApiService from '../../../services/api.service'\r\nimport { mapGetters, mapActions } from 'vuex'\r\n\r\nexport default {\r\n\r\n    name: 'TabsConsultas',\r\n\r\n    components: {\r\n\r\n        TableEditApi\r\n\r\n    },\r\n\r\n    data() {\r\n        return {\r\n            filtro: '',\r\n            tabIndex: 0,\r\n            currentPage: 1,\r\n            totalPage: 1,\r\n            perPage: 5,\r\n            currentParams: '',\r\n            consultas: [],\r\n            results: {\r\n                Data: []\r\n            },\r\n            selected: {Nome: 'Consulta não selecionada', config: {caption: 'Consulta não cadastrada'}},\r\n            loading: 0,\r\n            loadconsultas: true\r\n        }\r\n    },\r\n    \r\n    computed: {\r\n\r\n        ...mapGetters(['gtxconsultasData', 'gtxconsultasselected', 'gtxconsultasselectedparams', 'gtxconsultasselectedresult']),\r\n\r\n        computedparams() { return this.params },\r\n\r\n        selectedroute() { return (this.selected.Nome !== 'Consulta não selecionada') ? 'Servicos/CONS_/' + this.selected.Nome : '' },\r\n        \r\n        selectedparams() { \r\n            let param = {}\r\n            if (this.params) \r\n              this.params.map(p => {param = {...param, ...{[p.nome]: p.value}}})\r\n            return param\r\n        },      \r\n\r\n        params() {\r\n            let pars = this.gtxconsultasselectedparams || []\r\n\r\n/*             if ((this.selected) && (this.selected.config))\r\n              pars = this.selected.config.param */\r\n\r\n            return pars\r\n        },\r\n\r\n        selectParams() {\r\n            let pars = []\r\n            if ((this.selected.config) && (this.selected.config.param)) {\r\n                this.selected.config.param.map(par => {\r\n                    // pars.push({[par.nome]: par.value || null})\r\n                    pars.push({nome: par.nome, value: par.value || null})\r\n                })\r\n            }\r\n            return pars\r\n        },\r\n\r\n        selectData(param) {\r\n            let res = null\r\n            if (this.selected && this.selected.config.param && this.selected.config.param.find(p => p.nome = param.nome))\r\n              res = this.selected.config.param.find(p => p.nome = param.nome).data || []\r\n            return res || []\r\n        },\r\n        \r\n        pagination() {\r\n            // return `&PageNumber=${this.currentPage}&PageSize=${this.perPage}`\r\n            return { PageNumber: this.currentPage, PageSize: this.perPage }\r\n        },\r\n\r\n    },\r\n\r\n    mounted() {\r\n\r\n        this.actConsultas()\r\n\r\n    },\r\n\r\n    methods: {\r\n\r\n        ...mapActions(['actConsultas', 'actConsultasSelected']),\r\n\r\n        consultasfiltered(filtro) {\r\n            return this.gtxconsultasData.filter(c => (c.config.caption || c.Nome).toUpperCase().includes(filtro.toUpperCase()))\r\n        },        \r\n\r\n\r\n\r\n        executaConsulta() {\r\n            console.log('executaConsulta')\r\n            this.$refs.result.getFromApi()\r\n            this.tabIndex++\r\n        },\r\n\r\n        _executaConsulta() {\r\n            this.loading = 1\r\n            let route = 'Servicos/CONS_' + this.selected.Nome\r\n            // let param = null\r\n            //this.currentParams = ''\r\n            this.currentParams = {}\r\n            this.selectParams.map(par => {\r\n                this.currentParams = {...this.currentParams, ...{[par.nome]: par.value || null}}\r\n                // this.currentParams += '&' + par.nome + '=' + (par.value || 'null')\r\n                // console.log(par)\r\n            })\r\n            // this.currentParams = this.currentParams.substr(1)\r\n            console.log('route:', route)\r\n            console.log('param:', this.currentParams)\r\n            console.log('pagination:', this.pagination)\r\n            this.currentParams = {...this.currentParams, ...this.pagination}\r\n\r\n            ApiService.get(route, { params: this.currentParams })\r\n                .then(res => {\r\n                    this.results = res.data\r\n                    this.totalPage = (res.data.Paginas.PageCount * res.data.Paginas.PageSize)\r\n                    this.perPage = res.data.Paginas.PageSize\r\n                    this.loading = 0\r\n                })\r\n\r\n            this.tabIndex = 2\r\n        }, // executaConsulta()\r\n\r\n        soma(fld) {\r\n            console.log(fld)\r\n            let soma = '';\r\n            if (this.selected.config && this.selected.config.soma) {\r\n                this.selected.config.soma.map(s => {\r\n                    if (fld.column.toUpperCase() ==  s.nome.toUpperCase()) {\r\n                        console.log(s)\r\n                        soma = (this.results.Data\r\n                                .map(f => f[fld.column])\r\n                                .reduce((a,b) => parseFloat(a)+parseFloat(b))).toFixed(2)\r\n                    }\r\n                })\r\n            }\r\n            return soma;\r\n        },\r\n\r\n        select(item) {\r\n            this.loading = 0\r\n            this.actConsultasSelected(item.id) // posiciona na store a consulta selecionada ...\r\n            this.selected = this.consultas.find(f => f.Nome == item.Nome)\r\n            // emite a consulta ...\r\n            this.$emit('onConsultaSelected', this.selected)\r\n\r\n/*             if ((this.selected.config) && (this.selected.config.param)) {\r\n                this.selected.config.param.map(par => {\r\n                    if (par.api) {\r\n                        // se o parametro não tem o campo data vazio ele precisa esperar o retorno da api para criar e renderizar na tela\r\n                        // então é usado esse contador para só abrir a aba dos parametros depois de ter o campo data para poder carregar na tela\r\n                        if (!par.data || par.data.length==0) {\r\n                            this.loading++\r\n                            this.apiGet(par).then(() => {\r\n                                if (this.loading>0) this.loading--\r\n                                // console.log('apiGet::go=', this.loading)\r\n                                if (this.loading==0) this.tabIndex = 1\r\n                            })\r\n                        }\r\n                    }\r\n                })\r\n            } */\r\n\r\n            if (!this.tabIndex==1 && this.loading==0) this.tabIndex = 1\r\n        }, // select(item)\r\n\r\n        async apiGet(par) {\r\n\r\n            ApiService.setAuthHeader()\r\n            \r\n            await ApiService.get(par.api)\r\n                .then(res => {\r\n                    par.data = res.data.Data\r\n                })\r\n                .catch (error => {\r\n                    console.error(error.message)\r\n                    throw new Error(`[ApiService] ${error}`)\r\n                })\r\n        }\r\n\r\n    }, // async apiGet(par)\r\n\r\n    watch: {\r\n\r\n        gtxconsultasData() {\r\n            this.consultas = this.gtxconsultasData\r\n            this.loadconsultas = false\r\n        }\r\n\r\n    }\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n  .col-form-label {\r\n      padding-bottom: 0;\r\n  }\r\n\r\n</style>"]}]}