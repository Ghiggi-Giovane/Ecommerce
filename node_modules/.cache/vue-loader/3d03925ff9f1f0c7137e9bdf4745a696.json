{"remainingRequest":"C:\\k1-services\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\k1-services\\src\\pages\\om\\views\\Qr_codes_imob.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\k1-services\\src\\pages\\om\\views\\Qr_codes_imob.vue","mtime":1701906516504},{"path":"C:\\k1-services\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1670977934221},{"path":"C:\\k1-services\\node_modules\\babel-loader\\lib\\index.js","mtime":1670977935138},{"path":"C:\\k1-services\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1670977934221},{"path":"C:\\k1-services\\node_modules\\vue-loader\\lib\\index.js","mtime":1674603023821}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KDQpleHBvcnQgZGVmYXVsdCB7DQogIG5hbWU6ICJRUkNvZGVzIiwNCg0KICBkYXRhKCkgew0KICAgIHJldHVybiB7DQogICAgICBmb3JtcHJpbnQ6IHsNCiAgICAgICAgY29kaWdvczogIiIsDQogICAgICAgIGVtcHJlc2E6ICIiLA0KICAgICAgICBtYXJnZW06IDAsDQogICAgICB9LA0KICAgICAgZW1wcmVzYTogIiIsDQogICAgICBjb2RpZ29zOiAiIiwNCiAgICAgIGNvZGlnb3MyOiBbXSwNCiAgICAgIG1lc3NhZ2VfdG9hc3Q6ICIiLA0KICAgICAgY2FuUHJpbnQ6IGZhbHNlLA0KICAgIH07DQogIH0sDQoNCiAgbWV0aG9kczogew0KICAgIGdldFFyQ29kZSgpIHsNCiAgICAgIC8vIHZvbHRhIGEgc29saWNpdGFyIGEgY29uZmlybWHDp8OjbyBkYSBpbXByZXNzw6NvLi4uDQogICAgICB0aGlzLmNhblByaW50ID0gZmFsc2U7DQoNCiAgICAgIC8vIGp1bnRhIGFzIHRhZ3MgZGUgY8OzZGlnb3MgaW5mb3JtYWRhcyAuLi4NCiAgICAgIHRoaXMuZm9ybXByaW50LmNvZGlnb3MgPSB0aGlzLmNvZGlnb3MyLmpvaW4oIjsiKTsNCiAgICAgIHRoaXMuZm9ybXByaW50LmVtcHJlc2EgPSB0aGlzLmVtcHJlc2E7DQoNCiAgICAgIHRoaXMuJGJ2TW9kYWwuc2hvdygibW9kYWwtaW1wcmltaXIiKTsNCiAgICB9LA0KDQogICAgcmVuZGVyUXJjb2RlKGksIGUpIHsNCiAgICAgIHZhciBvYmplY3QgPSBgeydJbW9iaWxpemFkbyc6ICcke2l9JywgJ2VtcHJlc2EnOiAnJHtlfSd9YDsNCiAgICAgIHJldHVybiBgaHR0cDovL2NoYXJ0LmFwaXMuZ29vZ2xlLmNvbS9jaGFydD9jaHQ9cXImY2hzPTIwMHgyMDAmY2hsPSR7b2JqZWN0fSZjaG9lPVVURi04JmNobGQ9dW5kZWZpbmVkYDsNCiAgICB9LA0KDQogICAgaW1wcmltaXIodGFnaWQpIHsNCiAgICAgIGNvbnN0IGVsID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQodGFnaWQpLmlubmVySFRNTDsNCiAgICAgIHRoaXMucHJpbnRFbGVtZW50Q29udGVudChlbCk7DQogICAgfSwNCg0KICAgIHByaW50RWxlbWVudENvbnRlbnQoZWwpIHsNCiAgICAgIHZhciBwcmludFdpbmRvdyA9IHdpbmRvdy5vcGVuKA0KICAgICAgICAiIiwNCiAgICAgICAgIkltcHJlc3PDo28gZGUgUVJDb2RlcyIsDQogICAgICAgICJyZXNpemFibGUsc2Nyb2xsYmFycyxzdGF0dXMiDQogICAgICApOw0KDQogICAgICBwcmludFdpbmRvdy5kb2N1bWVudC53cml0ZSgNCiAgICAgICAgIjxodG1sPjxoZWFkPjx0aXRsZT4iICsgZG9jdW1lbnQudGl0bGUgKyAiPC90aXRsZT4iDQogICAgICApOw0KDQogICAgICBwcmludFdpbmRvdy5kb2N1bWVudC53cml0ZSgNCiAgICAgICAgJzxsaW5rIHR5cGU9InRleHQvY3NzIiByZWw9InN0eWxlc2hlZXQiIGhyZWY9Ii8vdW5wa2cuY29tL2Jvb3RzdHJhcC9kaXN0L2Nzcy9ib290c3RyYXAubWluLmNzcyIvPicNCiAgICAgICk7DQoNCiAgICAgIHByaW50V2luZG93LmRvY3VtZW50LndyaXRlKCI8L2hlYWQ+PGJvZHk+Iik7DQogICAgICBwcmludFdpbmRvdy5kb2N1bWVudC53cml0ZShlbCk7DQogICAgICBwcmludFdpbmRvdy5kb2N1bWVudC53cml0ZSgiPC9ib2R5PjwvaHRtbD4iKTsNCg0KICAgICAgLy9wcmludFdpbmRvdy5kb2N1bWVudC5jbG9zZSgpOyAvLyBuZWNlc3NhcnkgZm9yIElFID49IDEwDQogICAgICBwcmludFdpbmRvdy5mb2N1cygpOyAvLyBuZWNlc3NhcnkgZm9yIElFID49IDEwKi8NCg0KICAgICAgc2V0VGltZW91dCgoKSA9PiB7DQogICAgICAgIHByaW50V2luZG93LnByaW50KCk7DQogICAgICAgIHByaW50V2luZG93LmNsb3NlKCk7DQogICAgICAgIHRoaXMuJGJ2TW9kYWwuaGlkZSgibW9kYWwtaW1wcmltaXIiKTsNCiAgICAgIH0sIDIwMDApOw0KDQogICAgICByZXR1cm4gdHJ1ZTsNCiAgICB9LCAvLyBwcmludEVsZW1lbnRDb250ZW50KGVsKQ0KICB9LCAvLyBtZXRob2RzDQp9Ow0K"},{"version":3,"sources":["Qr_codes_imob.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAqGA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA","file":"Qr_codes_imob.vue","sourceRoot":"src/pages/om/views","sourcesContent":["<template>\r\n  <div id=\"appprint\" class=\"m-2\">\r\n    <b-toast id=\"success-toast\" title=\"Sucesso\" variant=\"success\" solid>{{\r\n      message_toast\r\n    }}</b-toast>\r\n\r\n    <b-toast\r\n      id=\"danger-toast\"\r\n      title=\"Ops, falha na execução\"\r\n      variant=\"danger\"\r\n      solid\r\n      >{{ message_toast }}</b-toast\r\n    >\r\n\r\n    <b-card>\r\n      <template #header>\r\n        <h3 class=\"mb-0\">Impressão de QR Codes</h3>\r\n      </template>\r\n      <b-row>\r\n        <b-col>\r\n          <b-form-group\r\n            id=\"input-group-empresa\"\r\n            label-for=\"input-empresa\"\r\n            label=\"Empresa\"\r\n          >\r\n            <b-form-input\r\n              input-id=\"input-codigos\"\r\n              v-model=\"empresa\"\r\n              placeholder=\"Informe a empresa do Imobilizado. Ex: 8, 15\"\r\n            ></b-form-input>\r\n          </b-form-group>\r\n        </b-col>\r\n      </b-row>\r\n      <b-row>\r\n        <b-col>\r\n          <b-form-group\r\n            id=\"input-group-codigos\"\r\n            label-for=\"input-codigos\"\r\n            label=\"Códigos dos Imobilizados\"\r\n          >\r\n            <b-form-tags\r\n              input-id=\"input-codigos\"\r\n              v-model=\"codigos2\"\r\n              separator=\";\"\r\n              remove-on-delete\r\n              placeholder=\"Informe os Códigos do Imobilizado.\"\r\n            ></b-form-tags>\r\n          </b-form-group>\r\n        </b-col>\r\n      </b-row>\r\n\r\n      <b-row>\r\n        <b-col style=\"text-align: right\">\r\n          <b-form-group>\r\n            <b-button type=\"button\" variant=\"success\" @click=\"getQrCode\">\r\n              <b-icon icon=\"search\" class=\"mr-2\"></b-icon>Gerar\r\n            </b-button>\r\n          </b-form-group>\r\n        </b-col>\r\n      </b-row>\r\n\r\n      <b-modal\r\n        id=\"modal-imprimir\"\r\n        title=\"Impressão QRCodes\"\r\n        size=\"xl\"\r\n        scrollable\r\n      >\r\n        <div id=\"printarea\">\r\n          <b-container fluid style=\"display: flex;flex-flow: wrap;\">\r\n            <div\r\n              v-for=\"(imob, i) of codigos2\"\r\n              :key=\"i\"\r\n              style=\"margin: 5px;width: 200px; text-align: center;\"\r\n            >\r\n              <img :src=\"renderQrcode(imob, empresa)\" />\r\n              <h5>{{ imob }}</h5>\r\n            </div>\r\n          </b-container>\r\n        </div>\r\n        <b-alert variant=\"warning\" show>\r\n          <b-form-checkbox id=\"canPrint\" v-model=\"canPrint\" name=\"canPrint\">\r\n            Confirme se todos os QRCodes foram carregados antes de imprimir.\r\n          </b-form-checkbox>\r\n        </b-alert>\r\n        <template #modal-footer=\"{ ok, cancel }\">\r\n          <b-button\r\n            type=\"button\"\r\n            variant=\"primary\"\r\n            @click=\"imprimir('printarea')\"\r\n            :disabled=\"!canPrint\"\r\n            >Imprimir</b-button\r\n          >\r\n          <b-button type=\"button\" variant=\"secondary\" @click=\"cancel\"\r\n            >Cancelar</b-button\r\n          >\r\n        </template>\r\n      </b-modal>\r\n    </b-card>\r\n  </div>\r\n</template>\r\n<script>\r\nexport default {\r\n  name: \"QRCodes\",\r\n\r\n  data() {\r\n    return {\r\n      formprint: {\r\n        codigos: \"\",\r\n        empresa: \"\",\r\n        margem: 0,\r\n      },\r\n      empresa: \"\",\r\n      codigos: \"\",\r\n      codigos2: [],\r\n      message_toast: \"\",\r\n      canPrint: false,\r\n    };\r\n  },\r\n\r\n  methods: {\r\n    getQrCode() {\r\n      // volta a solicitar a confirmação da impressão...\r\n      this.canPrint = false;\r\n\r\n      // junta as tags de códigos informadas ...\r\n      this.formprint.codigos = this.codigos2.join(\";\");\r\n      this.formprint.empresa = this.empresa;\r\n\r\n      this.$bvModal.show(\"modal-imprimir\");\r\n    },\r\n\r\n    renderQrcode(i, e) {\r\n      var object = `{'Imobilizado': '${i}', 'empresa': '${e}'}`;\r\n      return `http://chart.apis.google.com/chart?cht=qr&chs=200x200&chl=${object}&choe=UTF-8&chld=undefined`;\r\n    },\r\n\r\n    imprimir(tagid) {\r\n      const el = document.getElementById(tagid).innerHTML;\r\n      this.printElementContent(el);\r\n    },\r\n\r\n    printElementContent(el) {\r\n      var printWindow = window.open(\r\n        \"\",\r\n        \"Impressão de QRCodes\",\r\n        \"resizable,scrollbars,status\"\r\n      );\r\n\r\n      printWindow.document.write(\r\n        \"<html><head><title>\" + document.title + \"</title>\"\r\n      );\r\n\r\n      printWindow.document.write(\r\n        '<link type=\"text/css\" rel=\"stylesheet\" href=\"//unpkg.com/bootstrap/dist/css/bootstrap.min.css\"/>'\r\n      );\r\n\r\n      printWindow.document.write(\"</head><body>\");\r\n      printWindow.document.write(el);\r\n      printWindow.document.write(\"</body></html>\");\r\n\r\n      //printWindow.document.close(); // necessary for IE >= 10\r\n      printWindow.focus(); // necessary for IE >= 10*/\r\n\r\n      setTimeout(() => {\r\n        printWindow.print();\r\n        printWindow.close();\r\n        this.$bvModal.hide(\"modal-imprimir\");\r\n      }, 2000);\r\n\r\n      return true;\r\n    }, // printElementContent(el)\r\n  }, // methods\r\n};\r\n</script>\r\n"]}]}