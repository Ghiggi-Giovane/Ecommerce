{"remainingRequest":"C:\\k1-services\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\k1-services\\src\\pages\\MapaEstoque\\views\\index.vue?vue&type=style&index=0&id=803aaabe&scoped=true&lang=css&","dependencies":[{"path":"C:\\k1-services\\src\\pages\\MapaEstoque\\views\\index.vue","mtime":1670977910594},{"path":"C:\\k1-services\\node_modules\\css-loader\\dist\\cjs.js","mtime":1670977934642},{"path":"C:\\k1-services\\node_modules\\vue-loader\\lib\\loaders\\stylePostLoader.js","mtime":1670977935796},{"path":"C:\\k1-services\\node_modules\\postcss-loader\\src\\index.js","mtime":1670977935130},{"path":"C:\\k1-services\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1670977934221},{"path":"C:\\k1-services\\node_modules\\vue-loader\\lib\\index.js","mtime":1670977935327}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCg0KLnN1YnRpdGxlIHsNCiAgZm9udC1zaXplOiAxMnB4Ow0KfQ0KLnZ1ZS1ncmlkLWxheW91dCB7DQogIGJhY2tncm91bmQtY29sb3I6ICNlZWU7DQp9DQoNCi52dWUtZ3JpZC1pdGVtOm5vdCgudnVlLWdyaWQtcGxhY2Vob2xkZXIpIHsNCiAgYmFja2dyb3VuZC1jb2xvcjogI2NjYzsNCiAgYm9yZGVyOiAxcHggc29saWQgYmxhY2s7DQp9DQoNCi52dWUtZ3JpZC1pdGVtIHsNCiAgdG91Y2gtYWN0aW9uOiBub25lOw0KfQ0KDQoudnVlLWdyaWQtaXRlbSAucmVzaXppbmcgew0KICBvcGFjaXR5OiAwLjk7DQp9DQoNCi52dWUtZ3JpZC1pdGVtIC5zdGF0aWMgew0KICBiYWNrZ3JvdW5kLWNvbG9yOiAjY2NlOw0KfQ0KDQoudnVlLWdyaWQtaXRlbSAudGV4dCB7DQogIC8qIGZvbnQtc2l6ZTogMjRweDsgKi8NCiAgdGV4dC1hbGlnbjogY2VudGVyOw0KICBwb3NpdGlvbjogYWJzb2x1dGU7DQogIHRvcDogMDsNCiAgYm90dG9tOiAwOw0KICBsZWZ0OiAwOw0KICByaWdodDogMDsNCiAgbWFyZ2luOiBhdXRvOw0KICBoZWlnaHQ6IDEwMCU7DQogIHdpZHRoOiAxMDAlOw0KfQ0KDQoudnVlLWdyaWQtaXRlbSAubm8tZHJhZyB7DQogIGhlaWdodDogMTAwJTsNCiAgd2lkdGg6IDEwMCU7DQp9DQoNCi52dWUtZ3JpZC1pdGVtIC5taW5NYXggew0KICBmb250LXNpemU6IDEycHg7DQp9DQoNCi52dWUtZ3JpZC1pdGVtIC5hZGQgew0KICBjdXJzb3I6IHBvaW50ZXI7DQp9DQoNCi52dWUtZHJhZ2dhYmxlLWhhbmRsZSB7DQogIHBvc2l0aW9uOiBhYnNvbHV0ZTsNCiAgd2lkdGg6IDIwcHg7DQogIGhlaWdodDogMjBweDsNCiAgdG9wOiAwOw0KICBtYXJnaW46IDAgM3B4Ow0KICAvKg0KICAgIHJpZ2h0OiAwOw0KICAgIHBhZGRpbmc6IDAgOHB4IDhweCAwOw0KICAgIGJhY2tncm91bmQtb3JpZ2luOiBjb250ZW50LWJveDsNCiAgICBiYWNrZ3JvdW5kLWNvbG9yOiBibGFjazsNCiAgICBib3gtc2l6aW5nOiBib3JkZXItYm94Ow0KICAgIGJvcmRlci1yYWRpdXM6IDEwcHg7DQogICAgKi8NCiAgY3Vyc29yOiBwb2ludGVyOw0KICB0cmFuc2l0aW9uOiBvcGFjaXR5IDAuNXM7DQogIG9wYWNpdHk6IDA7DQp9DQoNCi5uby1kcmFnIC5lZGl0IHsNCiAgcG9zaXRpb246IGFic29sdXRlOw0KICB0b3A6IDA7DQogIHJpZ2h0OiAwOw0KICBtYXJnaW46IDNweCAzcHg7DQogIGN1cnNvcjogcG9pbnRlcjsNCiAgdHJhbnNpdGlvbjogb3BhY2l0eSAwLjVzOw0KICBvcGFjaXR5OiAwOw0KfQ0KDQoudnVlLWdyaWQtaXRlbTpob3ZlciAudnVlLWRyYWdnYWJsZS1oYW5kbGUgew0KICBvcGFjaXR5OiAxOw0KfQ0KDQoudnVlLWdyaWQtaXRlbTpob3ZlciAubm8tZHJhZyAuZWRpdCB7DQogIG9wYWNpdHk6IDE7DQp9DQoNCi5sYXlvdXRKU09OIHsNCiAgYmFja2dyb3VuZC1jb2xvcjogI2RkZDsNCiAgYm9yZGVyOiAxcHggc29saWQgYmxhY2s7DQogIG1hcmdpbi10b3A6IDEwcHg7DQogIHBhZGRpbmc6IDEwcHg7DQp9DQoNCi5ldmVudHNKU09OIHsNCiAgYmFja2dyb3VuZC1jb2xvcjogI2RkZDsNCiAgYm9yZGVyOiAxcHggc29saWQgYmxhY2s7DQogIG1hcmdpbi10b3A6IDEwcHg7DQogIHBhZGRpbmc6IDEwcHg7DQogIGhlaWdodDogMTAwcHg7DQogIG92ZXJmbG93LXk6IHNjcm9sbDsNCn0NCg=="},{"version":3,"sources":["index.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAmgBA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"index.vue","sourceRoot":"src/pages/MapaEstoque/views","sourcesContent":["<template>\r\n  <div class=\"m-2\">\r\n    <div class=\"accordion\" role=\"tablist\">\r\n      <!--  <b-card no-body> -->\r\n      <b-card header-bg-variant=\"dark\" header-text-variant=\"white\">\r\n        <template #header>\r\n          <div class=\"d-flex align-middle justify-content-between\">\r\n            <h4 class=\"mb-0 align-middle\">Mapa do estoque</h4>\r\n            <div>\r\n              <b-button\r\n                v-b-toggle.collapse_deposito\r\n                variant=\"primary\"\r\n                size=\"sm\"\r\n              >\r\n                Mudar depósito\r\n                <b-icon-caret-up v-if=\"collapse_deposito\" />\r\n                <b-icon-caret-down v-else />\r\n              </b-button>\r\n            </div>\r\n          </div>\r\n        </template>\r\n\r\n        <b-collapse\r\n          id=\"collapse_deposito\"\r\n          v-model=\"collapse_deposito\"\r\n          class=\"mb-2\"\r\n        >\r\n          <Depositos :tipo=\"2\" @evt-change=\"onDepositoChange\" />\r\n        </b-collapse>\r\n\r\n        <b-button class=\"mb-2\" variant=\"success\" @click=\"addItem\"\r\n          ><b-icon-plus />Novo</b-button\r\n        >\r\n        <b-button\r\n          class=\"mb-2 mx-2\"\r\n          variant=\"info\"\r\n          @click=\"printElementContent('idMapa')\"\r\n          ><b-icon-printer />Imprimir</b-button\r\n        >\r\n        <b-button class=\"mb-2\" variant=\"primary\" @click=\"Update\"\r\n          ><b-icon-check />Salvar</b-button\r\n        >\r\n\r\n        <div class=\"d-flex align-items-baseline\">\r\n          <b-form-checkbox v-model=\"canedit\">Editar</b-form-checkbox>\r\n          <b-form-checkbox v-model=\"canmove\" class=\"mx-2\"\r\n            >Mover</b-form-checkbox\r\n          >\r\n          <b-form-checkbox v-model=\"canresize\" class=\"mx-2\"\r\n            >Dimensionar</b-form-checkbox\r\n          >\r\n          <p class=\"mx-2\">Colunas</p>\r\n          <b-form-input\r\n            class=\"mx-2\"\r\n            type=\"number\"\r\n            v-model=\"colNum\"\r\n            style=\"width: 60px\"\r\n          />\r\n          <p class=\"mx-2\">Linhas</p>\r\n          <b-form-input\r\n            class=\"mx-2\"\r\n            type=\"number\"\r\n            v-model=\"rowNum\"\r\n            style=\"width: 60px\"\r\n          />\r\n        </div>\r\n\r\n        <!--\r\n            gtxMapaEstoqueData: <pre>{{gtxMapaEstoqueData}}</pre><br/>\r\n            gtxMapaEstoqueData.JsonMap: <pre>{{(gtxMapaEstoqueData[0] || {JsonMap: []}).JsonMap}}</pre><br/>\r\n            layout: <pre>{{layout}}</pre><br/>\r\n            layoutteste: <pre>{{layoutteste}}</pre><br/>\r\n            layoutteste: <pre>{{typeof(layoutteste)}}</pre><br/>\r\n            -->\r\n\r\n        <div id=\"idMapa\" class=\"mb-2\">\r\n          <h4>{{ gtxParempDataEmpresaDeposito(8, 37).text }}</h4>\r\n          <b-overlay :show=\"gtxMapaEstoqueBusy\" rounded=\"sm\">\r\n            <grid-layout\r\n              :layout.sync=\"layout\"\r\n              :col-num=\"parseInt(colNum)\"\r\n              :row-height=\"parseInt(rowNum)\"\r\n              :is-draggable=\"true\"\r\n              :is-resizable=\"canresize\"\r\n              :vertical-compact=\"true\"\r\n              :use-css-transforms=\"true\"\r\n            >\r\n              <grid-item\r\n                v-for=\"(item, i) of layout\"\r\n                :key=\"i\"\r\n                :x=\"item.x\"\r\n                :y=\"item.y\"\r\n                :w=\"item.w\"\r\n                :h=\"item.h\"\r\n                :i=\"item.i\"\r\n                drag-allow-from=\".vue-draggable-handle\"\r\n                drag-ignore-from=\".no-drag\"\r\n              >\r\n                <div\r\n                  class=\"text\"\r\n                  :class=\"item == edit ? 'bg-warning' : ''\"\r\n                  :style=\"csscolor(item.c)\"\r\n                >\r\n                  <div class=\"vue-draggable-handle\" v-if=\"canmove\">\r\n                    <b-icon-arrows-move\r\n                      class=\"text-primary\"\r\n                      :style=\"csscolor(item.c)\"\r\n                    />\r\n                  </div>\r\n                  <div class=\"no-drag\">\r\n                    <span>{{ item.i }}</span>\r\n                    <b-badge\r\n                      v-if=\"canedit\"\r\n                      class=\"edit bg-success\"\r\n                      :style=\"csscolor(item.c, false)\"\r\n                      @click=\"editItem(item)\"\r\n                    >\r\n                      <b-icon-pencil />\r\n                    </b-badge>\r\n                    <b-badge\r\n                      v-if=\"!canedit\"\r\n                      class=\"edit bg-primary\"\r\n                      :style=\"csscolor(item.c, false)\"\r\n                      @click=\"selectItem(item)\"\r\n                    >\r\n                      <b-icon-archive />\r\n                    </b-badge>\r\n                  </div>\r\n                </div>\r\n              </grid-item>\r\n            </grid-layout>\r\n          </b-overlay>\r\n        </div>\r\n      </b-card>\r\n    </div>\r\n\r\n    <b-modal\r\n      ref=\"modal-edit\"\r\n      id=\"modal-edit\"\r\n      :title=\"`Box #${edit.n}`\"\r\n      @hide=\"onModalEditHide\"\r\n    >\r\n      <b-form-group label=\"Código\">\r\n        <b-form-input type=\"number\" v-model=\"edit.n\"></b-form-input>\r\n      </b-form-group>\r\n      <b-form-group label=\"Conteúdo\">\r\n        <b-form-input type=\"text\" v-model=\"edit.i\"></b-form-input>\r\n      </b-form-group>\r\n      <b-form-group label=\"Cor\">\r\n        <b-form-input type=\"color\" v-model=\"edit.c\"></b-form-input>\r\n      </b-form-group>\r\n      <b-button variant=\"danger\" class=\"float-right\" @click=\"removeItem(edit)\">\r\n        <b-icon-trash /> Excluir</b-button\r\n      >\r\n    </b-modal>\r\n\r\n    <b-modal\r\n      id=\"modalestoque\"\r\n      title=\"Movimentação de estoque\"\r\n      size=\"xl\"\r\n      variant=\"dark\"\r\n      hide-footer\r\n      centered\r\n      @shown=\"AlmoxarifadoMovimentacoesshown\"\r\n    >\r\n      <!--\r\n      <GaiolasItensBusca\r\n        id=\"gaiolabuscaRef\"\r\n        ref=\"gaiolabuscaRef\"\r\n        v-model=\"itembusca\"\r\n        :autopesquisa=\"true\"\r\n      />\r\n      -->\r\n      <AlmoxarifadoMovimentacoes ref=\"AlmoxarifadoMovimentacoes\" />\r\n    </b-modal>\r\n\r\n    <!--\r\n    gaiolas: {{ gaiolas }}<br />\r\n    gtxMapaEstoqueData: {{gtxMapaEstoqueData}}\r\n    colNum: {{colNum}}\r\n    rowNum: {{rowNum}}\r\n    -->\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { GridLayout, GridItem } from \"vue-grid-layout\";\r\nimport { mapActions, mapGetters } from \"vuex\";\r\nimport Depositos from \"../../almoxarifado/components/Depositos.vue\";\r\nimport GaiolasItensBusca from \"../../almoxarifado/components/GaiolasItensBusca\";\r\nimport AlmoxarifadoMovimentacoes from \"../../almoxarifado/views/AlmoxarifadoMovimentacoes\";\r\nexport default {\r\n  name: \"MapaEstoque\",\r\n\r\n  components: {\r\n    GridLayout,\r\n    GridItem,\r\n    Depositos,\r\n    GaiolasItensBusca,\r\n    AlmoxarifadoMovimentacoes,\r\n  },\r\n\r\n  data() {\r\n    return {\r\n      empresa: 8,\r\n      deposito: 37,\r\n      collapse_deposito: false,\r\n      color: null,\r\n      edit: {},\r\n      colNum: 24,\r\n      rowNum: 30,\r\n      index: 0,\r\n      layout: [],\r\n      emptylayout: [\r\n        {\r\n          x: 0,\r\n          y: 0,\r\n          w: 2,\r\n          h: 2,\r\n          i: \"Novo\",\r\n          n: 1,\r\n        },\r\n      ],\r\n      draggable: true,\r\n      resizable: true,\r\n      index: 0,\r\n      eventLog: [],\r\n      canedit: false,\r\n      canmove: false,\r\n      canresize: false,\r\n      itembusca: {\r\n        codigo: 0,\r\n        endereco: 0,\r\n        emp: this.empresa,\r\n        dep: this.deposito,\r\n        item: [],\r\n        quant: 0,\r\n        deleta: 0,\r\n        nivel: 1,\r\n      },\r\n      gaiolasitensbuscarun: 0,\r\n    };\r\n  },\r\n\r\n  created() {\r\n    this.actMapaEstoque(this.params);\r\n  },\r\n\r\n  computed: {\r\n    ...mapGetters([\r\n      \"gtxMapaEstoqueData\",\r\n      \"gtxMapaEstoqueBusy\",\r\n      \"gtxParempDataEmpresaDeposito\",\r\n    ]),\r\n    parammoviment() {\r\n      return {\r\n        emp: this.itembusca.emp,\r\n        dep: this.itembusca.dep,\r\n        box: this.itembusca.endereco,\r\n        nivel: this.itembusca.nivel,\r\n        itens: this.itembusca.item,\r\n      };\r\n    },\r\n    params() {\r\n      return {\r\n        params: {\r\n          empresa: this.empresa,\r\n          deposito: this.deposito,\r\n        },\r\n      };\r\n    },\r\n    gaiolas() {\r\n      return this.layout.map((m) => m.i).join(\";\");\r\n    },\r\n    body() {\r\n      return {\r\n        empresa: this.empresa,\r\n        deposito: this.deposito,\r\n        JsonMap: JSON.stringify(this.layout),\r\n        MaxColumns: this.colNum,\r\n        MaxRows: this.rowNum,\r\n      };\r\n    },\r\n  },\r\n\r\n  methods: {\r\n    ...mapActions([\r\n      \"actMapaEstoque\",\r\n      \"actMapaEstoqueUpdate\",\r\n      \"actMapaEstoqueLimpa\",\r\n    ]),\r\n\r\n    addItem: function() {\r\n      // Add a new item. It must have a unique key!\r\n      this.index =\r\n        this.layout\r\n          .map((n) => {\r\n            return !isNaN(parseInt(n.i)) ? parseInt(n.i) : 0;\r\n          })\r\n          .reduce((a, b) => (a > b ? a : b), 0) + 1;\r\n      this.layout.push({\r\n        x: (this.layout.length * 2) % (this.colNum || 12),\r\n        y: this.layout.length + (this.colNum || 12), // puts it at the bottom\r\n        w: 2,\r\n        h: 2,\r\n        i: this.index,\r\n        n: this.index,\r\n        //i: this.layout.length,\r\n        //i: this.layout.map(n => { return (!isNaN(parseInt(n.i))) ? parseInt(n.i) : 0 } ).sort().reverse()[0]\r\n        //i: this.layout.map(n => { return (!isNaN(parseInt(n.i))) ? parseInt(n.i) : 0 } ).reduce((a,b) => (a>b ? a : b), 0)+1\r\n      });\r\n      // Increment the counter to ensure key is always unique.\r\n    },\r\n    removeItem(item) {\r\n      const index = this.layout.findIndex((f) => f == item);\r\n      if (index > -1) {\r\n        this.layout.splice(index, 1);\r\n      }\r\n      //this.$refs['modal-edit'].hide()\r\n      this.$bvModal.hide(\"modal-edit\");\r\n    },\r\n    editItem(item) {\r\n      this.edit = item;\r\n      this.$bvModal.show(\"modal-edit\");\r\n    },\r\n    selectItem(item) {\r\n      // this.edit = item;\r\n\r\n      if (!isNaN(parseInt(item.n || item.i))) {\r\n        this.itembusca.endereco = item.n || item.i;\r\n        this.$bvModal.show(\"modalestoque\");\r\n      }\r\n    },\r\n\r\n    AlmoxarifadoMovimentacoesshown() {\r\n      this.$refs.AlmoxarifadoMovimentacoes.empresa = this.itembusca.empresa;\r\n      this.$refs.AlmoxarifadoMovimentacoes.deposito = this.itembusca.deposito;\r\n      this.$refs.AlmoxarifadoMovimentacoes.box = this.itembusca.endereco;\r\n      this.$refs.AlmoxarifadoMovimentacoes.nivel = 0;\r\n      this.$refs.AlmoxarifadoMovimentacoes.itens = [];\r\n\r\n      this.$refs.AlmoxarifadoMovimentacoes.busca();\r\n    },\r\n\r\n    csscolor(color, invert = true) {\r\n      let css = \"\";\r\n      if (color) {\r\n        if (invert) {\r\n          css = `background-color: ${color} !important;`;\r\n          css += `color: ${this.$root.invertColor(color, true)} !important;`;\r\n        } else {\r\n          css = `background-color: ${this.$root.invertColor(\r\n            color,\r\n            true\r\n          )} !important;`;\r\n          css += `color: ${color} !important;`;\r\n        }\r\n      }\r\n\r\n      return css;\r\n    },\r\n\r\n    onDepositoChange(deposito) {\r\n      // TODO - tá chamando duas vezes ...\r\n      // console.log(\"onDepositoChange:\", deposito);\r\n      this.empresa = deposito.empresa;\r\n      this.deposito = deposito.deposito;\r\n\r\n      this.layout = [];\r\n      if (this.empresa > 0 && this.deposito > 0) {\r\n        this.actMapaEstoque(this.params);\r\n      }\r\n    },\r\n\r\n    Update() {\r\n      this.actMapaEstoqueUpdate(this.body)\r\n        .then(() => {\r\n          this.$root.toastsuccess(\"Registro salvo com sucesso!\");\r\n        })\r\n        .catch(() => {\r\n          // this.$root.toastdanger('Erro ao salvar o registro!')\r\n        });\r\n    },\r\n    onModalEditHide() {\r\n      this.edit = {};\r\n    },\r\n    moveEvent: function(i, newX, newY) {\r\n      const msg = \"MOVE i=\" + i + \", X=\" + newX + \", Y=\" + newY;\r\n      this.eventLog.push(msg);\r\n      console.log(msg);\r\n    },\r\n    movedEvent: function(i, newX, newY) {\r\n      const msg = \"MOVED i=\" + i + \", X=\" + newX + \", Y=\" + newY;\r\n      this.eventLog.push(msg);\r\n      console.log(msg);\r\n    },\r\n    resizeEvent: function(i, newH, newW, newHPx, newWPx) {\r\n      const msg =\r\n        \"RESIZE i=\" +\r\n        i +\r\n        \", H=\" +\r\n        newH +\r\n        \", W=\" +\r\n        newW +\r\n        \", H(px)=\" +\r\n        newHPx +\r\n        \", W(px)=\" +\r\n        newWPx;\r\n      this.eventLog.push(msg);\r\n      console.log(msg);\r\n    },\r\n    resizedEvent: function(i, newX, newY, newHPx, newWPx) {\r\n      const msg =\r\n        \"RESIZED i=\" +\r\n        i +\r\n        \", X=\" +\r\n        newX +\r\n        \", Y=\" +\r\n        newY +\r\n        \", H(px)=\" +\r\n        newHPx +\r\n        \", W(px)=\" +\r\n        newWPx;\r\n      this.eventLog.push(msg);\r\n      console.log(msg);\r\n    },\r\n    containerResizedEvent: function(i, newH, newW, newHPx, newWPx) {\r\n      const msg =\r\n        \"CONTAINER RESIZED i=\" +\r\n        i +\r\n        \", H=\" +\r\n        newH +\r\n        \", W=\" +\r\n        newW +\r\n        \", H(px)=\" +\r\n        newHPx +\r\n        \", W(px)=\" +\r\n        newWPx;\r\n      this.eventLog.push(msg);\r\n      console.log(msg);\r\n    },\r\n\r\n    layoutCreatedEvent: function(newLayout) {\r\n      this.eventLog.push(\"Created layout\");\r\n      console.log(\"Created layout: \", newLayout);\r\n    },\r\n    layoutBeforeMountEvent: function(newLayout) {\r\n      this.eventLog.push(\"beforeMount layout\");\r\n      console.log(\"beforeMount layout: \", newLayout);\r\n    },\r\n    layoutMountedEvent: function(newLayout) {\r\n      this.eventLog.push(\"Mounted layout\");\r\n      console.log(\"Mounted layout: \", newLayout);\r\n    },\r\n    layoutReadyEvent: function(newLayout) {\r\n      this.eventLog.push(\"Ready layout\");\r\n      console.log(\"Ready layout: \", newLayout);\r\n    },\r\n    layoutUpdatedEvent: function(newLayout) {\r\n      this.eventLog.push(\"Updated layout\");\r\n      console.log(\"Updated layout: \", newLayout);\r\n    },\r\n    printElementContent(el) {\r\n      var printWindow = window.open(\r\n        \"\",\r\n        \"Impressão do Mapa\",\r\n        \"resizable,scrollbars,status\"\r\n      );\r\n\r\n      printWindow.document.write(\r\n        \"<html><head><title>\" + document.title + \"</title>\"\r\n      );\r\n\r\n      printWindow.document.write(\r\n        '<link type=\"text/css\" rel=\"stylesheet\" href=\"//unpkg.com/bootstrap/dist/css/bootstrap.min.css\"/>'\r\n      );\r\n\r\n      printWindow.document.write(\r\n        \"<style>.subtitle{font-size:12px}.vue-grid-layout{background-color:#eee}.vue-grid-item:not(.vue-grid-placeholder){background-color:#ccc;border:1px solid #000}.vue-grid-item{touch-action:none}.vue-grid-item .resizing{opacity:.9}.vue-grid-item .static{background-color:#cce}.vue-grid-item .text{text-align:center;position:absolute;top:0;bottom:0;left:0;right:0;margin:auto;height:100%;width:100%}.vue-grid-item .no-drag{height:100%;width:100%}.vue-grid-item .minMax{font-size:12px}.vue-grid-item .add{cursor:pointer}.vue-draggable-handle{position:absolute;width:20px;height:20px;top:0;margin:0 3px;cursor:pointer;transition:opacity .5s;opacity:0}.no-drag .edit{position:absolute;top:0;right:0;margin:3px 3px;cursor:pointer;transition:opacity .5s;opacity:0}.vue-grid-item:hover .vue-draggable-handle{opacity:1}.vue-grid-item:hover .no-drag .edit{opacity:1}.layoutJSON{background-color:#ddd;border:1px solid #000;margin-top:10px;padding:10px}.eventsJSON{background-color:#ddd;border:1px solid #000;margin-top:10px;padding:10px;height:100px;overflow-y:scroll}</style>\"\r\n      );\r\n\r\n      printWindow.document.write(\"</head><body >\");\r\n      printWindow.document.write(\"<h1>\");\r\n      printWindow.document.write(document.getElementById(el).innerHTML);\r\n      printWindow.document.write(\"</body></html>\");\r\n\r\n      //printWindow.document.close(); // necessary for IE >= 10\r\n      printWindow.focus(); // necessary for IE >= 10*/\r\n\r\n      setTimeout(() => {\r\n        printWindow.print();\r\n        printWindow.close();\r\n      }, 2000);\r\n\r\n      return true;\r\n    }, // printElementContent(el)\r\n  },\r\n\r\n  watch: {\r\n    gtxMapaEstoqueData: {\r\n      deep: true,\r\n      handler(data) {\r\n        if (!data[0]) {\r\n          this.layout = this.emptylayout;\r\n        } else {\r\n          this.layout = JSON.parse(data[0].JsonMap);\r\n          this.colNum = parseInt(data[0].MaxColumns) || 24;\r\n          this.rowNum = parseInt(data[0].MaxRows) || 30;\r\n        }\r\n      },\r\n    },\r\n  },\r\n};\r\n</script>\r\n<style scoped>\r\n.subtitle {\r\n  font-size: 12px;\r\n}\r\n.vue-grid-layout {\r\n  background-color: #eee;\r\n}\r\n\r\n.vue-grid-item:not(.vue-grid-placeholder) {\r\n  background-color: #ccc;\r\n  border: 1px solid black;\r\n}\r\n\r\n.vue-grid-item {\r\n  touch-action: none;\r\n}\r\n\r\n.vue-grid-item .resizing {\r\n  opacity: 0.9;\r\n}\r\n\r\n.vue-grid-item .static {\r\n  background-color: #cce;\r\n}\r\n\r\n.vue-grid-item .text {\r\n  /* font-size: 24px; */\r\n  text-align: center;\r\n  position: absolute;\r\n  top: 0;\r\n  bottom: 0;\r\n  left: 0;\r\n  right: 0;\r\n  margin: auto;\r\n  height: 100%;\r\n  width: 100%;\r\n}\r\n\r\n.vue-grid-item .no-drag {\r\n  height: 100%;\r\n  width: 100%;\r\n}\r\n\r\n.vue-grid-item .minMax {\r\n  font-size: 12px;\r\n}\r\n\r\n.vue-grid-item .add {\r\n  cursor: pointer;\r\n}\r\n\r\n.vue-draggable-handle {\r\n  position: absolute;\r\n  width: 20px;\r\n  height: 20px;\r\n  top: 0;\r\n  margin: 0 3px;\r\n  /*\r\n    right: 0;\r\n    padding: 0 8px 8px 0;\r\n    background-origin: content-box;\r\n    background-color: black;\r\n    box-sizing: border-box;\r\n    border-radius: 10px;\r\n    */\r\n  cursor: pointer;\r\n  transition: opacity 0.5s;\r\n  opacity: 0;\r\n}\r\n\r\n.no-drag .edit {\r\n  position: absolute;\r\n  top: 0;\r\n  right: 0;\r\n  margin: 3px 3px;\r\n  cursor: pointer;\r\n  transition: opacity 0.5s;\r\n  opacity: 0;\r\n}\r\n\r\n.vue-grid-item:hover .vue-draggable-handle {\r\n  opacity: 1;\r\n}\r\n\r\n.vue-grid-item:hover .no-drag .edit {\r\n  opacity: 1;\r\n}\r\n\r\n.layoutJSON {\r\n  background-color: #ddd;\r\n  border: 1px solid black;\r\n  margin-top: 10px;\r\n  padding: 10px;\r\n}\r\n\r\n.eventsJSON {\r\n  background-color: #ddd;\r\n  border: 1px solid black;\r\n  margin-top: 10px;\r\n  padding: 10px;\r\n  height: 100px;\r\n  overflow-y: scroll;\r\n}\r\n</style>\r\n"]}]}