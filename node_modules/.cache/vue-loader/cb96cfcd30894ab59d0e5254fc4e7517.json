{"remainingRequest":"C:\\k1-services\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\k1-services\\src\\pages\\funcionarios\\views\\Ferias.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\k1-services\\src\\pages\\funcionarios\\views\\Ferias.vue","mtime":1670977910628},{"path":"C:\\k1-services\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1670977934221},{"path":"C:\\k1-services\\node_modules\\babel-loader\\lib\\index.js","mtime":1670977935138},{"path":"C:\\k1-services\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1670977934221},{"path":"C:\\k1-services\\node_modules\\vue-loader\\lib\\index.js","mtime":1670977935327}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KDQppbXBvcnQgeyBtYXBHZXR0ZXJzLCBtYXBBY3Rpb25zIH0gZnJvbSAidnVleCI7DQpleHBvcnQgZGVmYXVsdCB7DQogIG5hbWU6ICJGZXJpYXMiLA0KDQogIGRhdGEoKSB7DQogICAgcmV0dXJuIHsNCiAgICAgIGZpZWxkczogWyJpbmljaWFsIiwgImZpbmFsIiwgImRpYXMiXSwNCiAgICB9Ow0KICB9LA0KDQogIGJlZm9yZU1vdW50KCkgew0KICAgIHRoaXMuYWN0ZmVyaWFzYnVzY2FyKCk7DQogIH0sDQoNCiAgY29tcHV0ZWQ6IHsNCiAgICAuLi5tYXBHZXR0ZXJzKFsiZ3R4ZmVyaWFzRGF0YSIsICJzeXNkYXRlIl0pLA0KICAgIGZlcmlhcygpIHsNCiAgICAgIGNvbnN0IGFub3MgPSBbXTsNCiAgICAgIHRoaXMuZ3R4ZmVyaWFzRGF0YS5tYXAoKGYpID0+IHsNCiAgICAgICAgaWYgKCFhbm9zLmZpbmQoKGEpID0+IGEuYW5vID09IGYuYW5vKSkgew0KICAgICAgICAgIGFub3MucHVzaCh7DQogICAgICAgICAgICBhbm86IGYuYW5vLA0KICAgICAgICAgICAgZGF0YTogdGhpcy5ndHhmZXJpYXNEYXRhLmZpbHRlcigocikgPT4gci5hbm8gPT0gZi5hbm8pLA0KICAgICAgICAgIH0pOw0KICAgICAgICB9DQogICAgICB9KTsNCiAgICAgIHJldHVybiBhbm9zLnJldmVyc2UoKTsNCiAgICB9LA0KICB9LA0KDQogIG1ldGhvZHM6IHsNCiAgICAuLi5tYXBBY3Rpb25zKFsiYWN0ZmVyaWFzYnVzY2FyIl0pLA0KICAgIHRvdGFsZGlhcyhkYXRhKSB7DQogICAgICByZXR1cm4gZGF0YS5yZWR1Y2UoKGEsIGIpID0+IHBhcnNlSW50KGEpICsgcGFyc2VJbnQoYi5kaWFzKSwgMCk7DQogICAgfSwNCiAgfSwNCn07DQo="},{"version":3,"sources":["Ferias.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA0DA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA","file":"Ferias.vue","sourceRoot":"src/pages/funcionarios/views","sourcesContent":["<template>\r\n  <div class=\"container mt-2\">\r\n    <b-card>\r\n      <template #header>\r\n        <h4 class=\"mb-0\">FÃ©rias</h4>\r\n      </template>\r\n      <b-card-body>\r\n        <div class=\"accordion\" role=\"tablist\">\r\n          <b-card v-for=\"f of ferias\" :key=\"f.id\" no-body>\r\n            <b-card-header header-tag=\"header\" class=\"p-1\" role=\"tab\">\r\n              <b-button block v-b-toggle=\"f.ano\" variant=\"info\">\r\n                {{ f.ano }} - {{ totaldias(f.data) }} dias</b-button\r\n              >\r\n            </b-card-header>\r\n            <b-collapse\r\n              :id=\"f.ano\"\r\n              accordion=\"ferias\"\r\n              role=\"tabpanel\"\r\n              :visible=\"sysdate.year - 2 == f.ano\"\r\n            >\r\n              <b-card-text>\r\n                <b-table\r\n                  hover\r\n                  striped\r\n                  small\r\n                  foot-clone\r\n                  :items=\"f.data\"\r\n                  :fields=\"fields\"\r\n                >\r\n                  <template #cell(inicial)=\"data\">\r\n                    <span\r\n                      >{{ data.item.inicial | dateBR }} -\r\n                      {{ data.item.inicial | weekname }}</span\r\n                    >\r\n                  </template>\r\n                  <template #cell(final)=\"data\">\r\n                    <span\r\n                      >{{ data.item.final | dateBR }} -\r\n                      {{ data.item.final | weekname }}</span\r\n                    >\r\n                  </template>\r\n                  <template #foot()=\"data\">\r\n                    <span></span>\r\n                  </template>\r\n                  <template #foot(dias)=\"data\">\r\n                    <span>{{ totaldias(f.data) }}</span>\r\n                  </template>\r\n                </b-table>\r\n              </b-card-text>\r\n            </b-collapse>\r\n          </b-card>\r\n        </div>\r\n      </b-card-body>\r\n    </b-card>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { mapGetters, mapActions } from \"vuex\";\r\nexport default {\r\n  name: \"Ferias\",\r\n\r\n  data() {\r\n    return {\r\n      fields: [\"inicial\", \"final\", \"dias\"],\r\n    };\r\n  },\r\n\r\n  beforeMount() {\r\n    this.actferiasbuscar();\r\n  },\r\n\r\n  computed: {\r\n    ...mapGetters([\"gtxferiasData\", \"sysdate\"]),\r\n    ferias() {\r\n      const anos = [];\r\n      this.gtxferiasData.map((f) => {\r\n        if (!anos.find((a) => a.ano == f.ano)) {\r\n          anos.push({\r\n            ano: f.ano,\r\n            data: this.gtxferiasData.filter((r) => r.ano == f.ano),\r\n          });\r\n        }\r\n      });\r\n      return anos.reverse();\r\n    },\r\n  },\r\n\r\n  methods: {\r\n    ...mapActions([\"actferiasbuscar\"]),\r\n    totaldias(data) {\r\n      return data.reduce((a, b) => parseInt(a) + parseInt(b.dias), 0);\r\n    },\r\n  },\r\n};\r\n</script>\r\n\r\n<style scoped></style>\r\n"]}]}