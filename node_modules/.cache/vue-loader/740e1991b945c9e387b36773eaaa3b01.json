{"remainingRequest":"C:\\k1-services\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\k1-services\\src\\pages\\carregamento\\views\\index.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\k1-services\\src\\pages\\carregamento\\views\\index.vue","mtime":1670977910604},{"path":"C:\\k1-services\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1670977934221},{"path":"C:\\k1-services\\node_modules\\babel-loader\\lib\\index.js","mtime":1670977935138},{"path":"C:\\k1-services\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1670977934221},{"path":"C:\\k1-services\\node_modules\\vue-loader\\lib\\index.js","mtime":1670977935327}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KDQppbXBvcnQgQVBJIGZyb20gIi4uLy4uLy4uL3NlcnZpY2VzL2FwaS5zZXJ2aWNlIjsNCmltcG9ydCBTaWduYXR1cmUgZnJvbSAiLi4vLi4vLi4vY29tcG9uZW50cy9TaWduYXR1cmUiOw0KaW1wb3J0IFByb3BlcnRpZXMgZnJvbSAiLi4vLi4vLi4vY29tcG9uZW50cy9Qcm9wZXJ0aWVzIjsNCmV4cG9ydCBkZWZhdWx0IHsNCiAgbmFtZTogIkNhcnJlZ2FtZW50byIsDQogIGNvbXBvbmVudHM6IHsNCiAgICBTaWduYXR1cmUsDQogICAgUHJvcGVydGllcw0KICB9LA0KICBkYXRhKCkgew0KICAgIHJldHVybiB7DQogICAgICBmb3JtOiB7DQogICAgICAgIGlkQ2FycmVnYW1lbnRvOiAwLA0KICAgICAgICBlbnRyYWRhOiBuZXcgRGF0ZSgpLA0KICAgICAgICBub21ldHJhbnNwOiAiIiwNCiAgICAgICAgbW90b3Jpc3RhOiAiIiwNCiAgICAgICAgcGxhY2E6ICIiDQogICAgICB9LA0KICAgICAgZmlsdHJvOiAiIiwNCiAgICAgIGZpbHRlck9uOiBbImlkIiwgInRyYW5zcCIsICJtb3RvcmlzdGEiLCAicGxhY2EiXSwNCiAgICAgIGZpbHRyb2Fzc2luYWRvczogZmFsc2UsDQogICAgICBmaWx0cm9jb2xldGFkb3M6IHRydWUsDQogICAgICB0aW1lcjogbnVsbCwNCiAgICAgIHVwZGF0ZXRpbWVvdXQ6IDE1MDAwLA0KICAgICAgdXBkYXRlc3RvcDogZmFsc2UsDQogICAgICBkYXRhOiBbXSwNCiAgICAgIG1hcmNhczogW10sDQogICAgICBzaWdPcGNvZXM6IFtdLA0KICAgICAgdGFiSW5kZXg6IDAsDQogICAgICBzaWdJbWFnZTogbnVsbCwNCiAgICAgIHNpZ0ltYWdlQ29uZjogbnVsbCwNCiAgICAgIHNpZ09ic0NvbmY6ICIiLA0KICAgICAgc2lnQ2hhbmdlOiBmYWxzZSwNCiAgICAgIHNpZ0NoYW5nZUNvbmY6IGZhbHNlLA0KICAgICAgc2VsZWN0ZWQ6IFtdLA0KICAgICAgcGVkaWRvc3NlbGVjdGVkOiBudWxsLA0KICAgICAgcGVkaWRvczogW10sDQogICAgICBvcGNvZXM6IFtdLA0KICAgICAgZm9ybWNvbGxhcHNlZDogZmFsc2UNCiAgICB9Ow0KICB9LA0KICBjb21wdXRlZDogew0KICAgIGZpZWxkcygpIHsNCiAgICAgIHJldHVybiAgWw0KICAgICAgICAvLyB7IGtleTogInRyYW5zcCIsIGxhYmVsOiAiVHJhbnNwb3J0YWRvcmEiLCBzb3J0YWJsZTogdHJ1ZSB9LA0KICAgICAgICAvLyB7IGtleTogIm1vdG9yaXN0YSIsIHNvcnRhYmxlOiB0cnVlIH0sDQogICAgICAgIC8vIHsga2V5OiAicGxhY2EiLCBzb3J0YWJsZTogdHJ1ZSB9LA0KICAgICAgICAvLyB7IGtleTogInBlcmMiLCBsYWJlbDogIkNvbGV0YXMiLCBzb3J0YWJsZTogdHJ1ZSB9LA0KICAgICAgICB7IGtleTogImNhcmdhIiwgbGFiZWw6ICJDYXJnYSJ9LA0KICAgICAgICB7IGtleTogImFjdGlvbnMiLCBsYWJlbDogIiIsIHNvcnRhYmxlOiBmYWxzZSB9DQogICAgICBdDQogICAgfSwNCiAgICBwYXJhbXMoKSB7DQogICAgICByZXR1cm4gew0KICAgICAgICBpZENhcnJlZ2FtZW50bzogdGhpcy5mb3JtLmlkQ2FycmVnYW1lbnRvLA0KICAgICAgICBlbnRyYWRhOiB0aGlzLmZvcm0uZW50cmFkYSwNCiAgICAgICAgbm9tZXRyYW5zcDogdGhpcy5mb3JtLm5vbWV0cmFuc3AsDQogICAgICAgIG1vdG9yaXN0YTogdGhpcy5mb3JtLm1vdG9yaXN0YSwNCiAgICAgICAgcGxhY2E6IHRoaXMuZm9ybS5wbGFjYQ0KICAgICAgfQ0KICAgIH0sDQogICAgbWFyY2Fzc2VsZWN0ZWQoKSB7DQogICAgICByZXR1cm4gdGhpcy5tYXJjYXMuZmlsdGVyKG09Pm0uY2hlY2tlZCk7DQogICAgfSwNCiAgICByb21hbmVpb3MoKSB7DQogICAgICByZXR1cm4gdGhpcy5kYXRhLm1hcChyPT4oew0KICAgICAgICBpZDogci5pZCwNCiAgICAgICAgY29kVHJhbnNwOiByLkNvZGlnb19UcmFuc3AsDQogICAgICAgIHRyYW5zcDogci5SYXphb19Tb2NpYWwsDQogICAgICAgIG1vdG9yaXN0YTogci5Nb3RvcmlzdGEsDQogICAgICAgIHVsdGltYWNvbGV0YTogci5VbHRpbWFDb2xldGEsDQogICAgICAgIHZvbHVtZXM6IHIuVFZvbHVtZXMsDQogICAgICAgIGNvbGV0YWRvczogci5UVm9sdW1lc0NvbGV0YWRvcywNCiAgICAgICAgVFBlZGlkb3M6IHIuVFBlZGlkb3MsDQogICAgICAgIHBlcmM6IHIuUGVyY0NvbGV0YWRvcywNCiAgICAgICAgcGxhY2E6IHIuUGxhY2EsDQogICAgICAgIHNpZ0ltYWdlOiByLnNpZ0ltYWdlLA0KICAgICAgICBzaWdJbWFnZUNvbmY6IHIuc2lnSW1hZ2VDb25mLA0KICAgICAgICBQZXJjQXNzaW5hZG9zOiByLlBlcmNBc3NpbmFkb3MsDQogICAgICAgIHNpZ09ic0NvbmY6IHIuc2lnT2JzQ29uZiwNCiAgICAgICAgc2lnbmVkOiAoKHIuc2lnSW1hZ2UgJiYgci5zaWdJbWFnZSAhPT0gIiIpIHx8IChyLnNpZ0ltYWdlQ29uZiAmJiByLnNpZ0ltYWdlQ29uZiAhPT0gIiIpKSA/IHRydWUgOiBmYWxzZSwNCiAgICAgICAgUm9tYW5laW9zOiByLlJvbWFuZWlvcyB8fCBbXSwNCiAgICAgICAgY29sbGFwc2VkOiByLmNvbGxhcHNlZCwNCiAgICAgICAgY2hlY2tlZDogci5jaGVja2VkLA0KICAgICAgICBPcGNvZXM6IHIuT3Bjb2VzLA0KICAgICAgICBfcm93VmFyaWFudDogci5zaWdJbWFnZSAmJiByLnNpZ0ltYWdlQ29uZiA/ICdzdWNjZXNzJyA6ICcnDQogICAgICB9KSkuZmlsdGVyKGY9PnRoaXMucm9tYW5laW9zZmlsdHJvcyhmKSkNCiAgICAgIC8vLmZpbHRlcihmPT5mLnNpZ25lZCA9PSB0aGlzLmZpbHRyb2Fzc2luYWRvcyAmJiAoZi5wZXJjID4gOTkpID09IHRoaXMuZmlsdHJvY29sZXRhZG9zICkNCiAgICB9LA0KICAgIHBhcmFtc2lnbmF0dXJlKCkgew0KICAgICAgcmV0dXJuIHsNCiAgICAgICAgaWRDYXJyZWdhbWVudG86IHRoaXMuc2VsZWN0ZWQuaWQsDQogICAgICAgIHNpZ0ltYWdlOiB0aGlzLnNpZ0ltYWdlLA0KICAgICAgICBzaWdJbWFnZUNvbmY6IHRoaXMuc2lnSW1hZ2VDb25mLA0KICAgICAgICBzaWdPYnNDb25mOiB0aGlzLnNpZ09ic0NvbmYsDQogICAgICAgIG9wY29lczogSlNPTi5zdHJpbmdpZnkodGhpcy5vcGNvZXMpLA0KICAgICAgICByb21hbmVpb3M6IHRoaXMuc2VsZWN0ZWQuUm9tYW5laW9zLmZpbHRlcihyPT5yLmNoZWNrZWQpDQogICAgICB9DQogICAgfSwNCiAgICBzaWduYXR1cmVPcHRpb25zKCkgew0KICAgICAgcmV0dXJuIHRoaXMuc2lnT3Bjb2VzLm1hcChvPT4oew0KICAgICAgICB0ZXh0OiBvLmRlc2NyaWNhbywNCiAgICAgICAgdmFsdWU6IG8uaWQNCiAgICAgIH0pKQ0KICAgIH0sDQogICAgc2VsZWN0ZWRjaGVja2VkKCkgew0KICAgICAgcmV0dXJuIHRoaXMuc2VsZWN0ZWQuUm9tYW5laW9zID8gdGhpcy5zZWxlY3RlZC5Sb21hbmVpb3MuZmlsdGVyKGM9PmMuY2hlY2tlZCkgOiBbXTsNCiAgICB9LA0KICAgIHNlbGVjdGVkY2hlY2tlZGxlbmd0aCgpIHsNCiAgICAgIHJldHVybiB0aGlzLnNlbGVjdGVkY2hlY2tlZC5sZW5ndGggfHwgMDsNCiAgICB9LA0KICAgIHNpZ25hdHVyZUZpZWxkcygpIHsNCiAgICAgIHJldHVybiB7VHJhbnNwb3J0YWRvcmE6IHRoaXMuc2VsZWN0ZWQudHJhbnNwLCBNb3RvcmlzdGE6IHRoaXMuc2VsZWN0ZWQubW90b3Jpc3RhLCBQbGFjYTogdGhpcy5zZWxlY3RlZC5wbGFjYX07DQogICAgfSwNCiAgICBzaWduYXR1cmVWYWxpZCgpIHsNCiAgICAgIHJldHVybiAoKHRoaXMuc2lnQ2hhbmdlICYmIHRoaXMuc2lnSW1hZ2UgJiYgdGhpcy5zaWdJbWFnZSAhPT0gIiIpIHx8ICh0aGlzLnNpZ0NoYW5nZUNvbmYgJiYgdGhpcy5zaWdJbWFnZUNvbmYgJiYgdGhpcy5zaWdJbWFnZUNvbmYgIT09ICIiKSk7DQogICAgfSwNCiAgICBzaWduYXR1cmVUaXRsZSgpIHsNCiAgICAgIHJldHVybiAiQ2FyZ2E6ICIgKyAoKHRoaXMuc2VsZWN0ZWQgJiYgdGhpcy5zZWxlY3RlZC5pZCkgfHwgIiIpOw0KICAgIH0sDQogICAgcGVkaWRvc1RpdGxlKCkgew0KICAgICAgcmV0dXJuICJSb21hbmVpbzogIiArICgodGhpcy5wZWRpZG9zICYmIHRoaXMucGVkaWRvc1swXSAmJiB0aGlzLnBlZGlkb3NbMF0uUm9tYW5laW8pIHx8ICIiKTsNCiAgICB9LA0KICAgIHBlZGlkb3NOb3Rhc1NwbGl0KCkgew0KICAgICAgcmV0dXJuICgodGhpcy5wZWRpZG9zICYmIHRoaXMucGVkaWRvc1swXSAmJiB0aGlzLnBlZGlkb3NbMF0uTm90YXMgJiYgdGhpcy5wZWRpZG9zWzBdLk5vdGFzLm1hcChuPT4obi5OdW1lcm9fbm90YSkpLmpvaW4oIiwiKSkgfHwgIiIpDQogICAgfQ0KICB9LA0KICBiZWZvcmVNb3VudCgpIHsNCiAgICB0aGlzLmdldENhcnJlZ2FtZW50bygpOw0KICAgIHRoaXMuZ2V0Q2FycmVnYW1lbnRvT3Bjb2VzKCk7DQogICAgdGhpcy5nZXRNYXJjYXMoKTsNCg0KICAgIC8vIHNldGEgbyB0aW1lciBxdWUgYXR1YWxpemEgb3MgdG90YWlzIC4uLg0KICAgIHRoaXMudXBkYXRlc3RvcCA9IGZhbHNlOw0KICAgIHRoaXMudGltZXIgPSBzZXRJbnRlcnZhbCgoKSA9PiB7DQogICAgICBpZiAoIXRoaXMudXBkYXRlc3RvcCkNCiAgICAgICAgdGhpcy5nZXRDYXJyZWdhbWVudG9Ub3RhaXMoKTsNCiAgICB9LCB0aGlzLnVwZGF0ZXRpbWVvdXQpOw0KDQogIH0sDQogIG1ldGhvZHM6IHsNCiAgICB0ZXN0ZSh2YWwpIHsNCiAgICAgIGNvbnNvbGUubG9nKCd0ZXN0ZTonLHZhbCk7DQogICAgICB2YWwuY29sbGFwc2VkID0gIXZhbC5jb2xsYXBzZWQ7DQogICAgfSwNCiAgICByb21hbmVpb3NmaWx0cm9zKGl0ZW0pIHsNCiAgICAgIC8vIGNvbnNvbGUubG9nKCdyb21hbmVpb3NmaWx0cm9zKGl0ZW0pJywgaXRlbSk7DQogICAgICBsZXQgcmV0ID0gZmFsc2U7DQogICAgICBjb25zdCBtYXJjYXMgPSB0aGlzLm1hcmNhcy5maWx0ZXIobSA9PiBtLmNoZWNrZWQpLm1hcChtID0+IChtLmlkKSkgfHwgW107DQogICAgICAvL2NvbnN0IG1hcmNhcyA9IFtdDQoNCiAgICAgIC8vIHJldCA9ICgoaXRlbS5zaWduZWQgPT0gdGhpcy5maWx0cm9hc3NpbmFkb3MpICYmICgoaXRlbS5wZXJjID4gOTkpID09IHRoaXMuZmlsdHJvY29sZXRhZG9zKSk7DQogICAgICByZXQgPSAoKGl0ZW0uUGVyY0Fzc2luYWRvcyA9PSAxMDApID09IHRoaXMuZmlsdHJvYXNzaW5hZG9zKTsNCg0KICAgICAgaWYgKG1hcmNhcy5sZW5ndGggPiAwKSB7DQogICAgICAgIHJldCA9IHJldCAmJiAoaXRlbS5Sb21hbmVpb3MuZmlsdGVyKHIgPT4gci5NYXJjYXMuZmluZChtID0+IG1hcmNhcy5pbmNsdWRlcyhtLmlkKSkpLmxlbmd0aCA+IDApOw0KICAgICAgfQ0KDQoNCiAgICAgIGlmICh0aGlzLmZpbHRybyAhPT0gIiIpIHsNCiAgICAgICAgcmV0ID0gcmV0ICYmICgNCiAgICAgICAgICBpdGVtLmlkLnRvU3RyaW5nKCkuaW5jbHVkZXModGhpcy5maWx0cm8pIHx8DQogICAgICAgICAgaXRlbS50cmFuc3AuaW5jbHVkZXModGhpcy5maWx0cm8udG9VcHBlckNhc2UoKSkgfHwNCiAgICAgICAgICBpdGVtLm1vdG9yaXN0YS5pbmNsdWRlcyh0aGlzLmZpbHRyby50b1VwcGVyQ2FzZSgpKSB8fA0KICAgICAgICAgIGl0ZW0ucGxhY2EuaW5jbHVkZXModGhpcy5maWx0cm8udG9VcHBlckNhc2UoKSkNCiAgICAgICAgKQ0KICAgICAgfQ0KDQogICAgICByZXR1cm4gcmV0Ow0KDQogICAgfSwNCiAgICBtYXJjYXIoY2hlY2spIHsNCiAgICAgIGlmICh0aGlzLmRhdGEuZmluZChkPT5kLmlkID09IHRoaXMuc2VsZWN0ZWQuaWQpKSB7DQogICAgICAgIHRoaXMuZGF0YS5maW5kKGQ9PmQuaWQgPT0gdGhpcy5zZWxlY3RlZC5pZCkuUm9tYW5laW9zLm1hcChyPT57DQogICAgICAgICAgci5jaGVja2VkID0gY2hlY2sNCiAgICAgICAgfSkNCiAgICAgIH0NCiAgICB9LA0KICAgIG1vZGFscGVkaWRvcyhwZWRpZG9zKSB7DQogICAgICB0aGlzLnBlZGlkb3MgPSBwZWRpZG9zOw0KICAgICAgdGhpcy4kYnZNb2RhbC5zaG93KCJtb2RhbC1wZWRpZG9zIik7DQogICAgfSwNCiAgICBnZXRNYXJjYXMoKSB7DQogICAgICBBUEkuZ2V0KCJ2Mi9TZXJ2aWNvcy9NYXJjYXMvR2V0Iiwge3Blc3F1aXNhOiAiJSIsIFBhZ2VTaXplOiAzMCB9KQ0KICAgICAgLnRoZW4oKGFwaWRhdGEpPT57DQogICAgICAgIGlmICgoYXBpZGF0YS5kYXRhLlN1Y2Nlc3MgPT0gIlRydWUiKSB8fCBhcGlkYXRhLmRhdGEuU3VjY2Vzcykgew0KICAgICAgICAgIGNvbnN0IHJlcyA9IEFQSS5wcmVwYXJlRGF0YShhcGlkYXRhLmRhdGEpOw0KICAgICAgICAgIHRoaXMubWFyY2FzID0gcmVzLmFwaXJlc3BvbnNlLkRhdGE7DQogICAgICAgIH0gZWxzZSB7DQogICAgICAgICAgdGhpcy5tYXJjYXMgPSBbXTsNCiAgICAgICAgfQ0KICAgICAgfSkNCiAgICB9LA0KICAgIGdldENhcnJlZ2FtZW50b09wY29lcygpIHsNCiAgICAgIEFQSS5nZXQoInYyL1NlcnZpY29zL0NhcnJlZ2FtZW50by9PcGNvZXNHZXQiLCB7fSkNCiAgICAgIC50aGVuKChhcGlkYXRhKT0+ew0KICAgICAgICBpZiAoKGFwaWRhdGEuZGF0YS5TdWNjZXNzID09ICJUcnVlIikgfHwgYXBpZGF0YS5kYXRhLlN1Y2Nlc3MpIHsNCiAgICAgICAgICBjb25zdCByZXMgPSBBUEkucHJlcGFyZURhdGEoYXBpZGF0YS5kYXRhKTsNCiAgICAgICAgICB0aGlzLnNpZ09wY29lcyA9IHJlcy5hcGlyZXNwb25zZS5EYXRhOw0KICAgICAgICB9IGVsc2Ugew0KICAgICAgICAgIHRoaXMuc2lnT3Bjb2VzID0gW107DQogICAgICAgIH0NCiAgICAgIH0pDQogICAgfSwNCiAgICBnZXRDYXJyZWdhbWVudG8oKSB7DQogICAgICB0aGlzLnVwZGF0ZXN0b3AgPSB0cnVlOw0KICAgICAgQVBJLmdldCgidjIvU2Vydmljb3MvQ2FycmVnYW1lbnRvL0dldCIsIHRoaXMucGFyYW1zKQ0KICAgICAgLnRoZW4oKGFwaWRhdGEpPT57DQogICAgICAgIGlmICgoYXBpZGF0YS5kYXRhLlN1Y2Nlc3MgPT0gIlRydWUiKSB8fCBhcGlkYXRhLmRhdGEuU3VjY2Vzcykgew0KICAgICAgICAgIGNvbnN0IHJlcyA9IEFQSS5wcmVwYXJlRGF0YShhcGlkYXRhLmRhdGEpOw0KICAgICAgICAgIHRoaXMuZGF0YSA9IHJlcy5hcGlyZXNwb25zZS5EYXRhOw0KICAgICAgICAgIHRoaXMuZm9ybWNvbGxhcHNlZCA9IGZhbHNlOw0KICAgICAgICB9IGVsc2Ugew0KICAgICAgICAgIHRoaXMuZGF0YSA9IFtdOw0KICAgICAgICAgIHRoaXMuZm9ybWNvbGxhcHNlZCA9IHRydWU7DQogICAgICAgIH0NCiAgICAgIH0pOw0KICAgIH0sDQogICAgZ2V0Q2FycmVnYW1lbnRvVG90YWlzKCkgew0KDQogICAgICBBUEkuZ2V0KCJ2Mi9TZXJ2aWNvcy9DYXJyZWdhbWVudG9Ub3RhaXMvR2V0IiwgdGhpcy5wYXJhbXMsIGZhbHNlKQ0KICAgICAgLnRoZW4oKGFwaWRhdGEpPT57DQogICAgICAgIGlmICgoYXBpZGF0YS5kYXRhLlN1Y2Nlc3MgPT0gIlRydWUiKSB8fCBhcGlkYXRhLmRhdGEuU3VjY2Vzcykgew0KICAgICAgICAgIGNvbnN0IHJlcyA9IEFQSS5wcmVwYXJlRGF0YShhcGlkYXRhLmRhdGEpOw0KDQogICAgICAgICAgY29uc29sZS5sb2coJ2dldENhcnJlZ2FtZW50b1RvdGFpczpoaXQnKTsNCg0KICAgICAgICAgIHJlcy5hcGlyZXNwb25zZS5EYXRhLm1hcCh0ID0+IHsNCiAgICAgICAgICAgIGlmICh0aGlzLmRhdGEuZmluZChjID0+IGMuaWQgPT0gdC5pZCkpIHsNCiAgICAgICAgICAgICAgdGhpcy5kYXRhLmZpbmQoYyA9PiBjLmlkID09IHQuaWQpLlRWb2x1bWVzQ29sZXRhZG9zID0gdC5UVm9sdW1lc0NvbGV0YWRvczsNCiAgICAgICAgICAgICAgdGhpcy5kYXRhLmZpbmQoYyA9PiBjLmlkID09IHQuaWQpLlBlcmNDb2xldGFkb3MgPSB0LlBlcmNDb2xldGFkb3M7DQogICAgICAgICAgICAgIHRoaXMuZGF0YS5maW5kKGMgPT4gYy5pZCA9PSB0LmlkKS5zaWdJbWFnZSA9IHQuc2lnSW1hZ2U7DQoJCSAgICAgICAgICB0aGlzLmRhdGEuZmluZChjID0+IGMuaWQgPT0gdC5pZCkuc2lnSW1hZ2VDb25mID0gdC5zaWdJbWFnZUNvbmY7DQoJCSAgICAgICAgICB0aGlzLmRhdGEuZmluZChjID0+IGMuaWQgPT0gdC5pZCkuc2lnT2JzQ29uZiA9IHQuc2lnT2JzQ29uZjsNCgkJICAgICAgICAgIHRoaXMuZGF0YS5maW5kKGMgPT4gYy5pZCA9PSB0LmlkKS5PcGNvZXMgPSB0Lk9wY29lczsNCgkJICAgICAgICAgIHRoaXMuZGF0YS5maW5kKGMgPT4gYy5pZCA9PSB0LmlkKS5VbHRpbWFDb2xldGEgPSB0LlVsdGltYUNvbGV0YTsNCiAgICAgICAgICAgIH0NCiAgICAgICAgICB9KQ0KICAgICAgICB9DQogICAgICB9KSAgICAgIA0KICAgIH0sDQogICAgYXN5bmMgYXNzaW5hcihpdGVtKSB7DQogICAgICBsZXQgcGVyYyA9IGl0ZW0ucGVyYzsNCg0KICAgICAgLy8gc3VnZXJpZG8gbsOjbyBwb2RlciBsaWJlcmFyIHNlbSBlc3RhciAxMDAlIGNvbGV0YWRvDQogICAgICAvKg0KICAgICAgaWYgKHBlcmMgPCAxMDApIHsNCiAgICAgICAgdGhpcy4kcm9vdC50b2FzdGRhbmdlcigiQSBjYXJnYSBuw6NvIGVzdMOhIDEwMCUgY29sZXRhZGEsIG7Do28gw6kgcG9zc8OtdmVsIHNvbGljaXRhciBhIGFzc2luYXR1cmEgISIpOw0KICAgICAgfQ0KICAgICAgKi8NCiAgICAgIGlmIChwZXJjIDwgMTAwKSB7DQogICAgICAgIGF3YWl0IHRoaXMuJHJvb3QNCiAgICAgICAgICAuc2hvd21lc3NhZ2UoJ0EgY2FyZ2EgbsOjbyBlc3TDoSAxMDAlIGNvbGV0YWRhLCBkZXNlamEgcmVhbG1lbnRlIHNvbGljaXRhciBhIGFzc2luYXR1cmEgPycpDQogICAgICAgICAgLnRoZW4oKGNob2ljZSk9PnsNCiAgICAgICAgICAgIGlmIChjaG9pY2UpIHsNCiAgICAgICAgICAgICAgcGVyYyA9IDEwMDsNCiAgICAgICAgICAgIH0NCiAgICAgICAgICB9KQ0KICAgICAgfQ0KDQogICAgICBpZiAocGVyYyA+IDk5LjkpIHsNCiAgICAgICAgLy8gdGhpcy5zZWxlY3RlZCA9IGl0ZW07DQogICAgICAgIHRoaXMuZG9zZWxlY3RlZChpdGVtKTsNCiAgICAgICAgLy8gY29uc29sZS5sb2coImFzc2luYXIub3Bjb2VzOiIsIGl0ZW0uT3Bjb2VzKTsNCiAgICAgICAgaWYgKGl0ZW0uUm9tYW5laW9zLmZpbmQocj0+ci5jaGVja2VkKSkgew0KICAgICAgICAgIHRoaXMuc2lnSW1hZ2UgPSBpdGVtLlJvbWFuZWlvcy5maW5kKHI9PnIuY2hlY2tlZCkuc2lnSW1hZ2U7DQogICAgICAgICAgdGhpcy5zaWdJbWFnZUNvbmYgPSBpdGVtLlJvbWFuZWlvcy5maW5kKHI9PnIuY2hlY2tlZCkuc2lnSW1hZ2VDb25mOw0KICAgICAgICAgIHRoaXMuc2lnT2JzQ29uZiA9IGl0ZW0uUm9tYW5laW9zLmZpbmQocj0+ci5jaGVja2VkKS5zaWdPYnNDb25mOyAgICAgICAgDQogICAgICAgICAgdGhpcy5vcGNvZXMgPSBKU09OLnBhcnNlKGl0ZW0uUm9tYW5laW9zLmZpbmQocj0+ci5jaGVja2VkKS5PcGNvZXMgfHwgIltdIik7ICAgICAgICANCiAgICAgICAgfSBlbHNlIHsNCiAgICAgICAgICB0aGlzLnNpZ0ltYWdlID0gaXRlbS5zaWdJbWFnZTsNCiAgICAgICAgICB0aGlzLnNpZ0ltYWdlQ29uZiA9IGl0ZW0uc2lnSW1hZ2VDb25mOw0KICAgICAgICAgIHRoaXMuc2lnT2JzQ29uZiA9IGl0ZW0uc2lnT2JzQ29uZjsgICAgICAgIA0KICAgICAgICAgIHRoaXMub3Bjb2VzID0gSlNPTi5wYXJzZShpdGVtLk9wY29lcyB8fCAiW10iKTsgDQogICAgICAgIH0NCiAgICAgICAgdGhpcy5zaWdDaGFuZ2UgPSBmYWxzZTsNCiAgICAgICAgdGhpcy5zaWdDaGFuZ2VDb25mID0gZmFsc2U7DQogICAgICAgIC8vIGNvbnNvbGUubG9nKCJhc3NpbmFyLml0ZW06IiwgaXRlbSk7DQogICAgICAgIHRoaXMuJGJ2TW9kYWwuc2hvdygibW9kYWwtYXNzaW5hciIpOw0KICAgICAgfQ0KICAgIH0sDQogICAgYXNzaW5hcnJvbWFuZWlvKGNhcmdhLCByb21hbmVpbykgew0KICAgICAgaWYgKHRoaXMuZGF0YS5maW5kKGQ9PmQuaWQgPT0gY2FyZ2EuaWQpKSB7DQogICAgICAgIC8vIGRlc21hcmNhIG9zIG91dHJvcyAuLi4gDQogICAgICAgIHRoaXMuZGF0YS5maW5kKGQ9PmQuaWQgPT0gY2FyZ2EuaWQpLlJvbWFuZWlvcy5maWx0ZXIocj0+ci5jaGVja2VkKS5tYXAobT0+bS5jaGVja2VkID0gZmFsc2UpOw0KICAgICAgICBpZiAodGhpcy5kYXRhLmZpbmQoZD0+ZC5pZCA9PSBjYXJnYS5pZCkuUm9tYW5laW9zLmZpbmQocj0+ci5Sb21hbmVpbz09cm9tYW5laW8pKSB7DQogICAgICAgICAgdGhpcy5kYXRhLmZpbmQoZD0+ZC5pZCA9PSBjYXJnYS5pZCkuUm9tYW5laW9zLmZpbmQocj0+ci5Sb21hbmVpbz09cm9tYW5laW8pLmNoZWNrZWQgPSB0cnVlDQogICAgICAgICAgdGhpcy5hc3NpbmFyKGNhcmdhKTsNCiAgICAgICAgfQ0KICAgICAgfQ0KICAgIH0sDQogICAgc2lnbmF0dXJlU2hvd24oKSB7DQogICAgICB0aGlzLnVwZGF0ZXN0b3AgPSB0cnVlOw0KICAgIH0sDQogICAgc2lnbmF0dXJlSGlkZGVuKCkgew0KICAgICAgdGhpcy51cGRhdGVzdG9wID0gZmFsc2U7DQogICAgfSwNCiAgICBzaWduYXR1cmVPaygpIHsNCiAgICAgIC8vIGNvbnNvbGUubG9nKCJzaWduYXR1cmVPay5zaWdJbWFnZToiLCB0aGlzLnNpZ0ltYWdlKTsNCiAgICAgIEFQSS5wb3N0KCJ2Mi9TZXJ2aWNvcy9DYXJyZWdhbWVudG8vU2lnbmF0dXJlU2V0IiwgdGhpcy5wYXJhbXNpZ25hdHVyZSkNCiAgICAgIC50aGVuKChhcGlkYXRhKT0+ew0KICAgICAgICBpZiAoKGFwaWRhdGEuZGF0YS5TdWNjZXNzID09ICJUcnVlIikgfHwgYXBpZGF0YS5kYXRhLlN1Y2Nlc3MpIHsNCiAgICAgICAgICBpZiAodGhpcy5kYXRhLmZpbmQoYz0+Yy5pZCA9PSB0aGlzLnNlbGVjdGVkLmlkKSkgew0KICAgICAgICAgICAgdGhpcy5kYXRhLmZpbmQoYz0+Yy5pZCA9PSB0aGlzLnNlbGVjdGVkLmlkKS5zaWdJbWFnZSA9IHRoaXMuc2lnSW1hZ2U7DQogICAgICAgICAgICB0aGlzLmRhdGEuZmluZChjPT5jLmlkID09IHRoaXMuc2VsZWN0ZWQuaWQpLnNpZ0ltYWdlQ29uZiA9IHRoaXMuc2lnSW1hZ2VDb25mOw0KICAgICAgICAgICAgdGhpcy5kYXRhLmZpbmQoYz0+Yy5pZCA9PSB0aGlzLnNlbGVjdGVkLmlkKS5zaWdPYnNDb25mID0gdGhpcy5zaWdPYnNDb25mO3RoaXMuZGF0YS5maW5kKGM9PmMuaWQgPT0gdGhpcy5zZWxlY3RlZC5pZCkuT3Bjb2VzID0gSlNPTi5zdHJpbmdpZnkodGhpcy5vcGNvZXMpOw0KICAgICAgICAgICAgdGhpcy5kYXRhLmZpbmQoYz0+Yy5pZCA9PSB0aGlzLnNlbGVjdGVkLmlkKS5Sb21hbmVpb3MuZmlsdGVyKHI9PnIuY2hlY2tlZCkubWFwKGQ9PnsNCiAgICAgICAgICAgICAgZC5zaWdJbWFnZSA9IHRoaXMuc2lnSW1hZ2U7DQogICAgICAgICAgICAgIGQuc2lnSW1hZ2VDb25mID0gdGhpcy5zaWdJbWFnZUNvbmY7DQogICAgICAgICAgICAgIGQuc2lnT2JzQ29uZiA9IHRoaXMuc2lnT2JzQ29uZjsNCiAgICAgICAgICAgICAgZC5PcGNvZXMgPSBKU09OLnN0cmluZ2lmeSh0aGlzLm9wY29lcyk7DQogICAgICAgICAgICAgIGQuY2hlY2tlZCA9IGZhbHNlOw0KICAgICAgICAgICAgfSkNCiAgICAgICAgICB9DQogICAgICAgICAgY29uc3QgcmVzID0gQVBJLnByZXBhcmVEYXRhKGFwaWRhdGEuZGF0YSk7DQoNCiAgICAgICAgICB0aGlzLiRyb290LnRvYXN0c3VjY2VzcyhyZXMuZGF0YVswXS5NZW5zYWdlbSk7DQogICAgICAgICAgdGhpcy51cGRhdGVzdG9wID0gZmFsc2U7DQoNCiAgICAgICAgICBpZiAoICghdGhpcy5zaWdJbWFnZSB8fCB0aGlzLnNpZ0ltYWdlID09ICIiKSB8fCAoIXRoaXMuc2lnSW1hZ2VDb25mIHx8IHRoaXMuc2lnSW1hZ2VDb25mID09ICIiKSApIHsNCiAgICAgICAgICAgIGlmICggKCF0aGlzLnNpZ0ltYWdlIHx8IHRoaXMuc2lnSW1hZ2UgPT0gIiIpICkgdGhpcy4kcm9vdC50b2FzdGRhbmdlcignQXNzaW5hdHVyYSBkbyBtb3RvcmlzdGEgbsOjbyBpbmZvcm1hZGEhJyk7DQogICAgICAgICAgICBpZiAoICghdGhpcy5zaWdJbWFnZUNvbmYgfHwgdGhpcy5zaWdJbWFnZUNvbmYgPT0gIiIpICkgdGhpcy4kcm9vdC50b2FzdGRhbmdlcignQXNzaW5hdHVyYSBkbyBjb25mZXJlbnRlIG7Do28gaW5mb3JtYWRhIScpOw0KICAgICAgICAgIH0NCiAgICAgICAgfSBlbHNlIHsNCiAgICAgICAgICB0aGlzLiRyb290LnRvYXN0ZGFuZ2VyKGFwaWRhdGEuRXJyb3IpOw0KICAgICAgICAgIHRoaXMuZm9ybWNvbGxhcHNlZCA9IGZhbHNlOw0KICAgICAgICB9DQogICAgICB9KTsNCiAgICB9LA0KICAgIGRvc2VsZWN0ZWQoaXRlbSkgew0KICAgICAgdGhpcy5zZWxlY3RlZCA9IGl0ZW07DQogICAgfSwNCiAgICBjbGFzc3BlcmMocGVyYykgew0KICAgICAgcmV0dXJuIChwZXJjPjk5KSA/ICJzdWNjZXNzIiA6ICJwcmltYXJ5IjsNCiAgICB9LA0KICAgIGNsYXNzc2VsZWN0ZWQoaXRlbSkgew0KICAgICAgcmV0dXJuIChpdGVtLmlkID09IHRoaXMuc2VsZWN0ZWQuaWQpID8gInByaW1hcnkiIDogIiI7DQogICAgfSwNCiAgICBjbGFzc3BlZGlkb3MoaXRlbSkgew0KICAgICAgcmV0dXJuICh0aGlzLnBlZGlkb3NzZWxlY3RlZCAmJiAoaXRlbS5QZWRpZG8gPT0gdGhpcy5wZWRpZG9zc2VsZWN0ZWQuUGVkaWRvKSkgPyAicHJpbWFyeSIgOiAiIjsNCiAgICB9DQogIH0sDQogIHdhdGNoOiB7DQogICAgZm9ybWNvbGxhcHNlZChjb2xsYXBzZWQpIHsNCiAgICAgIHRoaXMudXBkYXRlc3RvcCA9IGNvbGxhcHNlZDsNCiAgICB9LA0KICAgIHVwZGF0ZXRpbWVvdXQoKSB7DQogICAgICBjbGVhckludGVydmFsKHRoaXMudGltZXIpOw0KICAgICAgdGhpcy50aW1lciA9IG51bGw7DQogICAgICB0aGlzLnRpbWVyID0gc2V0SW50ZXJ2YWwoKCkgPT4gew0KICAgICAgICBpZiAoIXRoaXMudXBkYXRlc3RvcCkNCiAgICAgICAgICB0aGlzLmdldENhcnJlZ2FtZW50b1RvdGFpcygpOw0KICAgICAgfSwgdGhpcy51cGRhdGV0aW1lb3V0KTsNCiAgICB9DQogIH0gDQp9Ow0K"},{"version":3,"sources":["index.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAybA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"index.vue","sourceRoot":"src/pages/carregamento/views","sourcesContent":["<template>\r\n  <div class=\"mx-auto container\">\r\n    <b-card class=\"my-2\" header-bg-variant=\"primary\" header-text-variant=\"white\">\r\n    <template #header>\r\n    <div class=\"d-flex w-100 justify-content-between\">\r\n      <h4 class=\"mb-0\">Controle de cargas</h4>\r\n      <b-button-group>\r\n      <b-button variant=\"light\" v-b-toggle.collapseform>\r\n        <b-icon-caret-up v-if=\"formcollapsed\"/>\r\n        <b-icon-caret-down v-else/>\r\n        Filtros\r\n        </b-button>\r\n        <b-dropdown split variant=\"success\" @click=\"updatestop=false\" title=\"Atualização de coletas\" v-if=\"updatestop\">\r\n          <template #button-content>\r\n           <b-icon-play />\r\n           </template>\r\n           <b-dropdown-item-button @click=\"updatetimeout=5000\"><b-icon-toggle-on v-if=\"updatetimeout==5000\"/><b-icon-toggle-off v-else/><span class=\"ml-2\">Timer em 5 Segundos</span></b-dropdown-item-button>\r\n           <b-dropdown-item-button @click=\"updatetimeout=15000\"><b-icon-toggle-on v-if=\"updatetimeout==15000\"/><b-icon-toggle-off v-else/><span class=\"ml-2\">Timer em 15 Segundos</span></b-dropdown-item-button>\r\n           <b-dropdown-item-button @click=\"updatetimeout=30000\"><b-icon-toggle-on v-if=\"updatetimeout==30000\"/><b-icon-toggle-off v-else/><span class=\"ml-2\">Timer em 30 Segundos</span></b-dropdown-item-button>\r\n           <b-dropdown-item-button @click=\"updatetimeout=60000\"><b-icon-toggle-on v-if=\"updatetimeout==60000\"/><b-icon-toggle-off v-else/><span class=\"ml-2\">Timer em 1 minuto</span></b-dropdown-item-button>\r\n        </b-dropdown>\r\n        <!-- <b-button variant=\"success\" @click=\"updatestop=false\" v-if=\"updatestop\">\r\n          <b-icon-play />\r\n        </b-button>         -->\r\n        <b-button variant=\"danger\" @click=\"updatestop=true\" title=\"Pausar a atualização de coletas\" v-else>\r\n          <b-icon-pause />\r\n        </b-button> \r\n        </b-button-group>      \r\n      </div>\r\n    </template>\r\n      <!--\r\n      marcasselected: {{marcasselected}}<br />\r\n      selectedcheckedlength: {{selectedcheckedlength}}<br />\r\n      selectedchecked: {{selectedchecked}}<br />\r\n      selected: {{selected}}<br />\r\n      data: {{data}}<br />\r\n      romaneios[0]: {{romaneios[0]}}<br />\r\n      romaneios[2]: {{romaneios[2]}}\r\n       -->\r\n    <b-collapse id=\"collapseform\" v-model=\"formcollapsed\">\r\n    <b-row>\r\n      <b-col cols=\"12\" md=\"2\">\r\n      <b-form-group\r\n        id=\"input-group-idcarregamento\"\r\n        label-for=\"input-idcarregamento\"\r\n        label=\"Carga\"\r\n      >\r\n        <b-form-input\r\n          id=\"input-idcarregamento\"\r\n          type=\"number\"\r\n          v-model=\"form.idCarregamento\"\r\n        >\r\n        </b-form-input>\r\n      </b-form-group>\r\n      </b-col>\r\n      <b-col cols=\"12\" md=\"3\">\r\n      <b-form-group\r\n        id=\"input-group-database\"\r\n        label-for=\"input-database\"\r\n        label=\"Data Entrada\"\r\n      >\r\n        <b-form-datepicker\r\n          id=\"input-database\"\r\n          :date-format-options=\"{\r\n            year: 'numeric',\r\n            month: '2-digit',\r\n            day: '2-digit',\r\n          }\"\r\n          locale=\"pt\"\r\n          v-model=\"form.entrada\"\r\n        >\r\n        </b-form-datepicker>\r\n      </b-form-group>\r\n      </b-col>\r\n      <b-col cols=\"12\" md=\"4\">\r\n        <b-form-group\r\n        id=\"input-group-motorista\"\r\n        label-for=\"input-motorista\"\r\n        label=\"Motorista\"\r\n      >\r\n      <b-form-input id=\"input-motorista\" type=\"text\" v-model=\"form.motorista\" />\r\n      </b-form-group>\r\n      </b-col>\r\n      <b-col cols=\"12\" md=\"3\">\r\n        <b-form-group\r\n        id=\"input-group-placa\"\r\n        label-for=\"input-placa\"\r\n        label=\"Placa\"\r\n      >\r\n      <b-form-input id=\"input-placa\" type=\"text\" v-model=\"form.placa\" />\r\n      </b-form-group>\r\n      </b-col>\r\n    </b-row>\r\n\r\n    <b-row>\r\n      <b-col cols=\"12\">\r\n        <b-form-group\r\n        id=\"input-group-nometransp\"\r\n        label-for=\"input-nometransp\"\r\n        label=\"Transportadora\"\r\n      >\r\n      <b-form-input id=\"input-nometransp\" type=\"text\" v-model=\"form.nometransp\" />\r\n      </b-form-group>\r\n      </b-col>\r\n    </b-row>\r\n\r\n    <b-row>\r\n      <b-col cols=\"12\" class=\"mb-2 text-right\">\r\n        \r\n        <b-button variant=\"success\" @click=\"getCarregamento()\">\r\n          <b-icon-search />\r\n          Buscar\r\n        </b-button>\r\n        \r\n      </b-col>\r\n    </b-row>\r\n    <hr />\r\n    </b-collapse>\r\n\r\n    <b-row>\r\n      <b-col>\r\n        <b-input-group prepend=\"Filtro\" size=\"sm\" class=\"mb-2\">\r\n          <b-form-input\r\n            id=\"input-filtro\"\r\n            type=\"search\"\r\n            v-model=\"filtro\"\r\n            placeholder=\"Informe a carga, nome da transportadora, motorista ou placa...\"\r\n          ></b-form-input>\r\n        </b-input-group>\r\n      </b-col>\r\n    </b-row>\r\n    <b-row>\r\n      <b-col class=\"text-right\">\r\n        <div class=\"d-flex float-right align-items-center hspaced-4 mb-2\">\r\n          <b-dropdown size=\"sm\" text=\"Marcas\" variant=\"info\" right>\r\n            <b-form-checkbox\r\n              v-for=\"m of marcas\"\r\n              :key=\"m.id\"\r\n              class=\"mb-1 ml-1\" \r\n              switch\r\n              left\r\n              v-model=\"m.checked\">\r\n              {{m.reduzido}}\r\n            </b-form-checkbox>\r\n          </b-dropdown>\r\n          <b-form-checkbox switch v-model=\"filtroassinados\">Assinados</b-form-checkbox>\r\n        </div>\r\n      </b-col>\r\n    </b-row>\r\n\r\n    <b-row>\r\n    <b-col cols=\"12\" class=\"lista\">\r\n      <b-list-group>\r\n        <b-list-group-item \r\n          v-for=\"r in romaneios\"\r\n          v-b-toggle=\"`collapse-romaneio-${r.id}`\"\r\n          :variant=\"classselected(r)\" \r\n          :key=\"r.id\"\r\n          @click=\"doselected(r)\"\r\n          class=\"flex-column align-items-start\">\r\n\r\n          <div class=\"d-flex w-100 justify-content-between\">\r\n            <div class=\"mb-3\">Carga: <span class=\"mb-3\"><b><span v-copy @click.stop=\"\">{{r.id}}</span></b></span></div>\r\n            <div style=\"min-width: 80px;\">\r\n              <b-progress :value=\"r.perc\" :label=\"`${r.perc}%`\" :max=\"100\" :variant=\"classperc(r.perc)\" show-progress></b-progress>\r\n            </div>\r\n          </div>\r\n\r\n          <div class=\"d-flex w-100 justify-content-between\">\r\n            <h5 class=\"mb-3\">{{r.codTransp}} - {{r.transp}}</h5>\r\n            <div style=\"min-width: 80px;\">\r\n            <b-row>\r\n              <b-col class=\"text-right\">\r\n                <span class=\"iconbutton\" @click.stop=\"assinar(r)\">\r\n                  <b-icon-pen-fill v-if=\"r.PercAssinados==100\" variant=\"success\" title=\"Assinar\" />\r\n                  <b-icon-pen-fill v-else variant=\"danger\" title=\"Assinar\" />\r\n                </span>\r\n              </b-col>\r\n              <b-col class=\"text-right\">\r\n                <span>\r\n                  <b-form-checkbox @change=\"marcar\"/>\r\n                </span>\r\n              </b-col>\r\n            </b-row>\r\n            </div>\r\n          </div>\r\n\r\n          <div>\r\n            <b-row>\r\n              <b-col cols=\"6\">\r\n                <b-row style=\"font-style: italic; font-size: 14px;\">\r\n                  <b-col class=\"text-nowrap\" cols=\"12\" lg=\"3\">Romaneios: <b>{{r.Romaneios.length}}</b></b-col>\r\n                  <b-col class=\"text-nowrap\" cols=\"12\" lg=\"3\">Pedidos: <b>{{r.TPedidos}}</b></b-col>\r\n                  <b-col class=\"text-nowrap\" cols=\"12\" lg=\"3\">Volumes: <b>{{r.volumes}}</b></b-col>\r\n                  <b-col class=\"text-nowrap\" cols=\"12\" lg=\"3\">Última Coleta: <b>{{r.ultimacoleta | time}}</b></b-col>\r\n                </b-row>\r\n              </b-col>\r\n              <b-col cols=\"6\" class=\"text-right\">\r\n                <b-row>\r\n                  <b-col cols=\"12\" lg=\"9\">\r\n                    <span><b>{{r.motorista}}</b></span>\r\n                  </b-col>\r\n                  <b-col cols=\"12\" lg=\"3\">\r\n                    <span class=\"text-nowrap\" v-copy @click.stop=\"\">{{r.placa}}</span>\r\n                  </b-col>\r\n                </b-row>\r\n              </b-col>\r\n            </b-row>\r\n          </div>\r\n\r\n\r\n          <b-collapse \r\n            :id=\"`collapse-romaneio-${r.id}`\"\r\n            v-model=\"r.collapsed\"\r\n          >\r\n          <b-list-group>\r\n            <b-list-group-item\r\n              v-for=\"p in r.Romaneios\"\r\n              :key=\"p.Romaneio\"\r\n              :variant=\"p.checked==true ? 'warning' : p.sigImage ? 'success' : ''\"\r\n              @click.stop=\"\"\r\n            >\r\n              <div class=\"d-flex w-100 justify-content-between\">\r\n                <div class=\"mb-3\">Romaneio: <span class=\"font-weight-bold mb-3\" v-copy>{{p.Romaneio}}</span></div>\r\n                <div style=\"min-width: 80px;\">\r\n                  <b-progress :value=\"p.PercColetados\" :label=\"`${p.PercColetados}%`\" :max=\"100\" :variant=\"classperc(p.PercColetados)\" show-progress></b-progress>\r\n                </div>\r\n              </div>\r\n\r\n              <div class=\"d-flex w-100 justify-content-between\">\r\n                <div>\r\n                  <span class=\"text-nowrap iconbutton\" @click=\"modalpedidos(p.Pedidos)\">Pedidos: <b><span v-copy @click.stop=\"\">{{p.Pedidos.length}}</span></b></span> |\r\n                  <span class=\"text-nowrap\">Volumes: <b>{{p.TVolumes}}</b></span> |\r\n                  <span class=\"text-nowrap\">Peso: <b>{{p.PesoBruto}}</b></span> |\r\n                  <span class=\"text-nowrap\">Cubagem: <b>{{p.Cubagem}}</b></span>\r\n                </div>\r\n                <div>\r\n                  <b-row>\r\n                    <b-col>\r\n                      <span class=\"iconbutton\" v-if=\"p.sigImage\" @click.stop=\"assinarromaneio(r, p.Romaneio)\">\r\n                        <b-icon-pen-fill variant=\"success\" title=\"Assinar\" />\r\n                      </span>\r\n                    </b-col>\r\n                    <b-col>\r\n                      <b-form-checkbox v-model=\"p.checked\" @click.stop=\"\" />\r\n                    </b-col>\r\n                  </b-row>\r\n                </div>\r\n\r\n              </div>\r\n            </b-list-group-item>\r\n            </b-list-group>\r\n          </b-collapse>\r\n\r\n        </b-list-group-item>        \r\n      </b-list-group>\r\n      </b-col>\r\n    </b-row>\r\n    </b-card>\r\n    \r\n    <!-- MODAIS -->\r\n    <b-modal\r\n      id=\"modal-assinar\"\r\n      ref=\"modal-assinar\"\r\n      size=\"lg\"\r\n      scrollable\r\n      :title=\"signatureTitle\"\r\n      ok-only\r\n      ok-title=\"Confirmar Assinaturas\"\r\n      @shown=\"signatureShown\"\r\n      @ok=\"signatureOk\"\r\n      @hide=\"signatureHidden\"\r\n      :ok-disabled=\"!signatureValid\"\r\n    >\r\n    <b-card no-body>\r\n    <b-tabs card v-model=\"tabIndex\">\r\n      <b-tab title=\"Detalhes\" active>\r\n        <div class=\"p-3\">\r\n        <b-row>\r\n          <b-col class=\"colsalign\">\r\n            <span>Transportadora:</span>\r\n          </b-col>\r\n          <b-col cols=\"12\" sm=\"8\">\r\n            <div class=\"font-weight-bold\">{{selected.transp}}</div>\r\n          </b-col>\r\n        </b-row>\r\n        <b-row>\r\n          <b-col class=\"colsalign\">\r\n            <span class=\"colsalign\">Motorista:</span>\r\n          </b-col>\r\n          <b-col cols=\"12\" sm=\"8\">\r\n            <div class=\"font-weight-bold\">{{selected.motorista}}</div>\r\n          </b-col>\r\n        </b-row>\r\n        <b-row>\r\n          <b-col class=\"colsalign\">\r\n            <span>Placa:</span>\r\n          </b-col>\r\n          <b-col cols=\"12\" sm=\"8\">\r\n            <div class=\"font-weight-bold\">{{selected.placa}}</div>\r\n          </b-col>\r\n        </b-row>\r\n        <b-row>\r\n          <b-col class=\"colsalign\">\r\n            <span>Romaneios:</span>\r\n          </b-col>\r\n          <b-col cols=\"12\" sm=\"8\">\r\n            <div class=\"font-weight-bold\" :class=\"selectedcheckedlength > 0 ? 'text-danger' : ''\">{{`${selectedcheckedlength > 0 ? selectedcheckedlength+' de ' : ''}`}}{{selected && selected.Romaneios && selected.Romaneios.length}}</div>\r\n          </b-col>\r\n        </b-row>\r\n        <b-row>\r\n          <b-col class=\"colsalign\">\r\n            <span>Volumes:</span>\r\n          </b-col>\r\n          <b-col cols=\"12\" sm=\"8\">\r\n            <div class=\"font-weight-bold\">{{selected.volumes}}</div>\r\n          </b-col>\r\n        </b-row>\r\n        <b-row>\r\n          <b-col class=\"colsalign\">\r\n            <span>Última Coleta:</span>\r\n          </b-col>\r\n          <b-col cols=\"12\" sm=\"8\">\r\n            <div class=\"font-weight-bold\">{{selected.ultimacoleta | dateBR}} {{selected.ultimacoleta | time}}</div>\r\n          </b-col>\r\n        </b-row>\r\n        </div>\r\n      </b-tab>\r\n      <b-tab title=\"Assinatura Motorista\">\r\n        <Signature\r\n          v-if=\"tabIndex==1\"\r\n          ref=\"signatureRef\"\r\n          :sigImage=\"sigImage\"\r\n          :buttons=\"['clear']\"\r\n          @evtSignatureChange=\"sigChange=true\"\r\n          v-model=\"sigImage\" />\r\n      </b-tab>\r\n      <b-tab title=\"Assinatura Conferente\">\r\n        <b-form-group\r\n          id=\"input-group-obsconferente\"\r\n          label-for=\"input-obsconferente\"\r\n          label=\"Observação\"\r\n        >\r\n        <b-form-textarea \r\n          id=\"input-obsconferente\"\r\n          rows=\"3\" v-model=\"sigObsConf\"\r\n        />\r\n        </b-form-group>\r\n        <b-form-group\r\n          id=\"input-group-opcoes\"\r\n          label-for=\"input-opcoes\"\r\n          label=\"Opções\"\r\n        >\r\n        <b-form-checkbox-group \r\n          id=\"input-opcoes\"\r\n          :options=\"signatureOptions\"\r\n          v-model=\"opcoes\"\r\n        />\r\n      </b-form-group>\r\n        <Signature\r\n          v-if=\"tabIndex==2\"\r\n          ref=\"signatureConfRef\"\r\n          :sigImage=\"sigImageConf\"\r\n          :buttons=\"['clear']\"\r\n          @evtSignatureChange=\"sigChangeConf=true\"\r\n          v-model=\"sigImageConf\" />\r\n      </b-tab>\r\n    </b-tabs>\r\n    </b-card>\r\n    </b-modal>\r\n\r\n    <b-modal\r\n      id=\"modal-pedidos\"\r\n      ref=\"modal-pedidos\"\r\n      size=\"lg\"\r\n      scrollable\r\n      :title=\"pedidosTitle\"\r\n      ok-only\r\n      ok-title=\"Fechar\"\r\n    >\r\n      <b-list-group>\r\n        <b-list-group-item \r\n          v-b-toggle=\"`collapse-pedido-${p.Pedido}`\"\r\n          v-for=\"p in pedidos\"\r\n          :key=\"p.Pedido\"\r\n          :variant=\"classpedidos(p)\"\r\n          @click.stop=\"pedidosselected = p\"\r\n          class=\"flex-column align-items-start\">\r\n\r\n          <div class=\"d-flex w-100 justify-content-between\">\r\n            <div class=\"mb-3\">Pedido: <span class=\"mb-3\"><b><span v-copy @click.stop=\"\">{{p.Pedido}}</span></b></span> | <span class=\"text-nowrap\">Notas: <b><span v-copy @click.stop=\"\">{{pedidosNotasSplit}}</span></b></span></div>\r\n            <div style=\"min-width: 80px;\">\r\n              <b-progress :value=\"p.Percentual\" :label=\"`${p.Percentual}%`\" :max=\"100\" :variant=\"classperc(p.Percentual)\" show-progress></b-progress>\r\n            </div>\r\n          </div>\r\n          <div class=\"d-flex w-100 justify-content-between\">\r\n            <h5 class=\"mb-3\">{{p.Codigo_Cliente}} - {{p.NomeCliente}}</h5>\r\n          </div>\r\n\r\n          <div class=\"d-flex w-100 justify-content-between\">\r\n            <div style=\"font-weight: italic; font-size: 14px;\">\r\n              <span class=\"text-nowrap\">Marca: <b>{{p.marca}}</b></span> |\r\n              <span class=\"text-nowrap\">Volumes: <b>{{p.Volumes}}</b></span> |\r\n              <span class=\"text-nowrap\">Cubagem: <b>{{p.Cubagem}}</b></span> |\r\n              <span class=\"text-nowrap\">Peso Bruto: <b>{{p.PesoBruto}}</b></span>\r\n            </div>\r\n            <!-- <span class=\"font-weight-bold\">{{r.motorista}} [ {{r.placa}} ]</span> -->\r\n          </div>\r\n\r\n          <b-collapse \r\n            :id=\"`collapse-pedido-${p.Pedido}`\"\r\n            v-model=\"p.collapsed\">\r\n          <b-list-group>\r\n            <b-list-group-item\r\n              v-for=\"n in p.Notas\"\r\n              :key=\"n.Numero_nota\"\r\n              @click.stop=\"\">\r\n              <div class=\"d-flex w-100 justify-content-between\">\r\n                <div class=\"mb-3\">Nota: <span class=\"font-weight-bold mb-3\" v-copy @click.stop=\"\">{{n.Numero_nota}}</span></div>\r\n                <div style=\"min-width: 80px;\">\r\n                  <b-progress :value=\"n.PercColeta\" :label=\"`${n.PercColeta}%`\" :max=\"100\" :variant=\"classperc(n.PercColeta)\" show-progress></b-progress>\r\n                </div>\r\n              </div>\r\n              <div class=\"d-flex w-100 justify-content-between\">\r\n                <div style=\"font-weight: italic; font-size: 14px;\">\r\n                  <span class=\"text-nowrap\">Volumes: <b>{{n.TVolumes}}</b></span> |\r\n                  <span class=\"text-nowrap\">Última Coleta: <b>{{n.UltimaColeta | dateBR}} {{n.UltimaColeta | time}}</b></span>\r\n                </div>\r\n                <!-- <span class=\"font-weight-bold\">{{r.motorista}} [ {{r.placa}} ]</span> -->\r\n              </div>\r\n            </b-list-group-item>\r\n          </b-list-group>\r\n          </b-collapse>\r\n        </b-list-group-item> \r\n      </b-list-group>\r\n    </b-modal>\r\n\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport API from \"../../../services/api.service\";\r\nimport Signature from \"../../../components/Signature\";\r\nimport Properties from \"../../../components/Properties\";\r\nexport default {\r\n  name: \"Carregamento\",\r\n  components: {\r\n    Signature,\r\n    Properties\r\n  },\r\n  data() {\r\n    return {\r\n      form: {\r\n        idCarregamento: 0,\r\n        entrada: new Date(),\r\n        nometransp: \"\",\r\n        motorista: \"\",\r\n        placa: \"\"\r\n      },\r\n      filtro: \"\",\r\n      filterOn: [\"id\", \"transp\", \"motorista\", \"placa\"],\r\n      filtroassinados: false,\r\n      filtrocoletados: true,\r\n      timer: null,\r\n      updatetimeout: 15000,\r\n      updatestop: false,\r\n      data: [],\r\n      marcas: [],\r\n      sigOpcoes: [],\r\n      tabIndex: 0,\r\n      sigImage: null,\r\n      sigImageConf: null,\r\n      sigObsConf: \"\",\r\n      sigChange: false,\r\n      sigChangeConf: false,\r\n      selected: [],\r\n      pedidosselected: null,\r\n      pedidos: [],\r\n      opcoes: [],\r\n      formcollapsed: false\r\n    };\r\n  },\r\n  computed: {\r\n    fields() {\r\n      return  [\r\n        // { key: \"transp\", label: \"Transportadora\", sortable: true },\r\n        // { key: \"motorista\", sortable: true },\r\n        // { key: \"placa\", sortable: true },\r\n        // { key: \"perc\", label: \"Coletas\", sortable: true },\r\n        { key: \"carga\", label: \"Carga\"},\r\n        { key: \"actions\", label: \"\", sortable: false }\r\n      ]\r\n    },\r\n    params() {\r\n      return {\r\n        idCarregamento: this.form.idCarregamento,\r\n        entrada: this.form.entrada,\r\n        nometransp: this.form.nometransp,\r\n        motorista: this.form.motorista,\r\n        placa: this.form.placa\r\n      }\r\n    },\r\n    marcasselected() {\r\n      return this.marcas.filter(m=>m.checked);\r\n    },\r\n    romaneios() {\r\n      return this.data.map(r=>({\r\n        id: r.id,\r\n        codTransp: r.Codigo_Transp,\r\n        transp: r.Razao_Social,\r\n        motorista: r.Motorista,\r\n        ultimacoleta: r.UltimaColeta,\r\n        volumes: r.TVolumes,\r\n        coletados: r.TVolumesColetados,\r\n        TPedidos: r.TPedidos,\r\n        perc: r.PercColetados,\r\n        placa: r.Placa,\r\n        sigImage: r.sigImage,\r\n        sigImageConf: r.sigImageConf,\r\n        PercAssinados: r.PercAssinados,\r\n        sigObsConf: r.sigObsConf,\r\n        signed: ((r.sigImage && r.sigImage !== \"\") || (r.sigImageConf && r.sigImageConf !== \"\")) ? true : false,\r\n        Romaneios: r.Romaneios || [],\r\n        collapsed: r.collapsed,\r\n        checked: r.checked,\r\n        Opcoes: r.Opcoes,\r\n        _rowVariant: r.sigImage && r.sigImageConf ? 'success' : ''\r\n      })).filter(f=>this.romaneiosfiltros(f))\r\n      //.filter(f=>f.signed == this.filtroassinados && (f.perc > 99) == this.filtrocoletados )\r\n    },\r\n    paramsignature() {\r\n      return {\r\n        idCarregamento: this.selected.id,\r\n        sigImage: this.sigImage,\r\n        sigImageConf: this.sigImageConf,\r\n        sigObsConf: this.sigObsConf,\r\n        opcoes: JSON.stringify(this.opcoes),\r\n        romaneios: this.selected.Romaneios.filter(r=>r.checked)\r\n      }\r\n    },\r\n    signatureOptions() {\r\n      return this.sigOpcoes.map(o=>({\r\n        text: o.descricao,\r\n        value: o.id\r\n      }))\r\n    },\r\n    selectedchecked() {\r\n      return this.selected.Romaneios ? this.selected.Romaneios.filter(c=>c.checked) : [];\r\n    },\r\n    selectedcheckedlength() {\r\n      return this.selectedchecked.length || 0;\r\n    },\r\n    signatureFields() {\r\n      return {Transportadora: this.selected.transp, Motorista: this.selected.motorista, Placa: this.selected.placa};\r\n    },\r\n    signatureValid() {\r\n      return ((this.sigChange && this.sigImage && this.sigImage !== \"\") || (this.sigChangeConf && this.sigImageConf && this.sigImageConf !== \"\"));\r\n    },\r\n    signatureTitle() {\r\n      return \"Carga: \" + ((this.selected && this.selected.id) || \"\");\r\n    },\r\n    pedidosTitle() {\r\n      return \"Romaneio: \" + ((this.pedidos && this.pedidos[0] && this.pedidos[0].Romaneio) || \"\");\r\n    },\r\n    pedidosNotasSplit() {\r\n      return ((this.pedidos && this.pedidos[0] && this.pedidos[0].Notas && this.pedidos[0].Notas.map(n=>(n.Numero_nota)).join(\",\")) || \"\")\r\n    }\r\n  },\r\n  beforeMount() {\r\n    this.getCarregamento();\r\n    this.getCarregamentoOpcoes();\r\n    this.getMarcas();\r\n\r\n    // seta o timer que atualiza os totais ...\r\n    this.updatestop = false;\r\n    this.timer = setInterval(() => {\r\n      if (!this.updatestop)\r\n        this.getCarregamentoTotais();\r\n    }, this.updatetimeout);\r\n\r\n  },\r\n  methods: {\r\n    teste(val) {\r\n      console.log('teste:',val);\r\n      val.collapsed = !val.collapsed;\r\n    },\r\n    romaneiosfiltros(item) {\r\n      // console.log('romaneiosfiltros(item)', item);\r\n      let ret = false;\r\n      const marcas = this.marcas.filter(m => m.checked).map(m => (m.id)) || [];\r\n      //const marcas = []\r\n\r\n      // ret = ((item.signed == this.filtroassinados) && ((item.perc > 99) == this.filtrocoletados));\r\n      ret = ((item.PercAssinados == 100) == this.filtroassinados);\r\n\r\n      if (marcas.length > 0) {\r\n        ret = ret && (item.Romaneios.filter(r => r.Marcas.find(m => marcas.includes(m.id))).length > 0);\r\n      }\r\n\r\n\r\n      if (this.filtro !== \"\") {\r\n        ret = ret && (\r\n          item.id.toString().includes(this.filtro) ||\r\n          item.transp.includes(this.filtro.toUpperCase()) ||\r\n          item.motorista.includes(this.filtro.toUpperCase()) ||\r\n          item.placa.includes(this.filtro.toUpperCase())\r\n        )\r\n      }\r\n\r\n      return ret;\r\n\r\n    },\r\n    marcar(check) {\r\n      if (this.data.find(d=>d.id == this.selected.id)) {\r\n        this.data.find(d=>d.id == this.selected.id).Romaneios.map(r=>{\r\n          r.checked = check\r\n        })\r\n      }\r\n    },\r\n    modalpedidos(pedidos) {\r\n      this.pedidos = pedidos;\r\n      this.$bvModal.show(\"modal-pedidos\");\r\n    },\r\n    getMarcas() {\r\n      API.get(\"v2/Servicos/Marcas/Get\", {pesquisa: \"%\", PageSize: 30 })\r\n      .then((apidata)=>{\r\n        if ((apidata.data.Success == \"True\") || apidata.data.Success) {\r\n          const res = API.prepareData(apidata.data);\r\n          this.marcas = res.apiresponse.Data;\r\n        } else {\r\n          this.marcas = [];\r\n        }\r\n      })\r\n    },\r\n    getCarregamentoOpcoes() {\r\n      API.get(\"v2/Servicos/Carregamento/OpcoesGet\", {})\r\n      .then((apidata)=>{\r\n        if ((apidata.data.Success == \"True\") || apidata.data.Success) {\r\n          const res = API.prepareData(apidata.data);\r\n          this.sigOpcoes = res.apiresponse.Data;\r\n        } else {\r\n          this.sigOpcoes = [];\r\n        }\r\n      })\r\n    },\r\n    getCarregamento() {\r\n      this.updatestop = true;\r\n      API.get(\"v2/Servicos/Carregamento/Get\", this.params)\r\n      .then((apidata)=>{\r\n        if ((apidata.data.Success == \"True\") || apidata.data.Success) {\r\n          const res = API.prepareData(apidata.data);\r\n          this.data = res.apiresponse.Data;\r\n          this.formcollapsed = false;\r\n        } else {\r\n          this.data = [];\r\n          this.formcollapsed = true;\r\n        }\r\n      });\r\n    },\r\n    getCarregamentoTotais() {\r\n\r\n      API.get(\"v2/Servicos/CarregamentoTotais/Get\", this.params, false)\r\n      .then((apidata)=>{\r\n        if ((apidata.data.Success == \"True\") || apidata.data.Success) {\r\n          const res = API.prepareData(apidata.data);\r\n\r\n          console.log('getCarregamentoTotais:hit');\r\n\r\n          res.apiresponse.Data.map(t => {\r\n            if (this.data.find(c => c.id == t.id)) {\r\n              this.data.find(c => c.id == t.id).TVolumesColetados = t.TVolumesColetados;\r\n              this.data.find(c => c.id == t.id).PercColetados = t.PercColetados;\r\n              this.data.find(c => c.id == t.id).sigImage = t.sigImage;\r\n\t\t          this.data.find(c => c.id == t.id).sigImageConf = t.sigImageConf;\r\n\t\t          this.data.find(c => c.id == t.id).sigObsConf = t.sigObsConf;\r\n\t\t          this.data.find(c => c.id == t.id).Opcoes = t.Opcoes;\r\n\t\t          this.data.find(c => c.id == t.id).UltimaColeta = t.UltimaColeta;\r\n            }\r\n          })\r\n        }\r\n      })      \r\n    },\r\n    async assinar(item) {\r\n      let perc = item.perc;\r\n\r\n      // sugerido não poder liberar sem estar 100% coletado\r\n      /*\r\n      if (perc < 100) {\r\n        this.$root.toastdanger(\"A carga não está 100% coletada, não é possível solicitar a assinatura !\");\r\n      }\r\n      */\r\n      if (perc < 100) {\r\n        await this.$root\r\n          .showmessage('A carga não está 100% coletada, deseja realmente solicitar a assinatura ?')\r\n          .then((choice)=>{\r\n            if (choice) {\r\n              perc = 100;\r\n            }\r\n          })\r\n      }\r\n\r\n      if (perc > 99.9) {\r\n        // this.selected = item;\r\n        this.doselected(item);\r\n        // console.log(\"assinar.opcoes:\", item.Opcoes);\r\n        if (item.Romaneios.find(r=>r.checked)) {\r\n          this.sigImage = item.Romaneios.find(r=>r.checked).sigImage;\r\n          this.sigImageConf = item.Romaneios.find(r=>r.checked).sigImageConf;\r\n          this.sigObsConf = item.Romaneios.find(r=>r.checked).sigObsConf;        \r\n          this.opcoes = JSON.parse(item.Romaneios.find(r=>r.checked).Opcoes || \"[]\");        \r\n        } else {\r\n          this.sigImage = item.sigImage;\r\n          this.sigImageConf = item.sigImageConf;\r\n          this.sigObsConf = item.sigObsConf;        \r\n          this.opcoes = JSON.parse(item.Opcoes || \"[]\"); \r\n        }\r\n        this.sigChange = false;\r\n        this.sigChangeConf = false;\r\n        // console.log(\"assinar.item:\", item);\r\n        this.$bvModal.show(\"modal-assinar\");\r\n      }\r\n    },\r\n    assinarromaneio(carga, romaneio) {\r\n      if (this.data.find(d=>d.id == carga.id)) {\r\n        // desmarca os outros ... \r\n        this.data.find(d=>d.id == carga.id).Romaneios.filter(r=>r.checked).map(m=>m.checked = false);\r\n        if (this.data.find(d=>d.id == carga.id).Romaneios.find(r=>r.Romaneio==romaneio)) {\r\n          this.data.find(d=>d.id == carga.id).Romaneios.find(r=>r.Romaneio==romaneio).checked = true\r\n          this.assinar(carga);\r\n        }\r\n      }\r\n    },\r\n    signatureShown() {\r\n      this.updatestop = true;\r\n    },\r\n    signatureHidden() {\r\n      this.updatestop = false;\r\n    },\r\n    signatureOk() {\r\n      // console.log(\"signatureOk.sigImage:\", this.sigImage);\r\n      API.post(\"v2/Servicos/Carregamento/SignatureSet\", this.paramsignature)\r\n      .then((apidata)=>{\r\n        if ((apidata.data.Success == \"True\") || apidata.data.Success) {\r\n          if (this.data.find(c=>c.id == this.selected.id)) {\r\n            this.data.find(c=>c.id == this.selected.id).sigImage = this.sigImage;\r\n            this.data.find(c=>c.id == this.selected.id).sigImageConf = this.sigImageConf;\r\n            this.data.find(c=>c.id == this.selected.id).sigObsConf = this.sigObsConf;this.data.find(c=>c.id == this.selected.id).Opcoes = JSON.stringify(this.opcoes);\r\n            this.data.find(c=>c.id == this.selected.id).Romaneios.filter(r=>r.checked).map(d=>{\r\n              d.sigImage = this.sigImage;\r\n              d.sigImageConf = this.sigImageConf;\r\n              d.sigObsConf = this.sigObsConf;\r\n              d.Opcoes = JSON.stringify(this.opcoes);\r\n              d.checked = false;\r\n            })\r\n          }\r\n          const res = API.prepareData(apidata.data);\r\n\r\n          this.$root.toastsuccess(res.data[0].Mensagem);\r\n          this.updatestop = false;\r\n\r\n          if ( (!this.sigImage || this.sigImage == \"\") || (!this.sigImageConf || this.sigImageConf == \"\") ) {\r\n            if ( (!this.sigImage || this.sigImage == \"\") ) this.$root.toastdanger('Assinatura do motorista não informada!');\r\n            if ( (!this.sigImageConf || this.sigImageConf == \"\") ) this.$root.toastdanger('Assinatura do conferente não informada!');\r\n          }\r\n        } else {\r\n          this.$root.toastdanger(apidata.Error);\r\n          this.formcollapsed = false;\r\n        }\r\n      });\r\n    },\r\n    doselected(item) {\r\n      this.selected = item;\r\n    },\r\n    classperc(perc) {\r\n      return (perc>99) ? \"success\" : \"primary\";\r\n    },\r\n    classselected(item) {\r\n      return (item.id == this.selected.id) ? \"primary\" : \"\";\r\n    },\r\n    classpedidos(item) {\r\n      return (this.pedidosselected && (item.Pedido == this.pedidosselected.Pedido)) ? \"primary\" : \"\";\r\n    }\r\n  },\r\n  watch: {\r\n    formcollapsed(collapsed) {\r\n      this.updatestop = collapsed;\r\n    },\r\n    updatetimeout() {\r\n      clearInterval(this.timer);\r\n      this.timer = null;\r\n      this.timer = setInterval(() => {\r\n        if (!this.updatestop)\r\n          this.getCarregamentoTotais();\r\n      }, this.updatetimeout);\r\n    }\r\n  } \r\n};\r\n</script>\r\n<style>\r\n.colsalign {\r\n  text-align: right;\r\n}\r\n@media screen and (max-width: 600px) {\r\n  .colsalign {\r\n    text-align: left;\r\n  }\r\n  .lista {\r\n    padding-left: 3px;\r\n    padding-right: 3px;\r\n  }\r\n}\r\n</style>\r\n"]}]}