{"remainingRequest":"C:\\k1-services\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\k1-services\\src\\pages\\covid\\views\\Visitantes.vue?vue&type=style&index=0&id=5e84b30e&scoped=true&lang=css&","dependencies":[{"path":"C:\\k1-services\\src\\pages\\covid\\views\\Visitantes.vue","mtime":1701906516472},{"path":"C:\\k1-services\\node_modules\\css-loader\\dist\\cjs.js","mtime":1670977934642},{"path":"C:\\k1-services\\node_modules\\vue-loader\\lib\\loaders\\stylePostLoader.js","mtime":1674603024162},{"path":"C:\\k1-services\\node_modules\\postcss-loader\\src\\index.js","mtime":1670977935130},{"path":"C:\\k1-services\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1670977934221},{"path":"C:\\k1-services\\node_modules\\vue-loader\\lib\\index.js","mtime":1674603023821}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoNCi5jb250ZW50IHsNCiAgcGFkZGluZzogNTBweDsNCn0NCg0KQG1lZGlhIChtYXgtd2lkdGg6IDYwMHB4KSB7DQogIC5jb250ZW50IHsNCiAgICBwYWRkaW5nOiAxMHB4Ow0KICB9DQp9DQo="},{"version":3,"sources":["Visitantes.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA8fA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA","file":"Visitantes.vue","sourceRoot":"src/pages/covid/views","sourcesContent":["<template>\r\n  <b-card class=\"container text-center mt-2\">\r\n    <div class=\"content\">\r\n      <b-toast id=\"success-toast\" title=\"Obrigado!\" variant=\"success\" solid>\r\n        {{ message_toast }}\r\n      </b-toast>\r\n      <b-toast\r\n        id=\"danger-toast\"\r\n        title=\" Visitante não cadastrado\"\r\n        variant=\"danger\"\r\n        solid\r\n      >\r\n        {{ message_toast }}\r\n      </b-toast>\r\n\r\n      <b-img :src=\"require('../../../assets/V3.png')\" class=\"center\" fluid />\r\n      <b-col align=\"center\" class=\"m-3\">\r\n        <b-img :src=\"require('../../../assets/3zado.png')\" fluid />\r\n      </b-col>\r\n\r\n      <hr />\r\n\r\n      <b-col cols=\"12\">\r\n        <div>\r\n          <b-button\r\n            pill\r\n            id=\"tooltip-button-variant\"\r\n            variant=\"danger\"\r\n            v-b-toggle.sidebar-sintomas\r\n            >Temperatura e sintomas covid-19:</b-button\r\n          >\r\n        </div>\r\n      </b-col>\r\n      <p></p>\r\n\r\n      <div>\r\n        <b>Temperatura:</b>\r\n\r\n        <b-form-group\r\n          id=\"input-group-temperatura\"\r\n          label-for=\"input-temperatura\"\r\n        >\r\n          <b-form-input\r\n            id=\"input-temperatura\"\r\n            type=\"number\"\r\n            :state=\"form.temperatura > 37 ? false : true\"\r\n            v-model=\"form.temperatura\"\r\n            min=\"35\"\r\n            max=\"43\"\r\n            step=\"0.10\"\r\n          >\r\n          </b-form-input>\r\n        </b-form-group>\r\n      </div>\r\n      <br />\r\n      <b>Nome ou CPF/CNPJ</b>\r\n      <b-input-group class=\"mb-3\">\r\n        <b-form-input v-model=\"pesquisa\"> </b-form-input>\r\n        <b-input-group-append>\r\n          <b-button variant=\"info\" @click=\"buscanome\">Busca</b-button>\r\n        </b-input-group-append>\r\n      </b-input-group>\r\n\r\n      <div class=\"mb-3\">\r\n        <b-list-group>\r\n          <b-list-group-item\r\n            button\r\n            v-for=\"item in listanomevisitantes\"\r\n            :key=\"item.id\"\r\n            @click=\"carregalista(item)\"\r\n            >{{ item.Nome }}</b-list-group-item\r\n          >\r\n        </b-list-group>\r\n      </div>\r\n      <b>Novo cadastro:</b>\r\n      <b-col cols=\"12\">\r\n        <b-form-input\r\n          id=\"input-name\"\r\n          v-model=\"form.name\"\r\n          required\r\n          placeholder=\"Nome do Visitante\"\r\n        ></b-form-input>\r\n        <p></p>\r\n      </b-col>\r\n\r\n      <b-col cols=\"12\">\r\n        <b-form-group id=\"input-group-empresa\" label-for=\"input-empresa\">\r\n          <b-form-input\r\n            id=\"input-empresa\"\r\n            v-model=\"form.empresa\"\r\n            required\r\n            placeholder=\"Nome da Empresa\"\r\n          ></b-form-input>\r\n        </b-form-group>\r\n      </b-col>\r\n\r\n      <b-col cols=\"12\">\r\n        <b-form-group id=\"input-group-telefone\" label-for=\"input-telefone\">\r\n          <b-form-input\r\n            id=\"input-telefone\"\r\n            v-model=\"form.telefone\"\r\n            required\r\n            placeholder=\"Telefone\"\r\n          ></b-form-input>\r\n        </b-form-group>\r\n      </b-col>\r\n\r\n      <b-col cols=\"12\">\r\n        <b-form-group id=\"input-group-cpf\" label-for=\"input-cpf\">\r\n          <b-form-input\r\n            id=\"input-cpf\"\r\n            v-model=\"form.cpf\"\r\n            required\r\n            placeholder=\"CPF ou CNPJ\"\r\n          ></b-form-input>\r\n        </b-form-group>\r\n      </b-col>\r\n\r\n      <b-col cols=\"12\">\r\n        <b-form-textarea\r\n          id=\"input-obs\"\r\n          v-model=\"form.obs\"\r\n          required\r\n          placeholder=\"Digite aqui alguma observação sobre o visitante:\"\r\n          rows=\"2\"\r\n        >\r\n        </b-form-textarea>\r\n      </b-col>\r\n\r\n      <template>\r\n        <div class=\"m-3\">\r\n          <b-sidebar id=\"sidebar-sintomas\">\r\n            <div class=\"px-3 py-2\">\r\n              <b style=\"color:black;\"> Sintomas: </b>\r\n              <p></p>\r\n              <b-form-group>\r\n                <b-button\r\n                  block\r\n                  @click=\"\r\n                    form.semsintomas = false;\r\n                    form.tosse = !form.tosse;\r\n                  \"\r\n                  :variant=\"form.tosse ? 'danger' : 'primary'\"\r\n                  >Tosse</b-button\r\n                >\r\n              </b-form-group>\r\n              <b-form-group>\r\n                <b-button\r\n                  block\r\n                  @click=\"\r\n                    form.semsintomas = false;\r\n                    form.febre = !form.febre;\r\n                  \"\r\n                  :variant=\"form.febre ? 'danger' : 'primary'\"\r\n                  >Febre</b-button\r\n                >\r\n              </b-form-group>\r\n              <b-form-group>\r\n                <b-button\r\n                  block\r\n                  @click=\"\r\n                    form.semsintomas = false;\r\n                    form.coriza = !form.coriza;\r\n                  \"\r\n                  :variant=\"form.coriza ? 'danger' : 'primary'\"\r\n                  >Coriza</b-button\r\n                >\r\n              </b-form-group>\r\n              <b-form-group>\r\n                <b-button\r\n                  block\r\n                  @click=\"\r\n                    form.semsintomas = false;\r\n                    form.dordegarganta = !form.dordegarganta;\r\n                  \"\r\n                  :variant=\"form.dordegarganta ? 'danger' : 'primary'\"\r\n                  >Dor de Garganta</b-button\r\n                >\r\n              </b-form-group>\r\n              <b-form-group>\r\n                <b-button\r\n                  block\r\n                  @click=\"\r\n                    form.semsintomas = false;\r\n                    form.dificuldaderespiratoria = !form.dificuldaderespiratoria;\r\n                  \"\r\n                  :variant=\"form.dificuldaderespiratoria ? 'danger' : 'primary'\"\r\n                  >Dificuldade Respiratoria</b-button\r\n                >\r\n              </b-form-group>\r\n              <b-form-group>\r\n                <b-button\r\n                  block\r\n                  @click=\"\r\n                    form.semsintomas = false;\r\n                    form.dordecabeca = !form.dordecabeca;\r\n                  \"\r\n                  :variant=\"form.dordecabeca ? 'danger' : 'primary'\"\r\n                  >Dor de Cabeça</b-button\r\n                >\r\n              </b-form-group>\r\n              <b-form-group>\r\n                <b-button\r\n                  block\r\n                  @click=\"\r\n                    form.semsintomas = false;\r\n                    form.familiarcom = !form.familiarcom;\r\n                  \"\r\n                  :variant=\"form.familiarcom ? 'danger' : 'primary'\"\r\n                >\r\n                  Familiar com Suspeita?\r\n                </b-button>\r\n              </b-form-group>\r\n            </div>\r\n          </b-sidebar>\r\n\r\n          <hr />\r\n\r\n          <div class=\"centro\">\r\n            <b-button\r\n              pill\r\n              type=\"button\"\r\n              block\r\n              size=\"lg\"\r\n              variant=\"success\"\r\n              @click=\"salvavisitantes\"\r\n              >Enviar</b-button\r\n            >\r\n            <b-button\r\n              pill\r\n              type=\"reset\"\r\n              block\r\n              size=\"lg\"\r\n              variant=\"danger\"\r\n              @click=\"onReset\"\r\n              >Limpar</b-button\r\n            >\r\n          </div>\r\n        </div>\r\n      </template>\r\n    </div>\r\n\r\n    <!-- MODAIS -->\r\n    <b-modal id=\"modal-1\" scrollable title=\"Busca por visitantes\">\r\n      <b-input-group block prepend=\"Nome\" class=\"mb-3\">\r\n        <b-form-input v-model=\"pesquisa\"></b-form-input>\r\n        <b-input-group-append>\r\n          <b-button variant=\"info\" @click=\"buscanome\">Pesquisar Nome</b-button>\r\n        </b-input-group-append>\r\n      </b-input-group>\r\n\r\n      <b-list-group>\r\n        <b-list-group-item\r\n          button\r\n          v-for=\"item in listanomevisitantes\"\r\n          :key=\"item.id\"\r\n          @click=\"carregalista(item)\"\r\n          >{{ item.Nome }}</b-list-group-item\r\n        >\r\n      </b-list-group>\r\n    </b-modal>\r\n\r\n    <b-modal id=\"modal-2\" scrollable title=\"Resumo\">\r\n      <b-row v-if=\"resultadoenvio\">\r\n        <b-col class=\"2\">\r\n          Nome:\r\n        </b-col>\r\n        <b-col>\r\n          {{ resultadoenvio.Nome }}\r\n        </b-col>\r\n      </b-row>\r\n      <b-row v-if=\"resultadoenvio\">\r\n        <b-col class=\"m-2\">\r\n          Empresa:\r\n        </b-col>\r\n        <b-col>\r\n          {{ resultadoenvio.Empresa }}\r\n        </b-col>\r\n      </b-row>\r\n      <b-row v-if=\"resultadoenvio\">\r\n        <b-col class=\"2\">\r\n          Telefone:\r\n        </b-col>\r\n        <b-col>\r\n          {{ resultadoenvio.Fone1 }}\r\n        </b-col>\r\n      </b-row>\r\n      <b-row v-if=\"resultadoenvio\">\r\n        <b-col class=\"2\">\r\n          CPF ou CNPJ:\r\n        </b-col>\r\n        <b-col>\r\n          {{ resultadoenvio.Documento }}\r\n        </b-col>\r\n      </b-row>\r\n      <b-row>\r\n        <b-col class=\"2\">\r\n          Observação:\r\n        </b-col>\r\n        <b-col>\r\n          {{ resultadoenvio.obs }}\r\n        </b-col>\r\n      </b-row>\r\n    </b-modal>\r\n  </b-card>\r\n</template>\r\n\r\n<script>\r\nimport API from \"../../../services/api.service.js\";\r\nexport default {\r\n  name: \"Visitantes\",\r\n\r\n  data() {\r\n    return {\r\n      form: {\r\n        id: 0,\r\n        name: \"\",\r\n        telefone: \"\",\r\n        cpf: \"\",\r\n        empresa: \"\",\r\n        temperatura: 36.4,\r\n        febre: false,\r\n        tosse: false,\r\n        coriza: false,\r\n        dordecabeca: false,\r\n        dificuldaderespiratoria: false,\r\n        familiarcom: false,\r\n        semsintomas: true,\r\n        dordegarganta: false,\r\n        data: new Date(),\r\n      },\r\n      message_toast: \"\",\r\n      token: \"\",\r\n      pesquisa: \"\",\r\n      listanomevisitantes: \"\",\r\n      resultadoenvio: {\r\n        Nome: \"\",\r\n        Empresa: \"\",\r\n        Fone1: \"\",\r\n        Documento: \"\",\r\n        obs: \"\",\r\n      },\r\n    };\r\n  },\r\n\r\n  mounted() {\r\n    API.setAnonHeader();\r\n  },\r\n  /*\r\n    API.post(\"Authentication/GetAnonymousToken\").then(\r\n      (response) => {\r\n        this.token = response.data.TokenAccess;\r\n        API.setAnonHeader();\r\n      },\r\n      (error) => {\r\n        this.message_toast = \"Ocorreu um erro: \" + error.message;\r\n        this.$bvToast.show(\"danger-toast\");\r\n      }\r\n    );\r\n  },\r\n  */\r\n  methods: {\r\n    onSemsintomas() {\r\n      this.form.semsintomas = !this.form.semsintomas;\r\n      if (this.form.semsintomas) {\r\n        this.form.febre = false;\r\n        this.form.coriza = false;\r\n        this.form.dordecabeca = false;\r\n        this.form.dordegarganta = false;\r\n        this.form.tosse = false;\r\n        this.form.familiarcom = false;\r\n        this.form.dificuldaderespiratoria = false;\r\n      }\r\n    },\r\n\r\n    carregalista(item) {\r\n      this.listanomevisitantes = [];\r\n      this.form.id = item.id;\r\n      this.form.name = item.Nome;\r\n      this.form.empresa = item.Empresa;\r\n      this.form.telefone = item.Fone1;\r\n      this.form.cpf = item.CPF;\r\n      this.form.obs = item.obs;\r\n\r\n      this.$bvModal.hide(\"modal-1\");\r\n    },\r\n\r\n    buscanome() {\r\n      API.get(\r\n        \"Servicos/Visitantes/Select\",\r\n        { pesquisa: this.pesquisa },\r\n        false\r\n      ).then((response) => {\r\n        console.log(\"\", response.data);\r\n        if (response.data.Success == \"True\") {\r\n          if (response.data.Data.length == 1) {\r\n            this.carregalista(response.data.Data[0]);\r\n          } else {\r\n            this.listanomevisitantes = response.data.Data;\r\n          }\r\n        } else {\r\n          this.message_toast = \"Visitante não encontrado!\";\r\n          this.$bvToast.show(\"danger-toast\");\r\n        }\r\n      });\r\n    },\r\n\r\n    salvavisitantes() {\r\n      var body = {\r\n        nomevisitante: this.form.name,\r\n        nomeempresa: this.form.empresa,\r\n        telefone: this.form.telefone,\r\n        cpfoucnpj: this.form.cpf,\r\n        obs: this.form.obs,\r\n      };\r\n\r\n      API.post(\"Servicos/Visitantes/Insert\", body, false).then(\r\n        (response) => {\r\n          console.log(\"salvavisitantes::result: \", response);\r\n          if (response.data.Success == \"True\") {\r\n            this.form.id = response.data.Data[0].id;\r\n            this.onsave();\r\n          } else {\r\n            this.message_toast = \"Ocorreu um erro: \" + response.data.Error;\r\n            this.$bvToast.show(\"danger-toast\");\r\n          }\r\n        },\r\n\r\n        (error) => {\r\n          this.message_toast = \"Ocorreu um erro: \" + error.message;\r\n          this.$bvToast.show(\"danger-toast\");\r\n        }\r\n      );\r\n    },\r\n\r\n    onsave() {\r\n      if (this.form.id == \"\") {\r\n        return;\r\n      }\r\n      const body = {\r\n        Data: this.form.data,\r\n        id: this.form.id,\r\n        Temperatura: this.form.temperatura,\r\n        febre: this.form.febre,\r\n        tosse: this.form.tosse,\r\n        coriza: this.form.coriza,\r\n        dordecabeca: this.form.dordecabeca,\r\n        familiarcom: this.form.familiarcom,\r\n        semsintomas: this.form.semsintomas,\r\n        dordegarganta: this.form.dordegarganta,\r\n        dificuldaderespiratoria: this.form.dificuldaderespiratoria,\r\n        nomedaempresa: this.form.empresa,\r\n        telefone: this.form.telefone,\r\n        cpf: this.form.cpf,\r\n        obs: this.form.obs,\r\n      };\r\n\r\n      API.post(\"Servicos/Visitantes/TriagemInsert\", body, false).then(\r\n        (response) => {\r\n          this.onReset();\r\n          console.log(\"Registro salvo...\", response);\r\n          this.message_toast = \"Registro salvo com sucesso!\";\r\n          this.$bvToast.show(\"success-toast\");\r\n          this.resultadoenvio = response.data[0];\r\n          this.$bvModal.show(\"modal-2\");\r\n        },\r\n        (error) => {\r\n          console.log(\"error:\", error);\r\n          console.log(\"response:\", response);\r\n          this.message_toast = \"Ocorreu um erro: \" + error.message;\r\n          this.$bvToast.show(\"danger-toast\");\r\n        }\r\n      );\r\n    },\r\n\r\n    onSubmit(evt) {\r\n      evt.preventDefault();\r\n      alert(JSON.stringify(this.form));\r\n    },\r\n    onReset(evt) {\r\n      // Reset our form values\r\n      this.form.id = 0;\r\n      this.form.pesquisa = \"\";\r\n      this.listanomevisitantes = \"\";\r\n      this.form.name = \"\";\r\n      this.form.semsintomas = true;\r\n      this.form.febre = false;\r\n      this.form.coriza = false;\r\n      this.form.dordecabeca = false;\r\n      this.form.dordegarganta = false;\r\n      this.form.tosse = false;\r\n      this.form.familiarcom = false;\r\n      this.form.dificuldaderespiratoria = false;\r\n      this.form.temperatura = 36;\r\n      this.form.empresa = \"\";\r\n      this.form.telefone = \"\";\r\n      this.form.cpf = \"\";\r\n      this.form.carregalista = \"\";\r\n      this.form.obs = \"\";\r\n      this.pesquisa = \"\";\r\n      let temp = document.getElementById(\"input-5\");\r\n      if (temp) {\r\n        temp.focus();\r\n      }\r\n    },\r\n  },\r\n};\r\n</script>\r\n\r\n<style scoped>\r\n.content {\r\n  padding: 50px;\r\n}\r\n\r\n@media (max-width: 600px) {\r\n  .content {\r\n    padding: 10px;\r\n  }\r\n}\r\n</style>\r\n"]}]}