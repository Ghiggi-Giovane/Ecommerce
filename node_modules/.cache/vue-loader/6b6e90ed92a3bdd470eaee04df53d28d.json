{"remainingRequest":"C:\\k1-services\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\k1-services\\src\\pages\\producaoidelli\\views\\partlist.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\k1-services\\src\\pages\\producaoidelli\\views\\partlist.vue","mtime":1670977910660},{"path":"C:\\k1-services\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1670977934221},{"path":"C:\\k1-services\\node_modules\\babel-loader\\lib\\index.js","mtime":1670977935138},{"path":"C:\\k1-services\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1670977934221},{"path":"C:\\k1-services\\node_modules\\vue-loader\\lib\\index.js","mtime":1670977935327}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KDQppbXBvcnQgbG9jYWxzdG9yZSBmcm9tICcuLi8uLi8uLi9zZXJ2aWNlcy9sb2NhbHN0b3JlJw0KaW1wb3J0IHsgbWFwQWN0aW9ucywgbWFwR2V0dGVycyB9IGZyb20gJ3Z1ZXgnDQpleHBvcnQgZGVmYXVsdCB7DQogICAgDQogICAgbmFtZTogJ1BhcnRMaXN0JywNCg0KICAgIGRhdGEoKSB7DQoNCiAgICAgICAgcmV0dXJuIHsNCg0KICAgICAgICAgICAgc2VhcmNoaW5nOiBmYWxzZSwNCiAgICAgICAgICAgIGN1cnJlbnRQYWdlOiAxLA0KICAgICAgICAgICAgYXBpcmVzcG9uc2U6IG51bGwsDQoNCiAgICAgICAgICAgIHBhcnRsaXN0OiB7DQogICAgICAgICAgICAgICAgYmFyY29kZTogJycsDQogICAgICAgICAgICAgICAgU3RhdHVzS2FwcGVzOiAxIC8vIHBlZ2FyIGRvIGxvY2Fsc3RvcmUNCiAgICAgICAgICAgIH0sDQoNCiAgICAgICAgICAgIGxhc3R1cGRhdGU6IHsNCiAgICAgICAgICAgICAgICBTdGF0dXNLYXBwZXM6IDEgLy8gcGVnYXIgZG8gbG9jYWxzdG9yZQ0KICAgICAgICAgICAgfQ0KDQogICAgICAgIH0NCg0KICAgIH0sDQoNCiAgICBtb3VudGVkKCkgew0KDQogICAgICAgIHRoaXMuYWN0cGFydGxpc3RTdGF0dXNLYXBwZXMoKQ0KDQogICAgICAgIHRoaXMuZm9jdXNiYXJjb2RlKCkNCg0KICAgICAgICBsZXQgbG9jYWxzdGF0dXMgPSBsb2NhbHN0b3JlLmdldFVzZXJTdG9yZVBhZ2VCeU5hbWUoJ3BhcnRsaXN0JykNCg0KICAgICAgICAvLyBjb25zb2xlLmxvZygncGFydGxpc3QubW91bnRlZC5sb2NhbHN0YXR1czonLCBsb2NhbHN0YXR1cykNCg0KICAgICAgICBpZiAoIWxvY2Fsc3RhdHVzKSB7DQogICAgICAgICAgICBsb2NhbHN0YXR1cy5kYXRhID0ge1N0YXR1c0thcHBlczogMX0NCiAgICAgICAgfSBlbHNlIHsNCiAgICAgICAgICAgIGlmICghbG9jYWxzdGF0dXMuaGFzT3duUHJvcGVydHkoJ2RhdGEnKSkNCiAgICAgICAgICAgICAgICBsb2NhbHN0YXR1cy5kYXRhID0ge1N0YXR1c0thcHBlczogMX0NCiAgICAgICAgfQ0KDQogICAgICAgIHRoaXMucGFydGxpc3QuU3RhdHVzS2FwcGVzID0gbG9jYWxzdGF0dXMuZGF0YS5TdGF0dXNLYXBwZXMgfHwgMQ0KICAgICAgICB0aGlzLmxhc3R1cGRhdGUuU3RhdHVzS2FwcGVzID0gdGhpcy5wYXJ0bGlzdC5TdGF0dXNLYXBwZXMNCg0KICAgIH0sDQoNCiAgICBjb21wdXRlZDogew0KICAgICAgICANCiAgICAgICAgLi4ubWFwR2V0dGVycyhbDQogICAgICAgICAgICAnZ3R4cGFydGxpc3RTdGF0dXNLYXBwZXMnLA0KICAgICAgICAgICAgJ2d0eHBhcnRsaXN0cmVzcG9uc2UnLA0KICAgICAgICAgICAgJ2d0eHBhcnRsaXN0ZGF0YScsDQogICAgICAgICAgICAnZ3R4cGFydGxpc3QnLA0KICAgICAgICAgICAgJ2d0eHBhcnRsaXN0dXBkYXRlJywNCiAgICAgICAgICAgICdndHhwYXJ0bGlzdGxvYWRpbmcnDQogICAgICAgIF0pLA0KDQogICAgICAgIC8vIGNvbnTDqW0gb3MgZGFkb3MgZGUgY29uZmlndXJhw6fDo28gZGEgcMOhZ2luYSAuLi4NCiAgICAgICAgc3RvcmVwYWdlKCkgew0KDQogICAgICAgICAgICByZXR1cm4gew0KICAgICAgICAgICAgICAgIFN0YXR1c0thcHBlczogdGhpcy5wYXJ0bGlzdC5TdGF0dXNLYXBwZXMNCiAgICAgICAgICAgIH0NCg0KICAgICAgICB9LA0KDQogICAgICAgIGJhcmNvZGVzKCkgew0KDQogICAgICAgICAgICBjb25zdCBiYXJzID0gdGhpcy5hcGlkYXRhLlNlcXVlbmNpYVByb2R1Y2FvDQoNCiAgICAgICAgICAgIHJldHVybiAoYmFycykgPyBiYXJzLm1hcChiID0+IGIuYmFyY29kZSkgOiBbXQ0KDQogICAgICAgIH0sDQoNCiAgICAgICAgYmFyY29kZSgpIHsNCg0KICAgICAgICAgICAgcmV0dXJuIHRoaXMucGFydGxpc3QuYmFyY29kZQ0KICAgICAgICB9LA0KDQogICAgICAgIGNhbnVwZGF0ZSgpIHsNCg0KICAgICAgICAgICAgcmV0dXJuICh0aGlzLmFwaXVwZGF0ZS5iYXJjb2RlICE9PScnICYmIHRoaXMuYXBpdXBkYXRlLlN0YXR1c0thcHBlcyA+IDApID8gdHJ1ZSA6IGZhbHNlDQoNCiAgICAgICAgfSwNCg0KICAgICAgICBidG5TYXZlVmFyaWFudCgpIHsNCiAgICAgICAgICAgIGxldCBzdGF0ZSA9ICh0aGlzLmFwaWRhdGEuU3RhdHVzS2FwcGVzKSA/IHRoaXMuYXBpZGF0YS5TdGF0dXNLYXBwZXMgPT0gbGFzdHVwZGF0ZS5TdGF0dXNLYXBwZXMgIDogZmFsc2UNCiAgICAgICAgICAgIHJldHVybiAoc3RhdGUpID8gJ3ByaW1hcnknIDogJ2RhbmdlcicNCiAgICAgICAgfSwNCg0KICAgICAgICBTdGF0dXNLYXBwZXNTZWxlY3RlZCgpIHsNCiAgICAgICAgICAgIGNvbnN0IHBhcmxpc3RzZWxlY3RlZCA9IHRoaXMuZ3R4cGFydGxpc3RTdGF0dXNLYXBwZXMuZmluZChmID0+IGYudmFsdWUgPT0gdGhpcy5wYXJ0bGlzdC5TdGF0dXNLYXBwZXMpDQogICAgICAgICAgICByZXR1cm4gcGFybGlzdHNlbGVjdGVkID8gcGFybGlzdHNlbGVjdGVkLnRleHQgOiAnJw0KICAgICAgICB9LA0KDQogICAgICAgIGFwaXVwZGF0ZSgpIHsNCg0KICAgICAgICAgICAgcmV0dXJuIHtiYXJjb2RlOiB0aGlzLmFwaWRhdGEuYmFyY29kZSB8fCAnJywgU3RhdHVzS2FwcGVzOiBwYXJzZUludCh0aGlzLnBhcnRsaXN0LlN0YXR1c0thcHBlcykgfHwgMX0NCg0KICAgICAgICB9LA0KDQogICAgICAgIGFwaXBlc3F1aXNhKCkgew0KDQogICAgICAgICAgICByZXR1cm4geyBwYXJhbXM6IHtwZXNxdWlzYTogdGhpcy5wYXJ0bGlzdC5iYXJjb2RlIHx8ICcnLCBTdGF0dXNLYXBwZXM6IHBhcnNlSW50KHRoaXMucGFydGxpc3QuU3RhdHVzS2FwcGVzKSB8fCAxfX0NCg0KICAgICAgICB9LA0KDQogICAgICAgIGFwaWRhdGEoKSB7DQoNCiAgICAgICAgICAgIGxldCBkYXRhID0gew0KICAgICAgICAgICAgICAgIEZpY2hhOiAnJywNCiAgICAgICAgICAgICAgICBiYXJjb2RlOiAnJywNCiAgICAgICAgICAgICAgICBTdGF0dXNLYXBwZXM6IC0xLA0KICAgICAgICAgICAgICAgIHJlZmVyZW5jaWE6ICcnLA0KICAgICAgICAgICAgICAgIENvbXByaW1lbnRvOiAwLA0KICAgICAgICAgICAgICAgIExhcmd1cmE6IDAsDQogICAgICAgICAgICAgICAgRXNwZXNzdXJhOiAwLA0KICAgICAgICAgICAgICAgIFF1YW50aWRhZGU6IDANCiAgICAgICAgICAgIH0NCg0KICAgICAgICAgICAgaWYgKHRoaXMuZ3R4cGFydGxpc3RyZXNwb25zZSkNCiAgICAgICAgICAgIGlmICh0aGlzLmd0eHBhcnRsaXN0cmVzcG9uc2UuU3VjY2VzcyA9PSAnVHJ1ZScpDQogICAgICAgICAgICAgICAgZGF0YSA9IHRoaXMuZ3R4cGFydGxpc3RyZXNwb25zZS5EYXRhWzBdDQoNCiAgICAgICAgICAgIGxldCBzdGF0dXMgPSB0aGlzLmd0eHBhcnRsaXN0U3RhdHVzS2FwcGVzLmZpbmQoZiA9PiBmLnZhbHVlID09IGRhdGEuU3RhdHVzS2FwcGVzKQ0KICAgICAgICAgICAgZGF0YS5TdGF0dXNLYXBwZXNUZXh0ID0gKHN0YXR1cykgPyBzdGF0dXMudGV4dCA6ICdOw6NvIGRlZmluaWRvJw0KICAgICAgICAgICAgZGF0YS5idG5WYXJpYW50ID0gKHN0YXR1cykgPyAoc3RhdHVzLnZhbHVlID09IHRoaXMucGFydGxpc3QuU3RhdHVzS2FwcGVzKSA/ICdwcmltYXJ5JyA6ICdkYW5nZXInIDogJ3ByaW1hcnknDQoNCiAgICAgICAgICAgIHJldHVybiBkYXRhDQoNCiAgICAgICAgfQ0KDQogICAgfSwNCg0KICAgIG1ldGhvZHM6IHsNCg0KICAgICAgICAuLi5tYXBBY3Rpb25zKFsnYWN0QWxlcnQnLCAnYWN0cGFydGxpc3RTdGF0dXNLYXBwZXMnLCAnYWN0cGFydGxpc3QnLCAnYWN0cGFydGxpc3R1cGRhdGUnXSksDQoNCiAgICAgICAgZm9jdXNiYXJjb2RlKCkgew0KDQogICAgICAgICAgICB0aGlzLiRyZWZzLmJhcmNvZGUuZm9jdXMoKQ0KDQogICAgICAgIH0sDQoNCiAgICAgICAgb25TYXZlKCkgew0KDQogICAgICAgICAgICBjb25zdCBiYXJjb2RlID0gew0KICAgICAgICAgICAgICAgIHBhcmFtczogew0KICAgICAgICAgICAgICAgICAgICAgICAgcGVzcXVpc2E6IHRoaXMuYXBpZGF0YS5iYXJjb2RlDQogICAgICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICB9DQoNCiAgICAgICAgICAgIC8vIGNvbnNvbGUubG9nKCdvblNhdmU6JywgYmFyY29kZSkNCg0KICAgICAgICAgICAgdGhpcy5hY3RwYXJ0bGlzdHVwZGF0ZSh0aGlzLmFwaXVwZGF0ZSkNCg0KICAgICAgICAgICAgLy8gc2FsdmEgYSBjb25maWd1cmHDp8OjbyBkYSBww6FnaW5hIG5vIGxvY2FsU3RvcmFnZQ0KICAgICAgICAgICAgbG9jYWxzdG9yZS5zZXRVc2VyU3RvcmVQYWdlRGF0YSgncGFydGxpc3QnLCB0aGlzLnN0b3JlcGFnZSkNCiAgICAgICAgICAgIA0KICAgICAgICAgICAgdGhpcy5sYXN0dXBkYXRlLlN0YXR1c0thcHBlcyA9IHRoaXMucGFydGxpc3QuU3RhdHVzS2FwcGVzDQoNCiAgICAgICAgICAgIHRoaXMuYWN0cGFydGxpc3QoYmFyY29kZSkNCg0KICAgICAgICAgICAgdGhpcy5mb2N1c2JhcmNvZGUoKQ0KICAgICAgICB9LA0KDQogICAgICAgIG9uU2VhcmNoKHBhcmFtcykgew0KDQogICAgICAgICAgICB0aGlzLnNlYXJjaGluZyA9IHRydWUNCg0KICAgICAgICAgICAgLy8gY29uc29sZS5sb2coJ29uU2VhcmNoOicsIHBhcmFtcykNCg0KICAgICAgICAgICAgaWYgKHBhcmFtcykgew0KICAgICAgICAgICAgICAgIHRoaXMuYWN0cGFydGxpc3QocGFyYW1zKQ0KICAgICAgICAgICAgfSBlbHNlIHsNCiAgICAgICAgICAgICAgICB0aGlzLmFjdHBhcnRsaXN0KHRoaXMuYXBpcGVzcXVpc2EpDQogICAgICAgICAgICB9DQoNCiAgICAgICAgfQ0KDQogICAgfSwNCg0KICAgIHdhdGNoOiB7DQoNCiAgICAgICAgY3VycmVudFBhZ2UocGFnZSkgew0KDQogICAgICAgICAgICB0aGlzLnBhcnRsaXN0LmJhcmNvZGUgPSB0aGlzLmJhcmNvZGVzW3BhZ2UtMV0NCg0KICAgICAgICAgICAgY29uc3QgcGFyYW1zID0gew0KICAgICAgICAgICAgICAgIHBhcmFtczogew0KICAgICAgICAgICAgICAgICAgICBwZXNxdWlzYTogdGhpcy5wYXJ0bGlzdC5iYXJjb2RlDQogICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgfQ0KDQogICAgICAgICAgICB0aGlzLm9uU2VhcmNoKHBhcmFtcykNCg0KICAgICAgICB9LA0KDQogICAgICAgIGd0eHBhcnRsaXN0cmVzcG9uc2UoZGF0YSkgew0KDQogICAgICAgICAgICAvLyBjb25zb2xlLmxvZygnZ3R4cGFydGxpc3RyZXNwb25zZTonLCBkYXRhKQ0KDQogICAgICAgICAgICBpZiAoZGF0YS5TdWNjZXNzID09ICdGYWxzZScpIHsNCiAgICAgICAgICAgICAgICB0aGlzLmFjdEFsZXJ0KHt2YXJpYW50OiAnZGFuZ2VyJywgbWVzc2FnZTogZGF0YS5FcnJvciB8fCAnT2NvcmV1IHVtIGVycm8gbmEgZXhlY3XDp8OjbyEnfSkNCiAgICAgICAgICAgIH0gZWxzZSB7DQogICAgICAgICAgICAgICAgLy8gc2UgbsOjbyB0ZW0gc3RhdHVzIHNhbHZvLCBzYWx2YSBuYSBwcmltZWlyYSBjb25zdWx0YQ0KICAgICAgICAgICAgICAgIC8vIGNvbnNvbGUubG9nKCdndHhwYXJ0bGlzdGRhdGE6JywgdGhpcy5ndHhwYXJ0bGlzdGRhdGEpDQogICAgICAgICAgICAgICAgaWYgKHRoaXMuZ3R4cGFydGxpc3RkYXRhLlN0YXR1c0thcHBlcz09LTEpIHRoaXMub25TYXZlKCkNCiAgICAgICAgICAgICAgICB0aGlzLnBhcnRsaXN0LmJhcmNvZGUgPSAnJw0KICAgICAgICAgICAgfQ0KDQogICAgICAgICAgICB0aGlzLnNlYXJjaGluZyA9IGZhbHNlDQoNCiAgICAgICAgfSwNCg0KICAgICAgICBndHhwYXJ0bGlzdHVwZGF0ZSh1cGRhdGUpIHsNCg0KICAgICAgICAgICAgLy8gY29uc29sZS5sb2coJ3BhcnRsaXN0LndhdGNoLmd0eHBhcnRsaXN0dXBkYXRlOicsIHVwZGF0ZSkNCg0KICAgICAgICAgICAgaWYgKHVwZGF0ZS5TdWNjZXNzID09ICdUcnVlJykgew0KICAgICAgICAgICAgICAgIHRoaXMuYWN0QWxlcnQoe3ZhcmlhbnQ6ICdzdWNjZXNzJywgbWVzc2FnZTogdXBkYXRlLkRhdGFbMF0uTWVuc2FnZW19KQ0KICAgICAgICAgICAgfSBlbHNlDQogICAgICAgICAgICAgICAgdGhpcy5hY3RBbGVydCh7dmFyaWFudDogJ2RhbmdlcicsIG1lc3NhZ2U6IHVwZGF0ZS5EYXRhWzBdLkVycm9yfSkNCiAgICAgICAgfQ0KDQogICAgfQ0KDQp9DQo="},{"version":3,"sources":["partlist.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAwGA;AACA;AACA;;AAEA;;AAEA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;AACA;;AAEA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;;AAEA;AACA;;AAEA;;AAEA;;AAEA;AACA;;AAEA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;;AAEA","file":"partlist.vue","sourceRoot":"src/pages/producaoidelli/views","sourcesContent":["<template>\r\n    <div class=\"m-2\">\r\n\r\n        <b-card>\r\n\r\n        <b-form-group\r\n            label=\"Código de barra da peça\"\r\n            label-for=\"barcode\">\r\n            <b-input-group>\r\n                <b-form-input\r\n                    id=\"barcode\"\r\n                    ref=\"barcode\"\r\n                    type=\"number\"\r\n                    placeholder=\"Informe o código de barras da peça - PartList\"\r\n                    v-model=\"partlist.barcode\"\r\n                    min=\"000000000000000\"\r\n                    max=\"999999999999999\"\r\n                    @keydown.enter=\"onSearch()\">\r\n                </b-form-input>\r\n                <b-input-group-append>\r\n                    <b-button variant=\"primary\" @click=\"onSearch()\" :disabled=\"partlist.barcode==''\">Buscar</b-button>\r\n                </b-input-group-append>\r\n            </b-input-group>\r\n\r\n        </b-form-group>\r\n\r\n        <b-overlay :show=\"gtxpartlistloading\" rounded=\"sm\">\r\n        <div class=\"bg-dark text-warning rounded p-2 mb-2\">\r\n            <div>\r\n                <strong>Barcode:</strong>\r\n                <span class=\"ml-2\">{{apidata.barcode}}</span>\r\n            </div>\r\n            <div>\r\n                <strong>Produto:</strong>\r\n                <span class=\"ml-2\">{{apidata.Ficha}} - {{apidata.referencia}}</span>\r\n            </div>\r\n            <div>\r\n                <strong>Medidas:</strong>\r\n                <span class=\"ml-2\">({{apidata.Comprimento}} x {{apidata.Largura}} x {{apidata.Espessura}})</span>\r\n            </div>\r\n            <div>\r\n                <strong>Status:</strong>\r\n                <span class=\"ml-2\">{{apidata.StatusKappesText}}</span>\r\n            </div>\r\n<!--\r\n            <div class=\"mt-2\">\r\n                <b-pagination\r\n                    v-if=\"barcodes.length>-1\"\r\n                    size=\"sm\"\r\n                    v-model=\"currentPage\"\r\n                    :total-rows=\"barcodes.length\"\r\n                    :per-page=\"1\"\r\n                    first-number\r\n                    last-number/>\r\n            </div>\r\n-->            \r\n        </div>\r\n        </b-overlay>\r\n\r\n        <b-form-group\r\n            label=\"Status da peça\"\r\n            label-for=\"statuskappes\">\r\n            <b-form-select id=\"statuskappes\" v-model=\"partlist.StatusKappes\" :options=\"gtxpartlistStatusKappes\"></b-form-select>\r\n        </b-form-group>\r\n        \r\n        <b-form-group\r\n            label-for=\"btnsalvar\" class=\"mt-4\">\r\n            <b-button block id=\"btnsalvar\" @click=\"onSave\" :variant=\"apidata.btnVariant\" :disabled=\"!canupdate\">Salvar como {{ StatusKappesSelected }}</b-button>\r\n        </b-form-group>\r\n\r\n<!--\r\n        <div class=\"accordion\" role=\"tablist\">\r\n            <b-card no-body class=\"mb-1\">\r\n                <b-card-header header-tag=\"header\" class=\"p-1\" role=\"tab\">\r\n                    <b-button block v-b-toggle.apidata variant=\"info\">apidata</b-button>\r\n                </b-card-header>\r\n                <b-collapse id=\"apidata\" visible accordion=\"my-accordion\" role=\"tabpanel\">\r\n                    <b-card-body>\r\n                    <pre>\r\n                        {{ apidata }}\r\n                    </pre>\r\n                    </b-card-body>\r\n                </b-collapse>\r\n            </b-card>\r\n            <b-card no-body class=\"mb-1\">\r\n                <b-card-header header-tag=\"header\" class=\"p-1\" role=\"tab\">\r\n                    <b-button block v-b-toggle.barcodes variant=\"info\">barcodes</b-button>\r\n                </b-card-header>\r\n                <b-collapse id=\"barcodes\" visible accordion=\"my-accordion\" role=\"tabpanel\">\r\n                    <b-card-body>\r\n                    <pre>\r\n                        {{ barcodes }}\r\n                    </pre>\r\n                    </b-card-body>\r\n                </b-collapse>\r\n            </b-card>\r\n        </div>\r\n-->        \r\n        </b-card>\r\n\r\n    </div>\r\n</template>\r\n\r\n<script>\r\nimport localstore from '../../../services/localstore'\r\nimport { mapActions, mapGetters } from 'vuex'\r\nexport default {\r\n    \r\n    name: 'PartList',\r\n\r\n    data() {\r\n\r\n        return {\r\n\r\n            searching: false,\r\n            currentPage: 1,\r\n            apiresponse: null,\r\n\r\n            partlist: {\r\n                barcode: '',\r\n                StatusKappes: 1 // pegar do localstore\r\n            },\r\n\r\n            lastupdate: {\r\n                StatusKappes: 1 // pegar do localstore\r\n            }\r\n\r\n        }\r\n\r\n    },\r\n\r\n    mounted() {\r\n\r\n        this.actpartlistStatusKappes()\r\n\r\n        this.focusbarcode()\r\n\r\n        let localstatus = localstore.getUserStorePageByName('partlist')\r\n\r\n        // console.log('partlist.mounted.localstatus:', localstatus)\r\n\r\n        if (!localstatus) {\r\n            localstatus.data = {StatusKappes: 1}\r\n        } else {\r\n            if (!localstatus.hasOwnProperty('data'))\r\n                localstatus.data = {StatusKappes: 1}\r\n        }\r\n\r\n        this.partlist.StatusKappes = localstatus.data.StatusKappes || 1\r\n        this.lastupdate.StatusKappes = this.partlist.StatusKappes\r\n\r\n    },\r\n\r\n    computed: {\r\n        \r\n        ...mapGetters([\r\n            'gtxpartlistStatusKappes',\r\n            'gtxpartlistresponse',\r\n            'gtxpartlistdata',\r\n            'gtxpartlist',\r\n            'gtxpartlistupdate',\r\n            'gtxpartlistloading'\r\n        ]),\r\n\r\n        // contém os dados de configuração da página ...\r\n        storepage() {\r\n\r\n            return {\r\n                StatusKappes: this.partlist.StatusKappes\r\n            }\r\n\r\n        },\r\n\r\n        barcodes() {\r\n\r\n            const bars = this.apidata.SequenciaProducao\r\n\r\n            return (bars) ? bars.map(b => b.barcode) : []\r\n\r\n        },\r\n\r\n        barcode() {\r\n\r\n            return this.partlist.barcode\r\n        },\r\n\r\n        canupdate() {\r\n\r\n            return (this.apiupdate.barcode !=='' && this.apiupdate.StatusKappes > 0) ? true : false\r\n\r\n        },\r\n\r\n        btnSaveVariant() {\r\n            let state = (this.apidata.StatusKappes) ? this.apidata.StatusKappes == lastupdate.StatusKappes  : false\r\n            return (state) ? 'primary' : 'danger'\r\n        },\r\n\r\n        StatusKappesSelected() {\r\n            const parlistselected = this.gtxpartlistStatusKappes.find(f => f.value == this.partlist.StatusKappes)\r\n            return parlistselected ? parlistselected.text : ''\r\n        },\r\n\r\n        apiupdate() {\r\n\r\n            return {barcode: this.apidata.barcode || '', StatusKappes: parseInt(this.partlist.StatusKappes) || 1}\r\n\r\n        },\r\n\r\n        apipesquisa() {\r\n\r\n            return { params: {pesquisa: this.partlist.barcode || '', StatusKappes: parseInt(this.partlist.StatusKappes) || 1}}\r\n\r\n        },\r\n\r\n        apidata() {\r\n\r\n            let data = {\r\n                Ficha: '',\r\n                barcode: '',\r\n                StatusKappes: -1,\r\n                referencia: '',\r\n                Comprimento: 0,\r\n                Largura: 0,\r\n                Espessura: 0,\r\n                Quantidade: 0\r\n            }\r\n\r\n            if (this.gtxpartlistresponse)\r\n            if (this.gtxpartlistresponse.Success == 'True')\r\n                data = this.gtxpartlistresponse.Data[0]\r\n\r\n            let status = this.gtxpartlistStatusKappes.find(f => f.value == data.StatusKappes)\r\n            data.StatusKappesText = (status) ? status.text : 'Não definido'\r\n            data.btnVariant = (status) ? (status.value == this.partlist.StatusKappes) ? 'primary' : 'danger' : 'primary'\r\n\r\n            return data\r\n\r\n        }\r\n\r\n    },\r\n\r\n    methods: {\r\n\r\n        ...mapActions(['actAlert', 'actpartlistStatusKappes', 'actpartlist', 'actpartlistupdate']),\r\n\r\n        focusbarcode() {\r\n\r\n            this.$refs.barcode.focus()\r\n\r\n        },\r\n\r\n        onSave() {\r\n\r\n            const barcode = {\r\n                params: {\r\n                        pesquisa: this.apidata.barcode\r\n                    }\r\n                }\r\n\r\n            // console.log('onSave:', barcode)\r\n\r\n            this.actpartlistupdate(this.apiupdate)\r\n\r\n            // salva a configuração da página no localStorage\r\n            localstore.setUserStorePageData('partlist', this.storepage)\r\n            \r\n            this.lastupdate.StatusKappes = this.partlist.StatusKappes\r\n\r\n            this.actpartlist(barcode)\r\n\r\n            this.focusbarcode()\r\n        },\r\n\r\n        onSearch(params) {\r\n\r\n            this.searching = true\r\n\r\n            // console.log('onSearch:', params)\r\n\r\n            if (params) {\r\n                this.actpartlist(params)\r\n            } else {\r\n                this.actpartlist(this.apipesquisa)\r\n            }\r\n\r\n        }\r\n\r\n    },\r\n\r\n    watch: {\r\n\r\n        currentPage(page) {\r\n\r\n            this.partlist.barcode = this.barcodes[page-1]\r\n\r\n            const params = {\r\n                params: {\r\n                    pesquisa: this.partlist.barcode\r\n                }\r\n            }\r\n\r\n            this.onSearch(params)\r\n\r\n        },\r\n\r\n        gtxpartlistresponse(data) {\r\n\r\n            // console.log('gtxpartlistresponse:', data)\r\n\r\n            if (data.Success == 'False') {\r\n                this.actAlert({variant: 'danger', message: data.Error || 'Ocoreu um erro na execução!'})\r\n            } else {\r\n                // se não tem status salvo, salva na primeira consulta\r\n                // console.log('gtxpartlistdata:', this.gtxpartlistdata)\r\n                if (this.gtxpartlistdata.StatusKappes==-1) this.onSave()\r\n                this.partlist.barcode = ''\r\n            }\r\n\r\n            this.searching = false\r\n\r\n        },\r\n\r\n        gtxpartlistupdate(update) {\r\n\r\n            // console.log('partlist.watch.gtxpartlistupdate:', update)\r\n\r\n            if (update.Success == 'True') {\r\n                this.actAlert({variant: 'success', message: update.Data[0].Mensagem})\r\n            } else\r\n                this.actAlert({variant: 'danger', message: update.Data[0].Error})\r\n        }\r\n\r\n    }\r\n\r\n}\r\n</script>\r\n<style>\r\n    \r\n</style>"]}]}