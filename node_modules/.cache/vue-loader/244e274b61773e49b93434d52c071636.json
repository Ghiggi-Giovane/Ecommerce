{"remainingRequest":"C:\\k1-services\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\k1-services\\src\\pages\\producaoidelli\\views\\controlelotes.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\k1-services\\src\\pages\\producaoidelli\\views\\controlelotes.vue","mtime":1701906516517},{"path":"C:\\k1-services\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1670977934221},{"path":"C:\\k1-services\\node_modules\\babel-loader\\lib\\index.js","mtime":1670977935138},{"path":"C:\\k1-services\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1670977934221},{"path":"C:\\k1-services\\node_modules\\vue-loader\\lib\\index.js","mtime":1674603023821}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KDQppbXBvcnQgeyBtYXBHZXR0ZXJzIH0gZnJvbSAidnVleCI7DQppbXBvcnQgQ2FyZENvbGxhcHNlZCBmcm9tICJAL2NvbXBvbmVudHMvQ2FyZENvbGxhcHNlZC52dWUiOw0KZXhwb3J0IGRlZmF1bHQgew0KICBuYW1lOiAiQ29udHJvbGVMb3RlcyIsDQogIGNvbXBvbmVudHM6IHsNCiAgICBDYXJkQ29sbGFwc2VkDQogIH0sDQogIGRhdGEoKSB7DQogICAgcmV0dXJuIHsNCiAgICAgIGNvbGxhcHNlZm9ybW9wZW46IGZhbHNlLA0KICAgICAgZm9ybTogew0KICAgICAgICBlbXByZXNhOiA4LA0KICAgICAgICBkYXRhOiBuZXcgRGF0ZSgpLA0KICAgICAgfSwNCiAgICAgIGxvdGVzOiB7DQogICAgICAgIGZpbHRybzogIiIsDQogICAgICAgIGZpbHRlck9uOiBbJ2VtcHJlc2EnLCAnbnVtZXJvJ10sDQogICAgICAgIGZpZWxkczogWydlbXByZXNhJywgJ251bWVybycsICdkYXRhJywge2tleTogJ2J1dHRvbnMnLCBsYWJlbDogJyd9XSwNCiAgICAgICAgY3VycmVudFBhZ2U6IDEsDQogICAgICAgIHBlclBhZ2U6IDE1LA0KICAgICAgICBkYXRhOiBbXSwNCiAgICAgIH0NCiAgICB9DQogIH0sDQogIGNvbXB1dGVkOiB7DQogICAgLi4ubWFwR2V0dGVycyhbImd0eENvbmZpZ0RhdGV0aW1lUGlja2VyRm9ybWF0IiwgImd0eFBhcmVtcERhdGFFbXByZXNhcyJdKSwNCiAgICBsb3Rlc2ZpbHRlcmVkKCkgew0KICAgICAgcmV0dXJuIHRoaXMubG90ZXMuZGF0YS5tYXAobCA9PiB7IHJldHVybiB7IC4uLmwsIHBlcmM6IChsLnByb2R1emlkb3MgKiAxMDApIC8gbC5xdGRlIH0gfSkNCiAgICB9DQogIH0sDQogIG1ldGhvZHM6IHsNCiAgICByb3dDbGFzcyhpdGVtLCB0eXBlKSB7DQogICAgICBpZiAoIWl0ZW0gfHwgdHlwZSAhPT0gInJvdyIpIHJldHVybiAiIjsNCiAgICAgIGlmIChpdGVtLmVycm8gJiYgaXRlbS5lcnJvICE9PSAiIikgcmV0dXJuICJ0YWJsZS1kYW5nZXIiOw0KICAgICAgcmV0dXJuIGl0ZW0ucXRkZSA+IGl0ZW0ucHJvZHV6aWRvcyA/ICIiIDogInRhYmxlLXN1Y2Nlc3MiOw0KICAgIH0sDQogICAgbG90ZXNHZXQoKSB7DQogICAgICB0aGlzLmxvdGVzLmRhdGEgPSBbDQogICAgICAgIHsgZW1wcmVzYTogOCwgbnVtZXJvOiAxNjIyMTIsIGRhdGE6ICcyNi8wOS8yMDIzJywgcXRkZTogMTAwLCBwcm9kdXppZG9zOiAxMDAsIGVycm86ICIiIH0sDQogICAgICAgIHsgZW1wcmVzYTogOCwgbnVtZXJvOiAxNTYyMzEsIGRhdGE6ICcyNi8wOS8yMDIzJywgcXRkZTogMTAwLCBwcm9kdXppZG9zOiA4MCwgZXJybzogIkRldSBtZXJkYSIgfSwNCiAgICAgIF0NCiAgICB9LA0KICAgIGxvdGVzT3BlbihpdGVtKSB7IH0sDQogICAgaGlzdG9yeURlbChpdGVtKSB7IH0sDQogIH0NCg0KfTsNCg=="},{"version":3,"sources":["controlelotes.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA2EA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA","file":"controlelotes.vue","sourceRoot":"src/pages/producaoidelli/views","sourcesContent":["<template>\r\n  <CardCollapsed ref=\"CardCollapsed\" v-model=\"collapseformopen\" title=\"Lotes\" @evtBusca=\"lotesGet\">\r\n    <template #collapsedform>\r\n      <div class=\"bg-light p-4\">\r\n        <b-row>\r\n          <b-col>\r\n            <b-form-group :label=\"`Empresa ${form.empresa}`\" label-for=\"input-empresa\">\r\n              <b-form-select id=\"input-empresa\" v-model=\"form.empresa\" :options=\"gtxParempDataEmpresas\"></b-form-select>\r\n            </b-form-group>\r\n          </b-col>\r\n          <b-col>\r\n            <b-form-group label=\"Data de Criação\" label-for=\"input-data\">\r\n              <b-form-datepicker\r\n              id=\"input-data\"\r\n              v-model=\"form.data\"\r\n              class=\"mb-2\"\r\n              locale=\"pt\"\r\n              :date-format-options=\"gtxConfigDatetimePickerFormat\"\r\n              ></b-form-datepicker>\r\n            </b-form-group>\r\n          </b-col>\r\n        </b-row>\r\n      </div>\r\n    </template>\r\n\r\n    <template #collapsedbody>\r\n      <div class=\"p-2\">\r\n        <b-table\r\n        small\r\n        hover\r\n        responsive\r\n        striped\r\n        bordered\r\n        head-variant=\"dark\"\r\n        :current-page=\"lotes.currentPage\"\r\n        :per-page=\"lotes.perPage\"\r\n        :filter=\"lotes.filtro\"\r\n        :filter-included-fields=\"lotes.filterOn\"\r\n        :fields=\"lotes.fields\"\r\n        :items=\"lotesfiltered\"\r\n        :tbody-tr-class=\"rowClass\"\r\n      >\r\n        <template #cell(DataLeitura)=\"data\">\r\n          {{ data.item.data | datetime }}\r\n        </template>\r\n        <template #cell(id)=\"data\">\r\n          <span  v-copy>{{ data.item.id }}</span>\r\n        </template>\r\n        <template #cell(buttons)=\"data\">\r\n          <span class=\"spaced iconbutton\" @click=\"lotesOpen(data.item)\">\r\n            <b-icon-file-earmark-text />\r\n          </span>\r\n          <span class=\"spaced iconbutton\" @click=\"historyDel(data.item)\">\r\n            <b-icon-trash />\r\n          </span>\r\n        </template>\r\n      </b-table>\r\n\r\n      <div class=\"d-flex float-right\">\r\n        <b-pagination\r\n          id=\"input-pagination\"\r\n          v-model=\"lotes.currentPage\"\r\n          :total-rows=\"lotes.data.length\"\r\n          :per-page=\"lotes.perPage\"\r\n          size=\"sm\"\r\n          class=\"my-0\"\r\n        >\r\n        </b-pagination>\r\n      </div>\r\n      </div>\r\n    </template>\r\n  </CardCollapsed>\r\n</template>\r\n\r\n<script>\r\nimport { mapGetters } from \"vuex\";\r\nimport CardCollapsed from \"@/components/CardCollapsed.vue\";\r\nexport default {\r\n  name: \"ControleLotes\",\r\n  components: {\r\n    CardCollapsed\r\n  },\r\n  data() {\r\n    return {\r\n      collapseformopen: false,\r\n      form: {\r\n        empresa: 8,\r\n        data: new Date(),\r\n      },\r\n      lotes: {\r\n        filtro: \"\",\r\n        filterOn: ['empresa', 'numero'],\r\n        fields: ['empresa', 'numero', 'data', {key: 'buttons', label: ''}],\r\n        currentPage: 1,\r\n        perPage: 15,\r\n        data: [],\r\n      }\r\n    }\r\n  },\r\n  computed: {\r\n    ...mapGetters([\"gtxConfigDatetimePickerFormat\", \"gtxParempDataEmpresas\"]),\r\n    lotesfiltered() {\r\n      return this.lotes.data.map(l => { return { ...l, perc: (l.produzidos * 100) / l.qtde } })\r\n    }\r\n  },\r\n  methods: {\r\n    rowClass(item, type) {\r\n      if (!item || type !== \"row\") return \"\";\r\n      if (item.erro && item.erro !== \"\") return \"table-danger\";\r\n      return item.qtde > item.produzidos ? \"\" : \"table-success\";\r\n    },\r\n    lotesGet() {\r\n      this.lotes.data = [\r\n        { empresa: 8, numero: 162212, data: '26/09/2023', qtde: 100, produzidos: 100, erro: \"\" },\r\n        { empresa: 8, numero: 156231, data: '26/09/2023', qtde: 100, produzidos: 80, erro: \"Deu merda\" },\r\n      ]\r\n    },\r\n    lotesOpen(item) { },\r\n    historyDel(item) { },\r\n  }\r\n\r\n};\r\n</script>\r\n"]}]}