{"remainingRequest":"C:\\k1-services\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\k1-services\\src\\pages\\ramais\\views\\historicoupdate.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\k1-services\\src\\pages\\ramais\\views\\historicoupdate.vue","mtime":1670977910663},{"path":"C:\\k1-services\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1670977934221},{"path":"C:\\k1-services\\node_modules\\babel-loader\\lib\\index.js","mtime":1670977935138},{"path":"C:\\k1-services\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1670977934221},{"path":"C:\\k1-services\\node_modules\\vue-loader\\lib\\index.js","mtime":1670977935327}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KDQppbXBvcnQgeyBtYXBBY3Rpb25zLCBtYXBHZXR0ZXJzIH0gZnJvbSAidnVleCI7DQppbXBvcnQgQVBJIGZyb20gIi4uLy4uLy4uL3NlcnZpY2VzL2FwaS5zZXJ2aWNlIjsNCmV4cG9ydCBkZWZhdWx0IHsNCiAgbmFtZTogIkhpc3Rvcmljb0NhbGxzVXBkYXRlIiwNCg0KICBkYXRhKCkgew0KICAgIHJldHVybiB7DQogICAgICBpZGFnZW5kYWNhbGw6IHRoaXMuZGF0YS5pZCB8fCBudWxsLA0KICAgICAgaWRyYW1hbDogdGhpcy5kYXRhLmlkQWdlbmRhIHx8IG51bGwsDQogICAgICBhbm90YWNhbzogdGhpcy5kYXRhLkFub3RhY2FvIHx8ICIiLA0KICAgICAgYWdlbmRhZGE6IHRoaXMuZGF0YS5BZ2VuZGFkYSB8fCBudWxsLA0KICAgICAgYWxlcnRhbXM6IHRoaXMuZGF0YS5BbGVydGFNUyB8fCBudWxsLA0KICAgICAgYWxlcnRhdGlwbzogdGhpcy5kYXRhLlRlbXBvIHx8IG51bGwsDQogICAgICBhbGVydGF0aXBvczogWw0KICAgICAgICB7IHZhbHVlOiAic2VndW5kb3MiLCB0ZXh0OiAic2VndW5kb3MiIH0sDQogICAgICAgIHsgdmFsdWU6ICJtaW51dG9zIiwgdGV4dDogIm1pbnV0b3MiIH0sDQogICAgICAgIHsgdmFsdWU6ICJob3JhcyIsIHRleHQ6ICJob3JhcyIgfSwNCiAgICAgICAgeyB2YWx1ZTogImRpYXMiLCB0ZXh0OiAiZGlhcyIgfSwNCiAgICAgIF0sDQogICAgfTsNCiAgfSwNCg0KICBwcm9wczogew0KICAgIGRhdGE6IHsNCiAgICAgIHR5cGU6IE9iamVjdCwNCiAgICB9LA0KICB9LA0KDQogIGNvbXB1dGVkOiB7DQogICAgLi4ubWFwR2V0dGVycyhbImd0eENvbmZpZ0RhdGV0aW1lUGlja2VyRm9ybWF0Il0pLA0KDQogICAgcGFyYW1hZGQoKSB7DQogICAgICByZXR1cm4gew0KICAgICAgICBpZGFnZW5kYWNhbGw6IHRoaXMuaWRhZ2VuZGFjYWxsLA0KICAgICAgICBpZHJhbWFsOiB0aGlzLmlkcmFtYWwsDQogICAgICAgIGFub3RhY2FvOiB0aGlzLmFub3RhY2FvLA0KICAgICAgICBhZ2VuZGFkYTogdGhpcy5hZ2VuZGFkYSwNCiAgICAgICAgYWxlcnRhbXM6IHRoaXMucGFyYW1hbGVydGFtcywNCiAgICAgIH07DQogICAgfSwNCg0KICAgIHBhcmFtYWxlcnRhbXMoKSB7DQogICAgICBzd2l0Y2ggKHRoaXMuYWxlcnRhdGlwbykgew0KICAgICAgICBjYXNlICJzZWd1bmRvcyI6DQogICAgICAgICAgcmV0dXJuIHRoaXMuYWxlcnRhbXMgKiAxMDAwICogLTE7DQogICAgICAgICAgYnJlYWs7DQogICAgICAgIGNhc2UgIm1pbnV0b3MiOg0KICAgICAgICAgIHJldHVybiB0aGlzLmFsZXJ0YW1zICogNjAwMDAgKiAtMTsNCiAgICAgICAgICBicmVhazsNCiAgICAgICAgY2FzZSAiaG9yYXMiOg0KICAgICAgICAgIHJldHVybiB0aGlzLmFsZXJ0YW1zICogMzYwMDAwMCAqIC0xOw0KICAgICAgICAgIGJyZWFrOw0KICAgICAgICBjYXNlICJkaWFzIjoNCiAgICAgICAgICByZXR1cm4gdGhpcy5hbGVydGFtcyAqIDg2NDAwMDAwICogLTE7DQogICAgICAgICAgYnJlYWs7DQogICAgICAgIGRlZmF1bHQ6DQogICAgICAgICAgcmV0dXJuIHRoaXMuYWxlcnRhbXMgKiAxMDAwICogLTE7DQogICAgICAgICAgYnJlYWs7DQogICAgICB9DQogICAgfSwNCg0KICAgIGFsZXJ0YWxhYmVsKCkgew0KICAgICAgY29uc3QgdGVtcG8gPQ0KICAgICAgICB0aGlzLmFsZXJ0YW1zID09IDENCiAgICAgICAgICA/IHRoaXMuYWxlcnRhdGlwby5zdWJzdHIoMCwgdGhpcy5hbGVydGF0aXBvLmxlbmd0aCAtIDEpDQogICAgICAgICAgOiB0aGlzLmFsZXJ0YXRpcG87DQogICAgICBpZiAodGhpcy5hbGVydGF0aXBvICYmIHRoaXMuYWxlcnRhbXMgPiAwKSB7DQogICAgICAgIHJldHVybiB0aGlzLmFsZXJ0YW1zICsgIiAiICsgdGVtcG8gKyAiIGFudGVzIjsNCiAgICAgIH0gZWxzZSB7DQogICAgICAgIHJldHVybiAiIjsNCiAgICAgIH0NCiAgICB9LA0KICB9LA0KDQogIG1ldGhvZHM6IHsNCiAgICBzYXZlQ2FsbCgpIHsNCiAgICAgIEFQSS5wb3N0KCJ2Mi9TZXJ2aWNvcy9SYW1haXNDYWxsL1VwZGF0ZSIsIHRoaXMucGFyYW1hZGQpLnRoZW4oKHJlcykgPT4gew0KICAgICAgICAvLyBjb25zb2xlLmxvZygic2F2ZUNhbGwiLCByZXMpOw0KICAgICAgICB0aGlzLiRlbWl0KCJldnRzYXZlZCIsIHJlcyk7DQogICAgICB9KTsNCiAgICB9LA0KICB9LA0KfTsNCg=="},{"version":3,"sources":["historicoupdate.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAoEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"historicoupdate.vue","sourceRoot":"src/pages/ramais/views","sourcesContent":["<template>\r\n  <div>\r\n    <b-row>\r\n      <b-col>\r\n        <label for=\"form-anotacao\">Anotações</label>\r\n        <b-form-textarea\r\n          id=\"textarea\"\r\n          v-model=\"anotacao\"\r\n          placeholder=\"Anotações\"\r\n          rows=\"3\"\r\n          max-rows=\"6\"\r\n        ></b-form-textarea>\r\n      </b-col>\r\n    </b-row>\r\n    <b-row>\r\n      <b-col>\r\n        <label for=\"form-agendada\">Agendar para</label>\r\n        <b-form-datepicker\r\n          id=\"form-agendada\"\r\n          v-model=\"agendada\"\r\n          locale=\"pt\"\r\n          size=\"sm\"\r\n          :date-format-options=\"gtxConfigDatetimePickerFormat\"\r\n        ></b-form-datepicker>\r\n      </b-col>\r\n    </b-row>\r\n    <b-row>\r\n      <b-col cols=\"6\">\r\n        <label for=\"form-alerta\">Notificar {{ alertalabel }}</label>\r\n        <b-form-input\r\n          id=\"form-alerta\"\r\n          type=\"number\"\r\n          v-model=\"alertams\"\r\n          size=\"sm\"\r\n        ></b-form-input>\r\n      </b-col>\r\n      <b-col cols=\"6\">\r\n        <label for=\"form-alertatipo\">Tempo</label>\r\n        <b-form-select\r\n          id=\"form-alertatipo\"\r\n          type=\"number\"\r\n          v-model=\"alertatipo\"\r\n          :options=\"alertatipos\"\r\n          size=\"sm\"\r\n        ></b-form-select>\r\n      </b-col>\r\n    </b-row>\r\n    <b-row>\r\n      <b-col class=\"mt-2 text-right\">\r\n        <b-button variant=\"success\" @click=\"saveCall\">\r\n          Salvar\r\n        </b-button>\r\n      </b-col>\r\n    </b-row>\r\n\r\n    <!--\r\n    alertalabel: {{ alertalabel }}\r\n    <pre>\r\n      paramadd: {{ paramadd }}\r\n    </pre>\r\n    <pre>\r\n      data: {{ data }}\r\n    </pre>\r\n    -->\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { mapActions, mapGetters } from \"vuex\";\r\nimport API from \"../../../services/api.service\";\r\nexport default {\r\n  name: \"HistoricoCallsUpdate\",\r\n\r\n  data() {\r\n    return {\r\n      idagendacall: this.data.id || null,\r\n      idramal: this.data.idAgenda || null,\r\n      anotacao: this.data.Anotacao || \"\",\r\n      agendada: this.data.Agendada || null,\r\n      alertams: this.data.AlertaMS || null,\r\n      alertatipo: this.data.Tempo || null,\r\n      alertatipos: [\r\n        { value: \"segundos\", text: \"segundos\" },\r\n        { value: \"minutos\", text: \"minutos\" },\r\n        { value: \"horas\", text: \"horas\" },\r\n        { value: \"dias\", text: \"dias\" },\r\n      ],\r\n    };\r\n  },\r\n\r\n  props: {\r\n    data: {\r\n      type: Object,\r\n    },\r\n  },\r\n\r\n  computed: {\r\n    ...mapGetters([\"gtxConfigDatetimePickerFormat\"]),\r\n\r\n    paramadd() {\r\n      return {\r\n        idagendacall: this.idagendacall,\r\n        idramal: this.idramal,\r\n        anotacao: this.anotacao,\r\n        agendada: this.agendada,\r\n        alertams: this.paramalertams,\r\n      };\r\n    },\r\n\r\n    paramalertams() {\r\n      switch (this.alertatipo) {\r\n        case \"segundos\":\r\n          return this.alertams * 1000 * -1;\r\n          break;\r\n        case \"minutos\":\r\n          return this.alertams * 60000 * -1;\r\n          break;\r\n        case \"horas\":\r\n          return this.alertams * 3600000 * -1;\r\n          break;\r\n        case \"dias\":\r\n          return this.alertams * 86400000 * -1;\r\n          break;\r\n        default:\r\n          return this.alertams * 1000 * -1;\r\n          break;\r\n      }\r\n    },\r\n\r\n    alertalabel() {\r\n      const tempo =\r\n        this.alertams == 1\r\n          ? this.alertatipo.substr(0, this.alertatipo.length - 1)\r\n          : this.alertatipo;\r\n      if (this.alertatipo && this.alertams > 0) {\r\n        return this.alertams + \" \" + tempo + \" antes\";\r\n      } else {\r\n        return \"\";\r\n      }\r\n    },\r\n  },\r\n\r\n  methods: {\r\n    saveCall() {\r\n      API.post(\"v2/Servicos/RamaisCall/Update\", this.paramadd).then((res) => {\r\n        // console.log(\"saveCall\", res);\r\n        this.$emit(\"evtsaved\", res);\r\n      });\r\n    },\r\n  },\r\n};\r\n</script>\r\n"]}]}