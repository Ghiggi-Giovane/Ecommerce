{"remainingRequest":"C:\\k1-services\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\k1-services\\src\\pages\\ramais\\views\\index.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\k1-services\\src\\pages\\ramais\\views\\index.vue","mtime":1670977910663},{"path":"C:\\k1-services\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1670977934221},{"path":"C:\\k1-services\\node_modules\\babel-loader\\lib\\index.js","mtime":1670977935138},{"path":"C:\\k1-services\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1670977934221},{"path":"C:\\k1-services\\node_modules\\vue-loader\\lib\\index.js","mtime":1670977935327}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KDQppbXBvcnQgeyBtYXBBY3Rpb25zLCBtYXBHZXR0ZXJzIH0gZnJvbSAidnVleCI7DQppbXBvcnQgQVBJIGZyb20gIi4uLy4uLy4uL3NlcnZpY2VzL2FwaS5zZXJ2aWNlIjsNCmltcG9ydCBIaXN0b3JpY29DYWxscyBmcm9tICIuL2hpc3Rvcmljby52dWUiOw0KaW1wb3J0IEhpc3Rvcmljb0NhbGxzVXBkYXRlIGZyb20gIi4vaGlzdG9yaWNvdXBkYXRlLnZ1ZSI7DQpleHBvcnQgZGVmYXVsdCB7DQogIG5hbWU6ICJSYW1haXMiLA0KDQogIGNvbXBvbmVudHM6IHsNCiAgICBIaXN0b3JpY29DYWxscywNCiAgICBIaXN0b3JpY29DYWxsc1VwZGF0ZSwNCiAgfSwNCg0KICBkYXRhKCkgew0KICAgIHJldHVybiB7DQogICAgICB0b3RhbFJvd3M6IDEsDQogICAgICBjdXJyZW50UGFnZTogMSwNCiAgICAgIHBlclBhZ2U6IDUwLA0KICAgICAgZmlsdHJvOiAiIiwNCiAgICAgIGxldHJhOiAiIiwNCiAgICAgIGZpbHRlck9uOiBbInJhbWFsIiwgIm5vbWUiXSwNCiAgICAgIHNlbGVjdGVkOiB7fSwNCiAgICAgIGNhbGxzOiB7DQogICAgICAgIGRhdGFiYXNlOiBuZXcgRGF0ZShuZXcgRGF0ZSgpLnNldERhdGUobmV3IERhdGUoKS5nZXREYXRlKCkgLSAxKSksDQogICAgICAgIGlkcmFtYWw6IG51bGwsDQogICAgICAgIHJhbWFsOiAiIiwNCiAgICAgIH0sDQogICAgICBmaWVsZHM6IFsNCiAgICAgICAgeyBrZXk6ICJub21lIiwgc29ydGFibGU6IHRydWUgfSwNCiAgICAgICAgeyBrZXk6ICJyYW1hbCIsIHNvcnRhYmxlOiB0cnVlIH0sDQogICAgICAgIHsga2V5OiAiYWN0aW9ucyIsIGxhYmVsOiAiIiwgc29ydGFibGU6IGZhbHNlIH0sDQogICAgICBdLA0KICAgIH07DQogIH0sDQoNCiAgY29tcHV0ZWQ6IHsNCiAgICAuLi5tYXBHZXR0ZXJzKFsNCiAgICAgICJndHhSYW1haXNEYXRhIiwNCiAgICAgICJndHhSYW1haXNMZXRyYSIsDQogICAgICAiZ3R4UmFtYWlzTGV0cmFFeGlzdHMiLA0KICAgICAgImd0eFJhbWFpc0J1c3kiLA0KICAgIF0pLA0KDQogICAgbGV0cmFzKCkgew0KICAgICAgcmV0dXJuIFsuLi5BcnJheSgyNikua2V5cygpXS5tYXAoKGEpID0+IFN0cmluZy5mcm9tQ2hhckNvZGUoYSArIDY1KSk7DQogICAgfSwNCg0KICAgIHBhcmFtc2NhbGxzKCkgew0KICAgICAgcmV0dXJuIHsNCiAgICAgICAgZGF0YWJhc2U6DQogICAgICAgICAgdGhpcy5zZWxlY3RlZC5kYXRhYmFzZSB8fA0KICAgICAgICAgIG5ldyBEYXRlKG5ldyBEYXRlKCkuc2V0RGF0ZShuZXcgRGF0ZSgpLmdldERhdGUoKSAtIDEpKSwNCiAgICAgICAgaWRyYW1hbDogcGFyc2VJbnQodGhpcy5zZWxlY3RlZC5pZCkgfHwgbnVsbCwNCiAgICAgICAgcmFtYWw6IHRoaXMuc2VsZWN0ZWQucmFtYWwgfHwgIiIsDQogICAgICB9Ow0KICAgIH0sDQogIH0sDQoNCiAgYmVmb3JlTW91bnQoKSB7DQogICAgaWYgKCF0aGlzLmd0eFJhbWFpc0RhdGEgfHwgdGhpcy5ndHhSYW1haXNEYXRhLmxlbmd0aCA9PSAwKSB7DQogICAgICB0aGlzLmFjdFJhbWFpcygpLnRoZW4oKCkgPT4gew0KICAgICAgICB0aGlzLnRvdGFsUm93cyA9IHRoaXMuZ3R4UmFtYWlzTGV0cmEodGhpcy5sZXRyYSkubGVuZ3RoOw0KICAgICAgfSk7DQogICAgfQ0KICAgIHRoaXMudG90YWxSb3dzID0gdGhpcy5ndHhSYW1haXNMZXRyYSh0aGlzLmxldHJhKS5sZW5ndGg7DQogIH0sDQoNCiAgbW91bnRlZCgpIHsNCiAgICBpZiAodGhpcy4kcm91dGUucXVlcnkubGV0cmEpIHsNCiAgICAgIHRoaXMubGV0cmEgPSB0aGlzLiRyb3V0ZS5xdWVyeS5sZXRyYS50b1VwcGVyQ2FzZSgpIHx8ICIiOw0KICAgIH0NCiAgICBpZiAodGhpcy4kcm91dGUucXVlcnkuZmlsdHJvKSB7DQogICAgICB0aGlzLmZpbHRybyA9IHRoaXMuJHJvdXRlLnF1ZXJ5LmZpbHRyby50b1VwcGVyQ2FzZSgpIHx8ICIiOw0KICAgIH0NCiAgICBpZiAodGhpcy4kcm91dGUucXVlcnkuaWQpIHsNCiAgICAgIGNvbnN0IGlkID0gdGhpcy4kcm91dGUucXVlcnkuaWQudG9TdHJpbmcoKSB8fCAiIjsNCiAgICAgIHRoaXMubGV0cmEgPSBpZDsNCiAgICAgIHRoaXMuZmlsdHJvID0gIiI7DQogICAgfQ0KICAgIHRoaXMudG90YWxSb3dzID0gdGhpcy5ndHhSYW1haXNMZXRyYSh0aGlzLmxldHJhKS5sZW5ndGg7DQogIH0sDQoNCiAgbWV0aG9kczogew0KICAgIC4uLm1hcEFjdGlvbnMoWyJhY3RSYW1haXMiLCAiYWN0UmFtYWlzTGV0cmEiXSksDQoNCiAgICBhZGRDYWxsKHJhbWFsKSB7DQogICAgICBjb25zdCBwYXJhbSA9IHsNCiAgICAgICAgaWRBZ2VuZGE6IHJhbWFsLmlkLA0KICAgICAgfTsNCiAgICAgIHRoaXMuc2VsZWN0ZWQgPSBwYXJhbTsNCiAgICAgIHRoaXMuJHJlZnNbIm1vZGFsLXVwZGF0ZSJdLnNob3coKTsNCiAgICB9LA0KDQogICAgZWRpdENhbGwocmFtYWwpIHsNCiAgICAgIHRoaXMuc2VsZWN0ZWQgPSByYW1hbDsNCiAgICAgIHRoaXMuJHJlZnNbIm1vZGFsLXVwZGF0ZSJdLnNob3coKTsNCiAgICB9LA0KDQogICAgZ2V0Q2FsbHMocmFtYWwpIHsNCiAgICAgIHRoaXMuc2VsZWN0ZWQgPSByYW1hbDsNCiAgICAgIHRoaXMuJHJlZnNbIm1vZGFsLWNhbGxzIl0uc2hvdygpOw0KICAgIH0sDQoNCiAgICBkZWxldGVDYWxsKGNhbGwpIHsNCiAgICAgIGNvbnN0IHBhcmFtID0gew0KICAgICAgICBpZGFnZW5kYWNhbGw6IGNhbGwuaWQsDQogICAgICAgIGV4Y2x1aTogdHJ1ZSwNCiAgICAgIH07DQogICAgICBBUEkucG9zdCgidjIvU2Vydmljb3MvUmFtYWlzQ2FsbC9VcGRhdGUiLCBwYXJhbSkudGhlbigocmVzKSA9PiB7DQogICAgICAgIHRoaXMuJHJlZnMuSGlzdG9yaWNvQ2FsbHMuZ2V0Q2FsbHMoKTsNCiAgICAgIH0pOw0KICAgIH0sDQoNCiAgICBsZXRyYUNsaWNrKGxldHJhKSB7DQogICAgICB0aGlzLmZpbHRybyA9ICIiOw0KICAgICAgdGhpcy5sZXRyYSA9IGxldHJhOw0KICAgICAgdGhpcy50b3RhbFJvd3MgPSB0aGlzLmd0eFJhbWFpc0xldHJhKGxldHJhKS5sZW5ndGg7DQogICAgfSwNCg0KICAgIG9uRmlsdGVyZWQoZmlsdGVyZWRJdGVtcykgew0KICAgICAgLy8gVHJpZ2dlciBwYWdpbmF0aW9uIHRvIHVwZGF0ZSB0aGUgbnVtYmVyIG9mIGJ1dHRvbnMvcGFnZXMgZHVlIHRvIGZpbHRlcmluZw0KICAgICAgdGhpcy50b3RhbFJvd3MgPSBmaWx0ZXJlZEl0ZW1zLmxlbmd0aDsNCiAgICAgIHRoaXMuY3VycmVudFBhZ2UgPSAxOw0KICAgIH0sDQoNCiAgICBsaW5rKGxpbmspIHsNCiAgICAgIHRoaXMuJHJvb3QuY29weWNsaXAoDQogICAgICAgIGBodHRwczovL2ludHJhbmV0LmdydXBvazEuY29tLmJyL3JhbWFpcz9pZD0ke2xpbmsuaWR9YA0KICAgICAgKTsNCiAgICB9LA0KDQogICAgb25IaXN0b3JpY29DYWxsc0FjdGlvbnMoZXZlbnQpIHsNCiAgICAgIGlmIChldmVudC5idXR0b24udmFsdWUgPT0gImJ0RWRpdGFyIikgdGhpcy5lZGl0Q2FsbChldmVudC5kYXRhKTsNCg0KICAgICAgaWYgKGV2ZW50LmJ1dHRvbi52YWx1ZSA9PSAiYnRFeGNsdWlyIikNCiAgICAgICAgdGhpcy4kcm9vdA0KICAgICAgICAgIC5zaG93bWVzc2FnZSgiRGVzZWphIHJlYWxtZW50ZSBleGNsdWlyIGVzdGEgbGlnYcOnw6NvID8iLCAiSW50cmFuZXQiKQ0KICAgICAgICAgIC50aGVuKChjaG9pY2UpID0+IHsNCiAgICAgICAgICAgIGlmIChjaG9pY2UpIHRoaXMuZGVsZXRlQ2FsbChldmVudC5kYXRhKTsNCiAgICAgICAgICB9KTsNCiAgICB9LA0KICAgIG9uSGlzdG9yaWNvQ2FsbHNTYXZlZCgpIHsNCiAgICAgIHRoaXMuJHJlZnNbIm1vZGFsLXVwZGF0ZSJdLmhpZGUoKTsNCiAgICAgIGlmICh0aGlzLiRyZWZzLkhpc3Rvcmljb0NhbGxzKSB0aGlzLiRyZWZzLkhpc3Rvcmljb0NhbGxzLmdldENhbGxzKCk7DQogICAgfSwNCiAgfSwNCn07DQo="},{"version":3,"sources":["index.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA4JA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"index.vue","sourceRoot":"src/pages/ramais/views","sourcesContent":["<template>\r\n  <div class=\"container-fluid mt-2 mb-2\">\r\n    <b-card\r\n      header-bg-variant=\"dark\"\r\n      header-text-variant=\"white\"\r\n      header=\"Ramais\"\r\n    >\r\n      <b-row>\r\n        <b-col cols=\"12\" lg=\"9\" md=\"8\" class=\"mb-2\">\r\n          <b-button-toolbar v-model=\"letra\">\r\n            <b-button\r\n              @click=\"letraClick('')\"\r\n              class=\"btnGroup\"\r\n              size=\"sm\"\r\n              :class=\"letra == '' ? 'bg-primary' : ''\"\r\n              >Todos</b-button\r\n            >\r\n            <b-button\r\n              v-for=\"(l, i) of letras\"\r\n              :key=\"i\"\r\n              size=\"sm\"\r\n              class=\"btnGroup\"\r\n              :class=\"letra == l ? 'bg-primary' : ''\"\r\n              :disabled=\"!gtxRamaisLetraExists(l)\"\r\n              @click=\"letraClick(l)\"\r\n              >{{ l }}</b-button\r\n            >\r\n          </b-button-toolbar>\r\n        </b-col>\r\n        <b-col cols=\"12\" lg=\"3\" md=\"4\" class=\"mb-2\">\r\n          <span class=\"float-right\">\r\n            <b-pagination\r\n              id=\"input-pagination\"\r\n              v-model=\"currentPage\"\r\n              :total-rows=\"totalRows\"\r\n              :per-page=\"perPage\"\r\n              align=\"fill\"\r\n              size=\"sm\"\r\n              class=\"my-0\"\r\n            >\r\n            </b-pagination>\r\n          </span>\r\n        </b-col>\r\n      </b-row>\r\n\r\n      <b-row>\r\n        <b-col>\r\n          <b-input-group prepend=\"Filtro\" size=\"sm\" class=\"mb-2\">\r\n            <b-form-input\r\n              id=\"input-filtro\"\r\n              type=\"search\"\r\n              v-model=\"filtro\"\r\n              placeholder=\"Informe o ramal ou nome\"\r\n            ></b-form-input>\r\n          </b-input-group>\r\n        </b-col>\r\n      </b-row>\r\n\r\n      <b-overlay :show=\"gtxRamaisBusy\" rounded=\"sm\">\r\n        <b-table\r\n          small\r\n          striped\r\n          hover\r\n          sort-icon-left\r\n          :items=\"gtxRamaisLetra(letra)\"\r\n          :fields=\"fields\"\r\n          :filter=\"filtro\"\r\n          :current-page=\"currentPage\"\r\n          :per-page=\"perPage\"\r\n          :filter-included-fields=\"filterOn\"\r\n          @filtered=\"onFiltered\"\r\n        >\r\n          <template #cell(ramal)=\"data\">\r\n            <span v-copy>{{ data.item.ramal }}</span>\r\n          </template>\r\n          <template #cell(actions)=\"data\">\r\n            <span\r\n              class=\"iconbutton\"\r\n              title=\"Histórico de ligações\"\r\n              @click=\"getCalls(data.item)\"\r\n            >\r\n              <b-icon-card-list variant=\"primary\" />\r\n            </span>\r\n            <span\r\n              class=\"iconbutton\"\r\n              title=\"Registrar\"\r\n              @click=\"addCall(data.item)\"\r\n            >\r\n              <b-icon-telephone-plus variant=\"success\" />\r\n            </span>\r\n          </template>\r\n          <template #foot()=\"data\">\r\n            <i>Total: {{ data.label }}</i>\r\n          </template>\r\n        </b-table>\r\n      </b-overlay>\r\n      <hr />\r\n\r\n      <b-form-group label-for=\"input-pagination-footer\">\r\n        <div class=\"d-flex justify-content-between\">\r\n          <span class=\"mr-4 font-weight-bolder\"> Total: {{ totalRows }} </span>\r\n          <b-pagination\r\n            id=\"input-pagination-footer\"\r\n            v-model=\"currentPage\"\r\n            :total-rows=\"totalRows\"\r\n            :per-page=\"perPage\"\r\n            align=\"fill\"\r\n            size=\"sm\"\r\n            class=\"my-0\"\r\n          ></b-pagination>\r\n        </div>\r\n      </b-form-group>\r\n\r\n      <!--\r\n        gtxRamaisLetra(letra): {{gtxRamaisLetra(letra)}}<br>\r\n        gtxRamaisLetra(3256): {{gtxRamaisLetra(3256)}}<br>\r\n        letra: {{letra}}<br>\r\n      -->\r\n    </b-card>\r\n\r\n    <!-- JANELAS MODAIS -->\r\n    <b-modal\r\n      ok-only\r\n      id=\"modal-calls\"\r\n      ref=\"modal-calls\"\r\n      size=\"xl\"\r\n      scrollable\r\n      title=\"Últimas ligações\"\r\n      ok-title=\"Fechar\"\r\n    >\r\n      <HistoricoCalls\r\n        ref=\"HistoricoCalls\"\r\n        :database=\"paramscalls.database\"\r\n        :idramal=\"paramscalls.idramal\"\r\n        :ramal=\"paramscalls.ramal\"\r\n        @evt-actions=\"onHistoricoCallsActions\"\r\n      />\r\n    </b-modal>\r\n\r\n    <b-modal\r\n      ok-only\r\n      id=\"modal-update\"\r\n      ref=\"modal-update\"\r\n      size=\"xl\"\r\n      scrollable\r\n      title=\"Anotações\"\r\n      ok-title=\"Fechar\"\r\n    >\r\n      <HistoricoCallsUpdate\r\n        :data=\"selected\"\r\n        @evtsaved=\"onHistoricoCallsSaved\"\r\n      />\r\n    </b-modal>\r\n  </div>\r\n</template>\r\n<script>\r\nimport { mapActions, mapGetters } from \"vuex\";\r\nimport API from \"../../../services/api.service\";\r\nimport HistoricoCalls from \"./historico.vue\";\r\nimport HistoricoCallsUpdate from \"./historicoupdate.vue\";\r\nexport default {\r\n  name: \"Ramais\",\r\n\r\n  components: {\r\n    HistoricoCalls,\r\n    HistoricoCallsUpdate,\r\n  },\r\n\r\n  data() {\r\n    return {\r\n      totalRows: 1,\r\n      currentPage: 1,\r\n      perPage: 50,\r\n      filtro: \"\",\r\n      letra: \"\",\r\n      filterOn: [\"ramal\", \"nome\"],\r\n      selected: {},\r\n      calls: {\r\n        database: new Date(new Date().setDate(new Date().getDate() - 1)),\r\n        idramal: null,\r\n        ramal: \"\",\r\n      },\r\n      fields: [\r\n        { key: \"nome\", sortable: true },\r\n        { key: \"ramal\", sortable: true },\r\n        { key: \"actions\", label: \"\", sortable: false },\r\n      ],\r\n    };\r\n  },\r\n\r\n  computed: {\r\n    ...mapGetters([\r\n      \"gtxRamaisData\",\r\n      \"gtxRamaisLetra\",\r\n      \"gtxRamaisLetraExists\",\r\n      \"gtxRamaisBusy\",\r\n    ]),\r\n\r\n    letras() {\r\n      return [...Array(26).keys()].map((a) => String.fromCharCode(a + 65));\r\n    },\r\n\r\n    paramscalls() {\r\n      return {\r\n        database:\r\n          this.selected.database ||\r\n          new Date(new Date().setDate(new Date().getDate() - 1)),\r\n        idramal: parseInt(this.selected.id) || null,\r\n        ramal: this.selected.ramal || \"\",\r\n      };\r\n    },\r\n  },\r\n\r\n  beforeMount() {\r\n    if (!this.gtxRamaisData || this.gtxRamaisData.length == 0) {\r\n      this.actRamais().then(() => {\r\n        this.totalRows = this.gtxRamaisLetra(this.letra).length;\r\n      });\r\n    }\r\n    this.totalRows = this.gtxRamaisLetra(this.letra).length;\r\n  },\r\n\r\n  mounted() {\r\n    if (this.$route.query.letra) {\r\n      this.letra = this.$route.query.letra.toUpperCase() || \"\";\r\n    }\r\n    if (this.$route.query.filtro) {\r\n      this.filtro = this.$route.query.filtro.toUpperCase() || \"\";\r\n    }\r\n    if (this.$route.query.id) {\r\n      const id = this.$route.query.id.toString() || \"\";\r\n      this.letra = id;\r\n      this.filtro = \"\";\r\n    }\r\n    this.totalRows = this.gtxRamaisLetra(this.letra).length;\r\n  },\r\n\r\n  methods: {\r\n    ...mapActions([\"actRamais\", \"actRamaisLetra\"]),\r\n\r\n    addCall(ramal) {\r\n      const param = {\r\n        idAgenda: ramal.id,\r\n      };\r\n      this.selected = param;\r\n      this.$refs[\"modal-update\"].show();\r\n    },\r\n\r\n    editCall(ramal) {\r\n      this.selected = ramal;\r\n      this.$refs[\"modal-update\"].show();\r\n    },\r\n\r\n    getCalls(ramal) {\r\n      this.selected = ramal;\r\n      this.$refs[\"modal-calls\"].show();\r\n    },\r\n\r\n    deleteCall(call) {\r\n      const param = {\r\n        idagendacall: call.id,\r\n        exclui: true,\r\n      };\r\n      API.post(\"v2/Servicos/RamaisCall/Update\", param).then((res) => {\r\n        this.$refs.HistoricoCalls.getCalls();\r\n      });\r\n    },\r\n\r\n    letraClick(letra) {\r\n      this.filtro = \"\";\r\n      this.letra = letra;\r\n      this.totalRows = this.gtxRamaisLetra(letra).length;\r\n    },\r\n\r\n    onFiltered(filteredItems) {\r\n      // Trigger pagination to update the number of buttons/pages due to filtering\r\n      this.totalRows = filteredItems.length;\r\n      this.currentPage = 1;\r\n    },\r\n\r\n    link(link) {\r\n      this.$root.copyclip(\r\n        `https://intranet.grupok1.com.br/ramais?id=${link.id}`\r\n      );\r\n    },\r\n\r\n    onHistoricoCallsActions(event) {\r\n      if (event.button.value == \"btEditar\") this.editCall(event.data);\r\n\r\n      if (event.button.value == \"btExcluir\")\r\n        this.$root\r\n          .showmessage(\"Deseja realmente excluir esta ligação ?\", \"Intranet\")\r\n          .then((choice) => {\r\n            if (choice) this.deleteCall(event.data);\r\n          });\r\n    },\r\n    onHistoricoCallsSaved() {\r\n      this.$refs[\"modal-update\"].hide();\r\n      if (this.$refs.HistoricoCalls) this.$refs.HistoricoCalls.getCalls();\r\n    },\r\n  },\r\n};\r\n</script>\r\n\r\n<style>\r\n.btnGroup {\r\n  border-radius: 0;\r\n  min-width: 27px;\r\n}\r\n.btnGroup:first-child {\r\n  border-radius: 3px;\r\n  border-top-right-radius: 0;\r\n  border-bottom-right-radius: 0;\r\n}\r\n.btnGroup:last-child {\r\n  border-radius: 3px;\r\n  border-top-left-radius: 0;\r\n  border-bottom-left-radius: 0;\r\n}\r\n</style>\r\n"]}]}