{"remainingRequest":"C:\\k1-services\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\k1-services\\src\\pages\\funcionarios\\views\\CartaoPonto.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\k1-services\\src\\pages\\funcionarios\\views\\CartaoPonto.vue","mtime":1670977910628},{"path":"C:\\k1-services\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1670977934221},{"path":"C:\\k1-services\\node_modules\\babel-loader\\lib\\index.js","mtime":1670977935138},{"path":"C:\\k1-services\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1670977934221},{"path":"C:\\k1-services\\node_modules\\vue-loader\\lib\\index.js","mtime":1670977935327}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KDQppbXBvcnQgeyBtYXBHZXR0ZXJzLCBtYXBBY3Rpb25zIH0gZnJvbSAidnVleCI7DQppbXBvcnQgbWVzZXMgZnJvbSAiLi4vLi4vLi4vYXNzZXRzL2pzb24vbWVzZXMuanNvbiI7DQpleHBvcnQgZGVmYXVsdCB7DQogIG5hbWU6ICJDYXJ0YW9Qb250byIsDQoNCiAgZGF0YSgpIHsNCiAgICByZXR1cm4gew0KICAgICAgcmVhZHk6IGZhbHNlLA0KICAgICAgbWVzZXM6IG1lc2VzLA0KICAgICAgYW5vOiAyMDIxLA0KICAgICAgbWVzOiAxMiwNCiAgICAgIGZpZWxkczogWyJkaWEiLCAicmVnaXN0cm9zIiwgImhvcmFzIl0sDQogICAgfTsNCiAgfSwNCg0KICBtb3VudGVkKCkgew0KICAgIHRoaXMuYW5vID0gdGhpcy5zeXNkYXRlLnllYXI7DQogICAgdGhpcy5tZXMgPSB0aGlzLnN5c2RhdGUubW9udGg7DQogICAgdGhpcy5yZWFkeSA9IHRydWU7DQogICAgLyoNCiAgICBpZiAodGhpcy5zeXNkYXRlLmRheSA+IDIwKSB7DQogICAgICB0aGlzLm1lcysrOw0KICAgICAgaWYgKHRoaXMubWVzID4gMTIpIHsNCiAgICAgICAgdGhpcy5hbm8rKzsNCiAgICAgICAgdGhpcy5tZXMgPSAxOw0KICAgICAgfQ0KICAgIH0NCiAgICAqLw0KICB9LA0KDQogIGNvbXB1dGVkOiB7DQogICAgLi4ubWFwR2V0dGVycyhbImd0eGNhcnRhb3BvbnRvRGF0YSIsICJzeXNkYXRlIl0pLA0KICAgIHBvbnRvKCkgew0KICAgICAgcmV0dXJuIHRoaXMuZ3R4Y2FydGFvcG9udG9EYXRhLm1hcChjPT4oey4uLmMsIF9yb3dWYXJpYW50OiBjLmludmFsaWRvPT0xID8gJ2RhbmdlcicgOiAnJ30pKTsNCiAgICB9LA0KICAgIHBhcmFtYnVzY2EoKSB7DQogICAgICByZXR1cm4gew0KICAgICAgICBhbm86IHRoaXMuYW5vLA0KICAgICAgICBtZXM6IHRoaXMubWVzLA0KICAgICAgfTsNCiAgICB9LA0KICAgIG1lc2VzcmVkdXppZG8oKSB7DQogICAgICByZXR1cm4gdGhpcy5tZXNlcy5tYXAobT0+KG0udGV4dC5zdWJzdHIoMCwzKSkpOw0KICAgIH0sDQogICAgdG90YWxob3JhcygpIHsNCiAgICAgIHJldHVybiB0aGlzLnBvbnRvLnJlZHVjZSgNCiAgICAgICAgKGEsIGIpID0+IHBhcnNlRmxvYXQoYSkgKyBwYXJzZUZsb2F0KGIuaG9yYXMpLA0KICAgICAgICAwDQogICAgICApOw0KICAgIH0sDQogIH0sDQoNCiAgbWV0aG9kczogew0KICAgIC4uLm1hcEFjdGlvbnMoWyJhY3RjYXJ0YW9wb250b2J1c2NhciJdKSwNCiAgICBtZXNjbGljayhtZXMpIHsNCiAgICAgIHRoaXMubWVzID0gbWVzOw0KICAgIH0sDQogICAgYnRubWVzKG1lcykgew0KICAgICAgcmV0dXJuIG1lcyA9PSB0aGlzLm1lcyAtIDEgPyAiYmctcHJpbWFyeSIgOiAiIjsNCiAgICB9LA0KICB9LA0KDQogIHdhdGNoOiB7DQogICAgcGFyYW1idXNjYShwYXJhbSkgew0KICAgICAgaWYgKHRoaXMucmVhZHkpIHRoaXMuYWN0Y2FydGFvcG9udG9idXNjYXIocGFyYW0pOw0KICAgIH0sDQogIH0sDQp9Ow0K"},{"version":3,"sources":["CartaoPonto.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAkEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA","file":"CartaoPonto.vue","sourceRoot":"src/pages/funcionarios/views","sourcesContent":["<template>\r\n  <div class=\"container mt-2\">\r\n    <b-card>\r\n      <template #header>\r\n        <h4 class=\"mb-0\">Cart√£o Ponto</h4>\r\n      </template>\r\n      <b-card-sub-title class=\"mb-2\">\r\n        <div class=\"d-inline-flex\">\r\n          <b-form-input\r\n            class=\"mr-2\"\r\n            type=\"number\"\r\n            v-model=\"ano\"\r\n            placeholder=\"Informe o ano\"\r\n            style=\"width: 65px\"\r\n          ></b-form-input>\r\n          <b-button-group style=\"flex-wrap: wrap\">\r\n            <b-button\r\n              v-for=\"(mes, i) of mesesreduzido\"\r\n              :key=\"i\"\r\n              :class=\"btnmes(i)\"\r\n              @click=\"mesclick(i + 1)\"\r\n            >\r\n              {{ mes }}\r\n            </b-button>\r\n          </b-button-group>\r\n        </div>\r\n      </b-card-sub-title>\r\n      <b-table hover striped small foot-clone :items=\"ponto\" :fields=\"fields\">\r\n        <template #cell(dia)=\"data\">\r\n          <span>\r\n            {{ data.item.data | dateDAY | LZero(2) }}\r\n            {{ data.item.data | weekname }}\r\n          </span>\r\n        </template>\r\n        <template #cell(registros)=\"data\">\r\n          <span>\r\n            {{ data.item.entrada_1 | Time }} -\r\n            {{ data.item.saida_1 | Time }}&nbsp;&nbsp;&nbsp;\r\n            {{ data.item.entrada_2 | Time }} - {{ data.item.saida_2 | Time }}\r\n          </span>\r\n        </template>\r\n        <template #cell(horas)=\"data\">\r\n          <!-- <span>{{ data.item.horas | decimals(2) }} | {{ (data.item.horas - 8.98) | decimals(2) }}</span> -->\r\n          <span>{{ data.item.horas | decimals(2) }}</span>\r\n        </template>\r\n        <template #foot(dia)=\"data\">\r\n          <span>{{ gtxcartaopontoData.length }}</span>\r\n        </template>\r\n        <template #foot()=\"data\">\r\n          <span></span>\r\n        </template>\r\n        <template #foot(horas)=\"data\">\r\n          <span>{{ totalhoras | decimals(2) }}</span>\r\n        </template>\r\n      </b-table>\r\n      <!--\r\n      <b-card-text>\r\n        {{ parambusca }} <br />\r\n        {{ sysdate }}\r\n        {{ \"900.566.980-20\" | RSecret }}\r\n      </b-card-text>\r\n      -->\r\n    </b-card>\r\n  </div>\r\n</template>\r\n<script>\r\nimport { mapGetters, mapActions } from \"vuex\";\r\nimport meses from \"../../../assets/json/meses.json\";\r\nexport default {\r\n  name: \"CartaoPonto\",\r\n\r\n  data() {\r\n    return {\r\n      ready: false,\r\n      meses: meses,\r\n      ano: 2021,\r\n      mes: 12,\r\n      fields: [\"dia\", \"registros\", \"horas\"],\r\n    };\r\n  },\r\n\r\n  mounted() {\r\n    this.ano = this.sysdate.year;\r\n    this.mes = this.sysdate.month;\r\n    this.ready = true;\r\n    /*\r\n    if (this.sysdate.day > 20) {\r\n      this.mes++;\r\n      if (this.mes > 12) {\r\n        this.ano++;\r\n        this.mes = 1;\r\n      }\r\n    }\r\n    */\r\n  },\r\n\r\n  computed: {\r\n    ...mapGetters([\"gtxcartaopontoData\", \"sysdate\"]),\r\n    ponto() {\r\n      return this.gtxcartaopontoData.map(c=>({...c, _rowVariant: c.invalido==1 ? 'danger' : ''}));\r\n    },\r\n    parambusca() {\r\n      return {\r\n        ano: this.ano,\r\n        mes: this.mes,\r\n      };\r\n    },\r\n    mesesreduzido() {\r\n      return this.meses.map(m=>(m.text.substr(0,3)));\r\n    },\r\n    totalhoras() {\r\n      return this.ponto.reduce(\r\n        (a, b) => parseFloat(a) + parseFloat(b.horas),\r\n        0\r\n      );\r\n    },\r\n  },\r\n\r\n  methods: {\r\n    ...mapActions([\"actcartaopontobuscar\"]),\r\n    mesclick(mes) {\r\n      this.mes = mes;\r\n    },\r\n    btnmes(mes) {\r\n      return mes == this.mes - 1 ? \"bg-primary\" : \"\";\r\n    },\r\n  },\r\n\r\n  watch: {\r\n    parambusca(param) {\r\n      if (this.ready) this.actcartaopontobuscar(param);\r\n    },\r\n  },\r\n};\r\n</script>\r\n"]}]}