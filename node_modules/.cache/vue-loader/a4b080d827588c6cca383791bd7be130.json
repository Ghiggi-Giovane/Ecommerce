{"remainingRequest":"C:\\k1-services\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\k1-services\\src\\pages\\controleluz\\views\\index.vue?vue&type=style&index=0&id=e8c82212&scoped=true&lang=css&","dependencies":[{"path":"C:\\k1-services\\src\\pages\\controleluz\\views\\index.vue","mtime":1701906516462},{"path":"C:\\k1-services\\node_modules\\css-loader\\dist\\cjs.js","mtime":1670977934642},{"path":"C:\\k1-services\\node_modules\\vue-loader\\lib\\loaders\\stylePostLoader.js","mtime":1674603024162},{"path":"C:\\k1-services\\node_modules\\postcss-loader\\src\\index.js","mtime":1670977935130},{"path":"C:\\k1-services\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1670977934221},{"path":"C:\\k1-services\\node_modules\\vue-loader\\lib\\index.js","mtime":1674603023821}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCg0KLm92ZXJmbG93LWhpZGRlbiB7DQogIGJvcmRlci1yYWRpdXM6IDEwcHg7DQogIGJvcmRlci13aWR0aDogM3B4Ow0KICBtYXgtd2lkdGg6IDEyMDBweDsNCiAgYm9yZGVyLWNvbG9yOiBibGFjazsNCiAgbWFyZ2luLXRvcDogLTEwcHg7DQp9DQouYWxpbmhhbWVudG8tY2FyZCB7DQogIG1hcmdpbi10b3A6IDEyNXB4Ow0KfQ0KLmZvcm0tc2VsZWN0IHsNCiAgYm9yZGVyOiAxcHggc29saWQgYmxhY2s7DQogIGJvcmRlci1yYWRpdXM6IDVweDsNCn0NCi5MdXpMT0dPcm91bmRlZC0wIHsNCiAgaGVpZ2h0OiA0NzlweDsNCn0NCi5zdGlja3ktaGVhZGVyIHsNCiAgbWF4LWhlaWdodDogMjAwcHg7DQogIGZvbnQtc2l6ZTogMTNweDsNCn0NCg0KLmJvdGFvLWFkaWNpb25hci1jb250YWRvciB7DQogIGhlaWdodDogMzNweDsNCiAgbWFyZ2luLXRvcDogMjNweDsNCiAgd2lkdGg6IDg2cHg7DQogIGJvcmRlcjogMXB4IHNvbGlkIGJsYWNrOw0KICBib3JkZXItcmFkaXVzOiA1cHg7DQp9DQoNCkBtZWRpYSAobWF4LXdpZHRoOiA0MjVweCkgew0KICAub3ZlcmZsb3ctaGlkZGVuIHsNCiAgICBib3JkZXItcmFkaXVzOiAxMHB4Ow0KICAgIGJvcmRlci13aWR0aDogM3B4Ow0KICAgIGJvcmRlci1jb2xvcjogYmxhY2s7DQogICAgbWFyZ2luLWxlZnQ6IDElOw0KDQogICAgbWFyZ2luLXJpZ2h0OiAxJTsNCiAgfQ0KICAuYWxpbmhhbWVudG8tY2FyZCB7DQogICAgbWFyZ2luLXRvcDogMjBweDsNCiAgfQ0KICAuTHV6TE9HT3JvdW5kZWQtMCB7DQogICAgaGVpZ2h0OiAyNTVweDsNCiAgfQ0KICAuYm90YW8tYWRpY2lvbmFyLWNvbnRhZG9yIHsNCiAgICBoZWlnaHQ6IDMzcHg7DQogICAgbWFyZ2luLXRvcDogMnB4Ow0KICAgIG1hcmdpbi1ib3R0b206IDExcHg7DQogICAgd2lkdGg6IDM3MXB4Ow0KICAgIG1hcmdpbi1sZWZ0OiAxNXB4Ow0KICB9DQp9DQpAbWVkaWEgKG1heC13aWR0aDogMzc1cHgpIHsNCiAgLm92ZXJmbG93LWhpZGRlbiB7DQogICAgYm9yZGVyLXJhZGl1czogMTBweDsNCiAgICBib3JkZXItd2lkdGg6IDNweDsNCiAgICBib3JkZXItY29sb3I6IGJsYWNrOw0KICAgIG1hcmdpbi1sZWZ0OiAxJTsNCiAgICBtYXJnaW4tcmlnaHQ6IDElOw0KICB9DQogIC5hbGluaGFtZW50by1jYXJkIHsNCiAgICBtYXJnaW4tdG9wOiAyMHB4Ow0KICB9DQogIC5MdXpMT0dPcm91bmRlZC0wIHsNCiAgICBoZWlnaHQ6IDI1NXB4Ow0KICB9DQogIC5ib3Rhby1hZGljaW9uYXItY29udGFkb3Igew0KICAgIGhlaWdodDogMzNweDsNCiAgICBtYXJnaW4tdG9wOiAycHg7DQogICAgbWFyZ2luLWJvdHRvbTogMTFweDsNCiAgICB3aWR0aDogMzIycHg7DQogICAgbWFyZ2luLWxlZnQ6IDE1cHg7DQogIH0NCn0NCkBtZWRpYSAobWF4LXdpZHRoOiAzMjBweCkgew0KICAub3ZlcmZsb3ctaGlkZGVuIHsNCiAgICBib3JkZXItcmFkaXVzOiAxMHB4Ow0KICAgIGJvcmRlci13aWR0aDogM3B4Ow0KICAgIGJvcmRlci1jb2xvcjogYmxhY2s7DQogICAgbWFyZ2luLWxlZnQ6IDElOw0KICAgIG1hcmdpbi1yaWdodDogMSU7DQogIH0NCiAgLmFsaW5oYW1lbnRvLWNhcmQgew0KICAgIG1hcmdpbi10b3A6IDIwcHg7DQogIH0NCiAgLkx1ekxPR09yb3VuZGVkLTAgew0KICAgIGhlaWdodDogMjU1cHg7DQogIH0NCiAgLmJvdGFvLWFkaWNpb25hci1jb250YWRvciB7DQogICAgaGVpZ2h0OiAzM3B4Ow0KICAgIG1hcmdpbi10b3A6IDJweDsNCiAgICBtYXJnaW4tYm90dG9tOiAxMXB4Ow0KDQogICAgd2lkdGg6IDI2OHB4Ow0KICAgIG1hcmdpbi1sZWZ0OiAxNXB4Ow0KICB9DQp9DQo="},{"version":3,"sources":["index.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAiTA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA","file":"index.vue","sourceRoot":"src/pages/controleluz/views","sourcesContent":["<template>\r\n  <div class=\"alinhamento-card\">\r\n    <div class=\"d-flex justify-content-center modal-dialog-centered\">\r\n      <b-card\r\n        no\r\n        body\r\n        class=\"overflow-hidden\"\r\n        header=\"Consumo de Energia\"\r\n        header-class=\"header-class\"\r\n      >\r\n        <b-row no-gutters>\r\n          <b-col cols=\"12\" sm=\"6\" style=\"margin: auto\">\r\n            <b-card-img\r\n              :src=\"LuzLOGO\"\r\n              alt=\"Image\"\r\n              class=\"LuzLOGOrounded-0\"\r\n            ></b-card-img>\r\n          </b-col>\r\n          <b-col cols=\"12\" sm=\"6\" style=\"margin: auto\">\r\n            <form ref=\"form\" class=\"needs-validation\">\r\n              <b-row>\r\n                <b-col cols=\"12\" lg=\"4\">\r\n                  <h6>Empresa</h6>\r\n                  <b-form-select\r\n                    name=\"Empresa\"\r\n                    class=\"form-select\"\r\n                    v-model=\"form.empresa\"\r\n                    :options=\"ContadorLuz_Empresa\"\r\n                    label=\"Empresa\"\r\n                  ></b-form-select>\r\n                </b-col>\r\n                <b-col cols=\"12\" sm=\"6\">\r\n                  <b-form-group\r\n                    label=\"Identificador Contador\"\r\n                    label-for=\"identificador\"\r\n                    invalid-feedback=\"identificador\"\r\n                  >\r\n                    <b-form-select\r\n                      id=\"identificador\"\r\n                      class=\"form-select\"\r\n                      v-model=\"form.identificador\"\r\n                      :options=\"\r\n                        (\r\n                          ContadorLuz_Empresa.find(\r\n                            (f) => f.value == this.form.empresa\r\n                          ) || { Identificador: [] }\r\n                        ).Identificador\r\n                      \"\r\n                      type=\"number\"\r\n                    ></b-form-select>\r\n                  </b-form-group>\r\n                </b-col>\r\n\r\n                <b-button\r\n                  variant=\"success\"\r\n                  v-b-modal.modal-1\r\n                  class=\"botao-adicionar-contador\"\r\n                >\r\n                  <b-icon icon=\"plus-square-fill\"></b-icon>\r\n                </b-button>\r\n\r\n                <b-col cols=\"12\" sm=\"12\">\r\n                  <b-form-group\r\n                    label=\"Registro KW/H\"\r\n                    label-for=\"registro\"\r\n                    invalid-feedback=\"registro\"\r\n                  >\r\n                    <b-form-input\r\n                      id=\"registro\"\r\n                      v-model=\"form.registrokwh\"\r\n                      class=\"form-select\"\r\n                      type=\"number\"\r\n                    ></b-form-input>\r\n                  </b-form-group>\r\n                </b-col>\r\n              </b-row>\r\n              <b-row>\r\n                <template>\r\n                  <b-col cols=\"12\" sm=\"12\" class=\"mb-2\">\r\n                    <b-table\r\n                      :items=\"controleluzvalores.data\"\r\n                      :fields=\"controleluzvalores.fields\"\r\n                      striped\r\n                      hover\r\n                      small\r\n                      sticky-header\r\n                      class=\"sticky-header\"\r\n                    ></b-table>\r\n                  </b-col>\r\n                </template>\r\n                <b-col cols=\"12\">\r\n                  <b-button\r\n                    variant=\"primary\"\r\n                    @click=\"submitForm\"\r\n                    :disabled=\"!isFormValid\"\r\n                    class=\"form-select\"\r\n                    block\r\n                  >\r\n                    Salvar\r\n                  </b-button>\r\n                </b-col>\r\n              </b-row>\r\n            </form>\r\n          </b-col>\r\n        </b-row>\r\n      </b-card>\r\n    </div>\r\n\r\n    <!--Modais-->\r\n\r\n    <b-modal\r\n      id=\"modal-1\"\r\n      centered\r\n      title=\"Contator\"\r\n      ok-title=\"Salvar\"\r\n      @ok=\"SalvaChamaIdentificador()\"\r\n    >\r\n      <form ref=\"form\" class=\"needs-validation\">\r\n        <b-row>\r\n          <b-col cols=\"12\" lg=\"6\">\r\n            <h6>Empresa</h6>\r\n            <b-form-select\r\n              name=\"Empresa\"\r\n              class=\"form-select\"\r\n              v-model=\"formContador.empresa\"\r\n              :options=\"ContadorLuz_Empresa\"\r\n              label=\"Empresa\"\r\n            ></b-form-select>\r\n          </b-col>\r\n          <b-col cols=\"12\" sm=\"6\">\r\n            <b-form-group\r\n              label=\"Identificador Contador\"\r\n              label-for=\"identificador\"\r\n              invalid-feedback=\"identificador\"\r\n            >\r\n              <b-form-input\r\n                id=\"identificador\"\r\n                class=\"form-select\"\r\n                v-model=\"formContador.identificador\"\r\n                type=\"number\"\r\n              ></b-form-input>\r\n            </b-form-group>\r\n          </b-col>\r\n          <b-col cols=\"12\" sm=\"6\">\r\n            <b-form-group\r\n              label=\"Descrição\"\r\n              label-for=\"descricao\"\r\n              invalid-feedback=\"descricao\"\r\n            >\r\n              <b-form-input\r\n                id=\"descricao\"\r\n                class=\"form-select\"\r\n                v-model=\"formContador.descricao\"\r\n              ></b-form-input>\r\n            </b-form-group>\r\n          </b-col>\r\n          <b-col cols=\"12\" sm=\"6\">\r\n            <b-form-group\r\n              label=\"Valor KW\"\r\n              label-for=\"valor\"\r\n              invalid-feedback=\"valor\"\r\n            >\r\n              <b-form-input\r\n                id=\"valor\"\r\n                class=\"form-select\"\r\n                v-model=\"formContador.valorKwh\"\r\n                type=\"number\"\r\n              ></b-form-input>\r\n            </b-form-group>\r\n          </b-col>\r\n        </b-row>\r\n      </form>\r\n    </b-modal>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport API from \"../../../services/api.service\";\r\nimport { mapGetters, mapActions } from \"vuex\";\r\n\r\nexport default {\r\n  name: \"ControleLuz\",\r\n  data() {\r\n    return {\r\n      Img: require(\"@/assets/consunoluz.svg\"),\r\n      ContadorLuz_Empresa: [],\r\n\r\n      form: {\r\n        empresa: \"\",\r\n        registrokwh: \"\",\r\n        identificador: \"\",\r\n      },\r\n\r\n      formContador: {\r\n        empresa: \"\",\r\n        identificador: \"\",\r\n        descricao: \"\",\r\n        valorKwh: \"\",\r\n      },\r\n\r\n      controleluzvalores: {\r\n        data: [],\r\n        fields: [\r\n          { key: \"selected\", label: \"\", thClass: \"text-left\" },\r\n          { key: \"Empresa\", label: \"Emp\", thClass: \"text-left\" },\r\n          {\r\n            key: \"Descricao\",\r\n            label: \"Desc\",\r\n            thClass: \"text-left tableCellSM\",\r\n            tdClass: \"tableCellSM\",\r\n          },\r\n          { key: \"ValorKwh\", label: \"Val/Kwh\" },\r\n          {\r\n            key: \"Data\",\r\n            label: \"Data\",\r\n            thClass: \"text-left tableCellSM\",\r\n            tdClass: \"tableCellSM\",\r\n          },\r\n          { key: \"RegistroKwh\", label: \"RegistroKwh\" },\r\n        ],\r\n      },\r\n    };\r\n  },\r\n  beforeMount() {\r\n    this.ContadorLuzEmpresaContador();\r\n    this.ControleLuzValores();\r\n  },\r\n  computed: {\r\n    LuzLOGO() {\r\n      return require(\"../../../assets/consunoluz.svg\");\r\n    },\r\n    isFormValid() {\r\n      return (\r\n        this.form.empresa > 0 &&\r\n        this.form.registrokwh > 0 &&\r\n        this.form.identificador > 0\r\n      );\r\n    },\r\n  },\r\n  methods: {\r\n    submitForm() {\r\n      if (this.isFormValid == true) {\r\n        this.AvaliacaoSalvar();\r\n      } else {\r\n        alert(\"error\");\r\n      }\r\n    },\r\n    SalvaChamaIdentificador() {\r\n      this.AvaliacaoSalvarContador();\r\n      this.ContadorLuzEmpresaContador();\r\n    },\r\n    AvaliacaoSalvar() {\r\n      API.post(\"v2/Servicos/ConsumoEnergia/Post\", this.form).then((api) => {\r\n        if (api.data.Success == \"True\" || api.data.Success) {\r\n          this.$root.toastsuccess(\"Avaliação salva com sucesso!\");\r\n          this.ControleLuzValores();\r\n        } else {\r\n          this.$root.toastdanger(api.data.Error);\r\n        }\r\n        this.limpar();\r\n      });\r\n    },\r\n    AvaliacaoSalvarContador() {\r\n      API.post(\r\n        \"v2/Servicos/ConsumoEnergiaContador/Post\",\r\n        this.formContador\r\n      ).then((api) => {\r\n        if (api.data.Success == \"True\" || api.data.Success) {\r\n          this.$root.toastsuccess(\"Contador salvo com sucesso!\");\r\n        } else {\r\n          this.$root.toastdanger(api.data.Error);\r\n        }\r\n      });\r\n    },\r\n    ContadorLuzEmpresaContador() {\r\n      API.get(\"v2/Servicos/ControleLuzEmpresaContador/Get\").then((api) => {\r\n        if (api.data.Success == \"True\" || api.data.Success) {\r\n          this.ContadorLuz_Empresa = api.data.Data;\r\n        } else {\r\n          this.ContadorLuz_Empresa = [];\r\n        }\r\n      });\r\n    },\r\n    ControleLuzValores() {\r\n      API.get(\"v2/Servicos/ControleLuzvalores/Get\").then((api) => {\r\n        if (api.data.Success == \"True\" || api.data.Success) {\r\n          this.controleluzvalores.data = api.data.Data;\r\n        } else {\r\n          this.controleluzvalores.data = [];\r\n        }\r\n      });\r\n    },\r\n    limpar() {\r\n      this.form = {\r\n        empresa: \"\",\r\n        registrokwh: \"\",\r\n        valorKwh: \"\",\r\n        identificador: \"\",\r\n      };\r\n    },\r\n  },\r\n};\r\n</script>\r\n\r\n<style scoped>\r\n.overflow-hidden {\r\n  border-radius: 10px;\r\n  border-width: 3px;\r\n  max-width: 1200px;\r\n  border-color: black;\r\n  margin-top: -10px;\r\n}\r\n.alinhamento-card {\r\n  margin-top: 125px;\r\n}\r\n.form-select {\r\n  border: 1px solid black;\r\n  border-radius: 5px;\r\n}\r\n.LuzLOGOrounded-0 {\r\n  height: 479px;\r\n}\r\n.sticky-header {\r\n  max-height: 200px;\r\n  font-size: 13px;\r\n}\r\n\r\n.botao-adicionar-contador {\r\n  height: 33px;\r\n  margin-top: 23px;\r\n  width: 86px;\r\n  border: 1px solid black;\r\n  border-radius: 5px;\r\n}\r\n\r\n@media (max-width: 425px) {\r\n  .overflow-hidden {\r\n    border-radius: 10px;\r\n    border-width: 3px;\r\n    border-color: black;\r\n    margin-left: 1%;\r\n\r\n    margin-right: 1%;\r\n  }\r\n  .alinhamento-card {\r\n    margin-top: 20px;\r\n  }\r\n  .LuzLOGOrounded-0 {\r\n    height: 255px;\r\n  }\r\n  .botao-adicionar-contador {\r\n    height: 33px;\r\n    margin-top: 2px;\r\n    margin-bottom: 11px;\r\n    width: 371px;\r\n    margin-left: 15px;\r\n  }\r\n}\r\n@media (max-width: 375px) {\r\n  .overflow-hidden {\r\n    border-radius: 10px;\r\n    border-width: 3px;\r\n    border-color: black;\r\n    margin-left: 1%;\r\n    margin-right: 1%;\r\n  }\r\n  .alinhamento-card {\r\n    margin-top: 20px;\r\n  }\r\n  .LuzLOGOrounded-0 {\r\n    height: 255px;\r\n  }\r\n  .botao-adicionar-contador {\r\n    height: 33px;\r\n    margin-top: 2px;\r\n    margin-bottom: 11px;\r\n    width: 322px;\r\n    margin-left: 15px;\r\n  }\r\n}\r\n@media (max-width: 320px) {\r\n  .overflow-hidden {\r\n    border-radius: 10px;\r\n    border-width: 3px;\r\n    border-color: black;\r\n    margin-left: 1%;\r\n    margin-right: 1%;\r\n  }\r\n  .alinhamento-card {\r\n    margin-top: 20px;\r\n  }\r\n  .LuzLOGOrounded-0 {\r\n    height: 255px;\r\n  }\r\n  .botao-adicionar-contador {\r\n    height: 33px;\r\n    margin-top: 2px;\r\n    margin-bottom: 11px;\r\n\r\n    width: 268px;\r\n    margin-left: 15px;\r\n  }\r\n}\r\n</style>\r\n"]}]}